{
    "status": "vor",
    "id": "00289",
    "version": 1,
    "type": "research-article",
    "doi": "10.34196/ijm.00289",
    "authorLine": "Rachel J Bacon et al.",
    "title": "Stay on Target: Population Projections and Microsimulation Design",
    "published": "2023-12-31T00:00:00Z",
    "versionDate": "2023-12-31T00:00:00Z",
    "statusDate": "2023-12-31T00:00:00Z",
    "volume": 16,
    "issue": 3,
    "fpage": 77,
    "lpage": 99,
    "elocationId": "77-99",
    "pdf": "http://web:8082/00289/ijm-00289.pdf",
    "subjects": [
        {
            "id": "demography-dynamic-microsimulation",
            "name": "Demography Dynamic microsimulation"
        }
    ],
    "abstract": {
        "content": [
            {
                "text": "Even though standard cohort component models are relatively easy to comprehend, designing simulations to match expected population estimates and projections in multiple countries and over long spans of time is surprisingly challenging. We identify microsimulation design options that replicate United Nations population estimates and projections in three countries (Norway, United States, and India) over a 150-year time span. The design adapts the United Nations cohort component model, which implies a certain ordering of demographic events, and uses either cohorts or age groups to assign risk. We design four simple microsimulations that use United Nations demographic statistics as exogenous variables. One model adjusts event ordering and assignment of risk by age, called the Split Fertility design, and one model does not. Each model operates in either one- or five-year steps. The Split Fertility design has less than one percent divergence in total births, deaths, and population in all three countries. The simpler design produces varying magnitudes of divergence, as large as 20% in India. The Split Fertility design is suitable for simulations that seek to maintain population dynamics in multiple countries, whether operating in one- or five-year steps. The Split Fertility design is ideal for comparative simulations that adapt demographic statistics from cohort component models. Development of the design highlights the flexibility of simulations and the importance of careful interpretation of exogenous statistics in simulation design.",
                "type": "paragraph"
            }
        ]
    },
    "copyright": {
        "license": "CC-BY-4.0",
        "holder": "Bacon et al.",
        "statement": "This article is distributed under the terms of the <a href=\"http://creativecommons.org/licenses/by/4.0/\">Creative Commons Attribution License</a>, which permits unrestricted use and redistribution provided that the original author and source are credited."
    },
    "authors": [
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "United States",
                            "locality": [
                                "Boston"
                            ]
                        },
                        "formatted": [
                            "Boston",
                            "United States"
                        ]
                    },
                    "name": [
                        "Center for Mind and Culture"
                    ]
                }
            ],
            "emailAddresses": [
                "rbacon@mindandculture.org"
            ],
            "name": {
                "index": "Bacon, Rachel J",
                "preferred": "Rachel J Bacon"
            },
            "orcid": "0000-0002-8154-2199",
            "type": "person"
        },
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "United States",
                            "locality": [
                                "Boston"
                            ]
                        },
                        "formatted": [
                            "Boston",
                            "United States"
                        ]
                    },
                    "name": [
                        "Center for Mind and Culture"
                    ]
                }
            ],
            "name": {
                "index": "Hodulik, George",
                "preferred": "George Hodulik"
            },
            "orcid": "0000-0003-0623-4564",
            "type": "person"
        },
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "United Kingdom",
                            "locality": [
                                "London"
                            ]
                        },
                        "formatted": [
                            "London",
                            "United Kingdom"
                        ]
                    },
                    "name": [
                        "University College London"
                    ]
                }
            ],
            "name": {
                "index": "Voas, David",
                "preferred": "David Voas"
            },
            "orcid": "0000-0003-4094-1369",
            "type": "person"
        },
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "Norway",
                            "locality": [
                                "Kristiansand"
                            ]
                        },
                        "formatted": [
                            "Kristiansand",
                            "Norway"
                        ]
                    },
                    "name": [
                        "NORCE Center for Modelling Social Systems"
                    ]
                }
            ],
            "name": {
                "index": "Puga-Gonzalez, Ivan",
                "preferred": "Ivan Puga-Gonzalez"
            },
            "orcid": "0000-0003-2510-6760",
            "type": "person"
        },
        {
            "name": {
                "index": "Wildman, Wesley J",
                "preferred": "Wesley J Wildman"
            },
            "orcid": "0000-0002-7571-1259",
            "type": "person"
        }
    ],
    "funding": {
        "statement": "This work was supported by the John Templeton Foundation (Modeling Religious Change, #61074)."
    },
    "dataSets": {
        "availability": [
            {
                "text": "The authors used publicly available data for this analysis. The 2019 Revision of the World Population Prospects are available as excel files to download from the archive section of the United Nations website: <a href=\"https://population.un.org/wpp/Download/Archive/Standard/\">https://population.un.org/wpp/Download/Archive/Standard/</a>. The data are available without registration and are not proprietary.",
                "type": "paragraph"
            },
            {
                "text": "The model was built in AnyLogic version 8.7.6. AnyLogic can be downloaded and installed at: <a href=\"https://www.anylogic.com/downloads/\">https://www.anylogic.com/downloads/</a>. There is a free personal learning edition that can load the model and run the model at low agent counts. An AnyLogic Professional or Researcher license is required to run the model at the scale ran in the paper (100K initial agents).",
                "type": "paragraph"
            },
            {
                "text": "Results from the AnyLogic models were compiled and made into graphs using R version 4.1.2. R is open-source and can be downloaded and installed at: <a href=\"https://www.r-project.org/\">https://www.r-project.org/</a>.",
                "type": "paragraph"
            },
            {
                "text": "The AnyLogic and R code for this paper are available as replication materials on a GitHub repository accessible at: <a href=\"https://github.com/centerformindandculture/UN-CCM-2-MICROSIM\">https://github.com/centerformindandculture/UN-CCM-2-MICROSIM</a>. Others can re-use the code under a Creative Commons license, and we request our paper be cited when borrowing portions of the code.",
                "type": "paragraph"
            }
        ]
    },
    "keywords": [
        "Cohort Component Model",
        "Microsimulation",
        "Population Projection",
        "Demographic Statistics"
    ],
    "body": [
        {
            "content": [
                {
                    "text": "As computing capabilities expand, simulations can model complex processes among larger populations of artificial agents over longer periods of time (<a href=\"#bib1\">Anderson and Hicks, 2011</a>). Agents can represent actual populations in a given region, where they are assigned characteristics (e.g., sex, ethnicity), engage in relevant behaviors (e.g., marriage, having children), and age as time advances. Research questions drive the specific design and outcome variables of a simulation, including the implementation of demographic processes. For some projects, modeling population change is central, while in others it is only a background process. In the latter case, a popular option is using demographic rates as exogenous variables, so that agents experience demographic events as state transitions (e.g. dying or giving birth) determined by an external statistic. This approach seems straightforward, but simulation design is highly flexible and there is a veritable host of implementation options for demographic events (for overviews of demographic microsimulations and their options, see: <a href=\"#bib4\">Birkin and Wu, 2012</a>; <a href=\"#bib7\">Li and O\u2019Donoghue, 2013</a>; <a href=\"#bib10\">Mason, 2014</a>; <a href=\"#bib12\">Morand et al., 2010</a>; <a href=\"#bib20\">Spielauer, 2011</a>; <a href=\"#bib24\">Van Imhoff and Post, 1998</a>; <a href=\"#bib25\">Zagheni, 2015</a>; <a href=\"#bib26\">Zaidi and Rake, 2001</a>). Even when using high-quality exogenous variables, microsimulations can produce unexpectedly divergent outcomes (<a href=\"#bib8\">Li and O\u2019Donoghue, 2014</a>).",
                    "type": "paragraph"
                },
                {
                    "text": "We identify a set of simulation design options, called Split Fertility, which replicate the United Nations (UN) 2019 World Population Prospects estimates and projections in multiple countries over the 1950-2100 period. Our design adapts the UN cohort component model (CCM), which operates under specific assumptions and with specific mortality, fertility, and migration statistics. Even though standard CCMs like the UN\u2019s are relatively easy to comprehend, designing simulations to match UN estimates and projections in multiple countries and over long spans of time is surprisingly challenging. Guidance on how to adapt demographic statistics from a CCM to a microsimulation is sparse (a chapter on the topic in a SAS manual was only published in 2021) (<a href=\"#bib9\">Marois and KC, 2021</a>), and the \u2018black box\u2019 of design decisions in existing complex demographic microsimulations is overwhelming (<a href=\"#bib5\">Dekkers, 2010</a>). Knowledge of the mathematical relationships in demographic statistics is easily taken for granted, creating an invisible hurdle to overcome when designing a microsimulation from scratch.",
                    "type": "paragraph"
                },
                {
                    "text": "When faced with a deluge of data sources and decision-making for microsimulation design, it is tempting to interpret statistics as the probability of experiencing an event for people in the displayed categories (e.g. women aged 20-24) (<a href=\"#bib24\">Van Imhoff and Post, 1998</a>), and to use alignment procedures to correct divergence (<a href=\"#bib8\">Li and O\u2019Donoghue, 2014</a>). As we demonstrate, taking an intuitive interpretation of UN statistics in a microsimulation can produce very large population divergences in some countries, depending on prevailing population dynamics. Reducing that divergence requires a detailed understanding of how the UN\u2019s demographic statistics produce expected population dynamics within a standard CCM. In particular, we implement the CCM\u2019s implied ordering of demographic events, accommodate UN statistics that use cohorts instead of current age to assign risk, and make additional adjustments when converting between five- and one-year time steps.",
                    "type": "paragraph"
                },
                {
                    "text": "The Split Fertility design closely matches UN CCM estimates and projections of population dynamics in multiple countries. Matching UN CCM population projections with a microsimulation approach is valuable for several reasons. It enables implementing population dynamics in all countries modeled by the UN, and it strengthens the validity of simulation model results against a well-regarded standard (<a href=\"#bib13\">Morrison, 2008</a>). In this paper, we describe in detail why the design works, which makes it accessible to those unfamiliar with traditional demographic techniques and statistics. The Split Fertility design is sensible given a thorough understanding of UN statistics and assumptions, but not particularly intuitive. We therefore compare the Split Fertility design to a simpler microsimulation design and identify country-specific conditions that produce particularly high or low divergence from UN data. We make the Split Fertility design freely available to use as a demography module in a simulation of any country with UN population projection and estimation data.",
                    "type": "paragraph"
                },
                {
                    "text": "Computational simulations of population change are extremely flexible in implementation. This means that they force into the open measurement assumptions latent within less flexible CCM projections, allowing demographers to take full responsibility for whatever assumptions they finally adopt. The possibility of competing implementation assumptions invites measures of the difference it makes to adopt one design option over alternatives. This paper quantifies this difference in a basic way, using the UN CCM as a standard for comparison. Importantly, multiple approaches are supported in computational simulation, another indication of the utility of simulation methods for demography.",
                    "type": "paragraph"
                }
            ],
            "id": "s1",
            "title": "1. Introduction",
            "type": "section"
        },
        {
            "content": [
                {
                    "content": [
                        {
                            "text": "There is a variety of human population simulation models. Because our purpose is to replicate the UN CCM projections, we focus on dynamic microsimulation models (MSMs) that treat demographic statistics as exogenous variables. By dynamic, we are referring to MSMs that involve the passage of time and allow individual agents to age and for agent characteristics to change due to exogenous demographic rates (<a href=\"#bib7\">Li and O\u2019Donoghue, 2013</a>). Dynamic MSMs are similar to agent-based models (ABMs) in that both focus on the level of individual agents. However, agents in ABMs typically interact, respond to processes endogenous to the model, take account of individual differences in agents, and allow for relatively complex cognition and behavior. By contrast, the agents in MSMs are placeholders for the imposition of stipulated stochastic events, such as probabilities of transitions between states (e.g. dying, giving birth, migrating). Thus, the MSMs we consider represent a \u201ctop-down\u201d approach to simulating population change, whereas ABMs typically emphasize \u201cbottom-up\u201d behaviors and interactions between individuals that produce non-linear feedback effects (<a href=\"#bib25\">Zagheni, 2015</a>). It is possible to employ hybrid models that mix top-down and bottom-up components, and may include complex behaviors, interactions, and transition probabilities shaped by both micro- and macro-level variables (<a href=\"#bib2\">Bae et al., 2016</a>; <a href=\"#bib4\">Birkin and Wu, 2012</a>). For simplicity, we will refer to dynamic MSMs or hybrid models as simulations hereafter.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The implementation of demographic rates as exogenous variables that update as time advances is a popular option in many policy-focused simulations (<a href=\"#bib7\">Li and O\u2019Donoghue, 2013</a>). For instance, healthcare demand and social-care models simulate the need for, and availability of, family- or formal-sourced care for young or older populations over time (<a href=\"#bib6\">Gostoli and Silverman, 2020</a>; <a href=\"#bib11\">Mielczarek and Zabawa, 2021</a>; <a href=\"#bib22\">Spijker et al., 2022</a>). When designing a simulation that treats population dynamics as exogenous, it is intuitive to use reliable demographic statistics that are easily accessible. Most simulations designed for a particular region or country use statistics from local governments. The DemoCare model, for example, is a hybrid model that follows cohorts of individuals as they age and are exposed to an exogenous risk of fertility and death, where the risk is determined by population statistics from Spain in 1908 to 1968 (<a href=\"#bib22\">Spijker et al., 2022</a>).",
                            "type": "paragraph"
                        },
                        {
                            "text": "Simulations that can use demographic statistics to model population outcomes in multiple countries are rare (for a notable exception, see <a href=\"#bib21\">Spielauer and Dupriez, 2019</a>). One hindrance to comparative model design is the availability of standardized data and proper implementation of that data in different countries. The World Population Prospect reports from the UN provide fertility, mortality, migration, and total population statistics by age and sex for all countries across a 150-year timespan (<a href=\"#bib23\">United Nations, 2019</a>). The UN datasets are therefore a unique source for multi-country and comparative simulations, and permit the use of exogenous statistics in simulations for both the past and future. The UN uses a CCM to connect past and future demographic statistics to the total expected population outcomes. However, there is little guidance on how to adapt the demographic information provided by the UN into a simulation. In the following sections, we review the UN\u2019s methods and explain why simulations can diverge from the UN\u2019s population outputs even when using intuitive designs and applying the UN\u2019s demographic statistics as inputs.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s2-1",
                    "title": "2.1 Population Dynamics and Dynamic Simulations",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "The UN develops population estimates and projections for nearly every country, and they periodically revise their estimates and projections. As part of this effort, the UN painstakingly estimates past fertility, mortality, and migration for each country using demographic techniques that standardize statistics from government, survey, and other sources (<a href=\"#bib23\">United Nations, 2019</a>). The UN\u2019s 2019 revision uses Bayesian techniques and explicit assumptions about trends in fertility, mortality, and migration to calculate demographic statistics that cover future periods (2020-2100). The UN publishes variants of projections, or scenarios, based on different explicit assumptions. The Medium Variant projection scenario assumes birth rates will converge to a global medium, life spans will generally increase, and migration will continue at the count last observed for the 2015-2020 interval; these assumptions are consistent with contemporary demographic theory and are tractable at the global scale (<a href=\"#bib23\">United Nations, 2019</a>). The UN therefore estimates demographic statistics for the 1950-2020 period retrospectively using observed data, and uses demographic theory and statistical techniques to derive future demographic statistics. The entire process is iterative and the UN must maintain a global net balance in population totals.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Despite variation in how the UN calculates each country\u2019s estimates and projections from different data sources and methods, past and future demographic statistics operate seamlessly within the CCM to produce population totals for the entire 1950-2100 period. The UN\u2019s CCM starts in 1950 with the estimate of total population by sex and five-year age groups, and moves forward in five-year intervals.<a href=\"#fn1\"><sup>1</sup></a> The number of births is determined using age-specific fertility rates (ASFRs), a proportion of people in each age group survives based on survival ratios (SRs), and everyone is aged forward five years. The count of net migrants is also added or removed before the next five-year interval. Despite changes in how fertility, mortality, and migration statistics are derived in the estimation years (1950-2020) and the projection years (2020-2100), the CCM procedure can start from any five-year interval between 1950 and 2095 and be repeated until 2100 (<a href=\"#bib23\">United Nations, 2019</a>).",
                            "type": "paragraph"
                        },
                        {
                            "text": "The UN\u2019s demographic data are high quality and freely available to use as exogenous variables in a simulation of any country\u2019s population covering up to 150 years. The UN\u2019s CCM procedure seems straightforward, suggesting that a match between simulation and CCM outcomes is simple to achieve. In fact, the rich implementation-assumption space of simulations surfaces complexities in the CCM procedure. The CCM has an implied ordering of demographic events and non-intuitive assignment of risk using cohorts. To understand these complexities, we must examine the demographic statistics used as inputs in the UN\u2019s CCM model and the assumptions underlying time and age concepts.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s2-2",
                    "title": "2.2 The UN\u2019s Demographic Statistics and the Cohort Component Method",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "CCM and simulation approaches differ in how they assign the probability of experiencing an event at a given point in time (<a href=\"#bib24\">Van Imhoff and Post, 1998</a>). In a simulation approach, agents have an individual probability of experiencing each event based on their characteristics (e.g. age, sex) and behaviors (if relevant; in the case of the MSMs in this paper, agent behaviors are <i>not</i> relevant). When operating with discrete time, the agent will experience an event instantaneously at a specific time. A major design decision is selecting the order that agents may experience events. Events can occur in a set order, in a random order for each agent, in an order where the higher probability event always occurs first, or with multi-step Monte Carlo experiments to determine the conditional probability of each event (for a discussion of competing risk in microsimulation, see <a href=\"#bib24\">Van Imhoff and Post, 1998</a>). Event order can be decided based on theory, realism, the structure of the original data source, and/or for computational efficiency.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The structures of UN demographic statistics have consequences for selecting event ordering and assignment of risk by age for a simulation. Unlike individual-level probabilities in a simulation where events occur instantaneously in a given moment, many demographic statistics are in the form of an \u201coccurrence/exposure\u201d rate for a given period of time (<a href=\"#bib16\">Preston et al., 2000</a>). That is, the number of occurrences (e.g. births) is the numerator, and the denominator is the number of people exposed to the risk (e.g. the female population of childbearing ages), over a time interval, such as five years. Membership of the population at risk can change within five years, because people simultaneously move in/out of the geographic area, die, age into a different risk group, or experience some other state change (<a href=\"#bib24\">Van Imhoff and Post, 1998</a>). Demographic rates therefore use the mid-point population to identify the average population at risk and account for this alteration in the population at risk over time The mid-point population is the simple average of the population at time t and time t+5, where t is the starting year population (e.g. 1950) and t+5 is the population after all other events like mortality, aging, and migration have occurred (e.g., 1955) (<a href=\"#bib16\">Preston et al., 2000</a>). Using the mid-point population can seem like \u2018borrowing\u2019 information from the future, which conflicts with a simulation approach in which time marches forward continually.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Consider the age-specific fertility rates (ASFRs), which represent the number of live births per year and per 1,000 females in an age group. The count of at-risk persons is the five year interval\u2019s mid-point female population in the age group (e.g. average of those aged 20-24 in 1950 and in 1955). The ASFRs, therefore, represent the average risk of childbirth per year over a five-year interval, and presume information about the start and ending time point to identify the population at risk. Between time t and time t+5, some in the female population will die, migrate, and everyone will age each year, which moves them into a different age group\u2019s fertility rate. In a simulation, the ASFRs will produce the wrong number of births if treated as a probability of birth occurring during the interval and if it is applied only once in a set order (e.g. always before or always after mortality), because there are either too many or too few agents in the population at risk at the given moment.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Some demographic statistics use birth cohort instead of age to describe the population at risk over a time interval. Using the cohort means group membership has a more permanent designation based on year of birth (e.g. those born in 1950-1954), rather than current age that advances each year. For instance, to identify how many people in a cohort survive from the beginning of a five-year interval to the next, the UN\u2019s CCM uses the survival ratio (SR) statistic. The SR is calculated from an abridged life table, which is a classic tool used in demography to describe different pieces of information about how a birth cohort \u201cdies out\u201d over time (<a href=\"#bib16\">Preston et al., 2000</a>). In a five-year CCM, the SR is the proportion of a cohort surviving from age x to x+5 from time t to t+5. The SR for males aged 20-24 in 1950, for example, describes the proportion that will survive into 1955 to become ages 25-29. Unlike the ASFRs that use a mid-point population, the SR applies to cohorts present at the beginning of the interval and to the newest cohorts born during the interval. The SR explicitly ignores changes in the population at risk when people enter or leave via migration. In a simulation, therefore, mortality should occur before aging and migration, and must occur after new births.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Migration statistics in CCM models can also rely on cohort designations, though some are designed as average exposure rates like ASFRs (<a href=\"#bib16\">Preston et al., 2000</a>). In the case of the UN\u2019s CCM, migration is best handled using cohorts, and the UN\u2019s net migration statistic is provided as a count instead of a rate. The count of UN net migrants corresponds to the number of migrants to add or remove at the end of each five-year interval after everyone has been born, survived, and aged forward. This seems strange, but it is necessary because net migration is the residual between observed changes from natural increase (births minus deaths) and the total population at time t+5.<a href=\"#fn2\"><sup>2</sup></a> The UN only published total net migrant counts by sex (not age) in the 2019 revision. Therefore, it is necessary to calculate the age distribution of net migrants by applying the CCM calculations before using the statistic in a simulation (see the appendix for our net-migration calculation procedure).<a href=\"#fn3\"><sup>3</sup></a> Since migration is calculated after each cohort is aged forward, the cohort designations of net migrants match their age at the end of each five-year interval. In a simulation, migrants should be added or removed after mortality and aging.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Across all demographic events, differences in magnitude by age are apparent. Age groups may refer to the current age in any given year, or they may be birth cohort designations described by the population\u2019s age at the beginning or end of the five-year interval. Users unfamiliar with conventional cohort designations may experience confusion when interpreting the age labels in UN data used to calculate CCMs. For instance, the UN lifetables show SR (column name is Sx,n) statistics for those of initial age 0, 1, and 5 on separate rows. It is not accurate to interpret these as applying to those aged 0-1, 1-4, and 5-9, respectively, and there are exceptions to interpreting them as the population\u2019s initial age as well. The first entry for initial age \u201c0\u201d is the proportion of new cohorts born over the five-year interval (e.g. new births in 1950-54) who will survive to be the new 0-4 age group by the end (e.g. 1955). The SR for initial age \u201c1\u201d is the proportion of the population aged 0-4 at the start of the five-year interval who will survive to ages 5-9. The SR of initial age \u201c5\u201d does describe survivorship of those aged 5-9 at the beginning of the interval who will be 10-14 by the end. Subsequent initial ages in the life tables are interpreted similarly. This labeling may seem misleading but interpreting it this way ensures full coverage of both newborn and other young cohorts while distinguishing important differences in early life mortality risk. After calculating migration counts from a CCM procedure, it is also important to interpret the resulting age groups carefully. Migrants in the 0-4 group, for instance, refers to those who are age 0-4 at the end of the five-year period. Knowledge of how to interpret age groupings for each demographic event is important to assigning risk in a simulation to the appropriate set of agents and in the correct order.",
                            "type": "paragraph"
                        },
                        {
                            "text": "With this more in-depth understanding of the implied event ordering of the UN\u2019s demographic statistics in the CCM,<a href=\"#fn4\"><sup>4</sup></a> designing a simulation that assigns risk to the appropriate population while operating prospectively is more complicated. How should a simulation use the UN\u2019s statistics to maintain population dynamics at the individual level? As we will demonstrate, however, simply by adjusting the order of demographic events in a simulation, we can achieve an exact match with the UN\u2019s expected births, deaths, and total population when operating in five-year time steps. Several more adjustments are necessary to achieve a close match when operating in one-year step, but we believe these adjustments are worth the effort, particularly in high-growth countries.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s2-3",
                    "title": "2.3 Demographic Statistics, Event Ordering, and the Population at Risk",
                    "type": "section"
                }
            ],
            "id": "s2",
            "title": "2. Background",
            "type": "section"
        },
        {
            "content": [
                {
                    "content": [
                        {
                            "text": "Not everyone who uses UN or similarly structured demographic statistics has a detailed understanding of the CCM method or how to interpret ASFRs, SRs, and net migration counts for a simulation. It is reasonable to assume that a simulation designer may attempt an intuitive approach first. For instance, consider an \u2018Intuitive\u2019 design that mimics how the UN\u2019s CCM appears to order demographic events, and only uses current age to assign risk.<a href=\"#fn5\"><sup>5</sup></a> This design is incorrect, but it serves as a useful foil for the correct approach. Suppose there is a version of the model that operates in five-year steps, and one that operates in one-year steps. The following demographic events occur in the specified order during each time step:",
                            "type": "paragraph"
                        },
                        {
                            "items": [
                                [
                                    {
                                        "text": "Fertility: female agents experience the full time step\u2019s childbearing risk according to their current age and corresponding ASFR.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Mortality: agents experience death according to their current age and corresponding age labels for SR in the UN lifetable. Those who die are removed from the simulation.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Aging: surviving agents advance in age.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Migration: immigrants arrive and emigrants are removed from the simulation according to their current age and corresponding age labels for net migrants calculated from the UN data.",
                                        "type": "paragraph"
                                    }
                                ]
                            ],
                            "prefix": "number",
                            "type": "list"
                        },
                        {
                            "text": "This design\u2019s event ordering ignores the meaning of the mid-point population for the ASFRs, which uses exposure to account for the fact that all processes (births, deaths, migrations) are occurring simultaneously in real life. When applied to a simulation, the structure of the ASFR statistic suggests fertility occurs both before and after mortality, aging, and migration. When operating in a five-year step, this design will only be reliable when population dynamics maintain the size of female cohorts over time (e.g. a stationary one). If societal conditions favor a decline in females of high childbearing risk between the beginning and end of the five-year interval, there will be more births than expected. When the female population at elevated risk grows between the start and end of the interval, however, there will be fewer births than expected. When switching to a one-year step, the ASFR ordering problem is minimized because fertility occurs every year along with mortality, aging, and migration. Although the entire five-year fertility risk still favors female agents present before other demographic events occur, the magnitude of the problem is smaller.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The Intuitive design correctly places mortality before aging and migration after aging, which means that agents\u2019 current age is the same as their cohort designations when mortality and migration occurs in the simulation. However, this is only true when operating in five-year steps. If current age is used to assign mortality and migration at the one-year step, then after the first one-year step, some agents will have a different cohort\u2019s SR applied to them than intended by the CCM. Applying the SR according to current age will generally overestimate deaths because it exposes younger agents to higher rates of death prematurely. Applying the SR by current age will also underestimate infant deaths because newborn cohorts age out of their high-risk cohort designation too soon.<a href=\"#fn6\"><sup>6</sup></a> The impact of incorrect assignment by age for migration is highly variable and depends on the age distribution of emigration and immigration for a given country and time. In general, migrants will leave or enter the simulation at a current age five years older than their cohort designation implies. That is, if an immigrant is arriving in 1950 to the \u201c10\u201d cohort designation, they should actually arrive as age \u201c5\u201d because their cohort corresponds to the age they will be in 1955, not 1950. Therefore, when cohort designation is interpreted as current age, migrants would be in an older age group when experiencing other demographic events.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Population dynamics are inherently connected, so higher or lower expected births leads to divergence in deaths and the size of the overall population, and the impact can compound with successive cohorts. If there are too few births over time, the cohorts of childbearing female agents will be smaller and there are even fewer births in later decades. Societal conditions can also reverse over time to favor too many births, deaths, or vice versa. Country-specific population dynamics, therefore, can produce very different profiles of divergence over a 150-year span.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s3-1",
                    "title": "3.1 An Intuitive Interpretation",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "So, what is the solution? We propose the Split Fertility design, which splits the fertility process so that childbearing happens twice instead of only once during each time step. At each round of the fertility process, that risk is halved according to the time steps of the model (e.g. 2.5 years of risk when operating in five-year steps, and 0.5 years of risk when operating in one-year steps). New agents born in the second round of fertility must immediately experience mortality and aging, so that they join their fellow infant cohort born in the first round of fertility. We summarize the order of events and assignment of risk in the Split Fertility design below:",
                            "type": "paragraph"
                        },
                        {
                            "items": [
                                [
                                    {
                                        "text": "The first round of <b>fertility</b>: female agents experience half of the childbearing risk for the time step according to their current age and corresponding ASFR.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "<b>Mortality:</b> agents experience death according to their initial cohort age and corresponding age labels for SR in the UN data. Those who die are removed from the simulation.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "<b>Aging</b>: surviving agents advance in age.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "<b>Migration</b>: immigrants arrive and emigrants are removed from the simulation according to their ending cohort age and corresponding age labels for net migrants calculated from the UN data.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "The second round of <b>fertility</b>: female agents experience another half of the childbearing risk for the time step according to their current age and corresponding ASFR.",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Second round infant <b>mortality and aging</b>: only applies to new agents born in the second round of fertility.",
                                        "type": "paragraph"
                                    }
                                ]
                            ],
                            "prefix": "number",
                            "type": "list"
                        },
                        {
                            "text": "By splitting the fertility risk, we replicate the mid-point population while also operating entirely prospectively. Doing so allows half of fertility risk to occur before mortality, aging, and migration, and half to occur after those events. Mortality and migration still occur in the order specified in the CCM, and to the appropriate age groups for a model operating in five-year steps.",
                            "type": "paragraph"
                        },
                        {
                            "text": "When operating in one-year steps, however, we make additional adjustments to risk assignment by age to use cohort designations for mortality and migration events. As previously described, the SR applies to the cohort present at the beginning of each five-year interval and new births. The SR cohort designation generally matches current age at the beginning of each five-year interval. The cohort designations for migration counts, however, correspond to current age at the end of each five-year interval. This means that a one-year model must track agents\u2019 current age, as well as starting and ending ages that match their cohort designations.<a href=\"#fn7\"><sup>7</sup></a> <a href=\"#table1\">Table 1</a> shows the age assignments for a hypothetical female agent aged 43 at the start of a five-year interval (t=0). Round two refers to the agent\u2019s characteristics during the second round of fertility in the Split Fertility design, which occurs after mortality, migration, and the aging process. Starting age is set to match current age at t=0, and end age adds five years onto initial age. The values of starting and end age do not change until the next five-year interval. As shown, the fertility rate follows current age, the SR always matches the starting age, and the selection of migrants always corresponds to immigrant or emigrant agents\u2019 end age.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "table1",
                                    "label": "Table 1",
                                    "tables": [
                                        "<table><thead><tr><th align=\"left\"/><th align=\"left\">t=0</th><th align=\"left\">Rnd. 2</th><th align=\"left\">t=1</th><th align=\"left\">Rnd. 2</th><th align=\"left\">t=2</th><th align=\"left\">Rnd. 2</th><th align=\"left\">t=3</th><th align=\"left\">Rnd. 2</th><th align=\"left\">t=4</th><th align=\"left\">Rnd. 2</th></tr></thead><tbody><tr><td align=\"left\" colspan=\"11\">Agent Age Characteristics</td></tr><tr><td align=\"left\">Current Age</td><td align=\"left\">43</td><td align=\"left\">44</td><td align=\"left\">44</td><td align=\"left\">45</td><td align=\"left\">45</td><td align=\"left\">46</td><td align=\"left\">46</td><td align=\"left\">47</td><td align=\"left\">47</td><td align=\"left\">48</td></tr><tr><td align=\"left\">Starting Age</td><td align=\"left\">43</td><td align=\"left\"/><td align=\"left\">43</td><td align=\"left\"/><td align=\"left\">43</td><td align=\"left\"/><td align=\"left\">43</td><td align=\"left\"/><td align=\"left\">43</td><td align=\"left\"/></tr><tr><td align=\"left\">Ending Age</td><td align=\"left\">48</td><td align=\"left\"/><td align=\"left\">48</td><td align=\"left\"/><td align=\"left\">48</td><td align=\"left\"/><td align=\"left\">48</td><td align=\"left\"/><td align=\"left\">48</td><td align=\"left\"/></tr><tr><td align=\"left\" colspan=\"11\">Corresponding Age Labels for UN Statistics</td></tr><tr><td align=\"left\">Fertility Rate</td><td align=\"left\">40-44</td><td align=\"left\">40-44</td><td align=\"left\">40-44</td><td align=\"left\">45-49</td><td align=\"left\">45-49</td><td align=\"left\">45-49</td><td align=\"left\">45-49</td><td align=\"left\">45-49</td><td align=\"left\">45-49</td><td align=\"left\">45-49</td></tr><tr><td align=\"left\">Survival Ratio</td><td align=\"left\">40-44</td><td align=\"left\"/><td align=\"left\">40-44</td><td align=\"left\"/><td align=\"left\">40-44</td><td align=\"left\"/><td align=\"left\">40-44</td><td align=\"left\"/><td align=\"left\">40-44</td><td align=\"left\"/></tr><tr><td align=\"left\">Migration Count</td><td align=\"left\">45-49</td><td align=\"left\"/><td align=\"left\">45-49</td><td align=\"left\"/><td align=\"left\">45-49</td><td align=\"left\"/><td align=\"left\">45-49</td><td align=\"left\"/><td align=\"left\">45-49</td><td align=\"left\"/></tr></tbody></table>"
                                    ],
                                    "title": "Assignment of Demographic Event Risk by Age for 1-year Split Fertility Design",
                                    "type": "table"
                                }
                            ],
                            "type": "figure"
                        },
                        {
                            "text": "Three other adjustments to the mortality and migration process are required to achieve the best fit to UN targets when operating in one-year steps. First, it is necessary to grant immigrants special immunity to death for the remaining years of each five-year interval. Since the SR only assigns risk to those present (or born) since the beginning of each five-year interval and immigrants arrive each year, they must be immune to death until the next interval starts.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The second and third adjustments apply to new cohorts born over a five-year interval to account for the uneven exposure to risk that newborn cohorts experience in their first five-year interval. It is helpful to visualize years of risk experienced by each newborn cohort as shown in <a href=\"#table2\">Table 2</a>, which resembles a simplified lexis diagram. Cohort \u201cA\u201d is born in the first year and is exposed to a full five-years of risk, while cohort \u201cE\u201d is born in the last year of a five-year interval and experiences only one-year of risk. When all years of risk (the cells in gray) are summed, there are 15 years of total risk across five newborn cohorts. In contrast, older cohorts would have all gray cells in the table filled in and experience 25 years of risk across five cohorts.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "table2",
                                    "label": "Table 2",
                                    "tables": [
                                        "<table><thead><tr><th align=\"left\">Cohort</th><th align=\"left\">Year 0</th><th align=\"left\">Year 1</th><th align=\"left\">Year 2</th><th align=\"left\">Year 3</th><th align=\"left\">Year 4</th><th align=\"left\">Total Years of Risk</th><th align=\"left\">Percent of Total</th></tr></thead><tbody><tr><td align=\"left\">A</td><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">5</td><td align=\"left\">33</td></tr><tr><td align=\"left\">B</td><td align=\"left\"/><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">4</td><td align=\"left\">27</td></tr><tr><td align=\"left\">C</td><td align=\"left\"/><td align=\"left\"/><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">3</td><td align=\"left\">20</td></tr><tr><td align=\"left\">D</td><td align=\"left\"/><td align=\"left\"/><td align=\"left\"/><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">2</td><td align=\"left\">13</td></tr><tr><td align=\"left\">E</td><td align=\"left\"/><td align=\"left\"/><td align=\"left\"/><td align=\"left\"/><td align=\"left\">1</td><td align=\"left\">1</td><td align=\"left\">7</td></tr><tr><td align=\"left\">Total</td><td align=\"left\"/><td align=\"left\"/><td align=\"left\"/><td align=\"left\"/><td align=\"left\"/><td align=\"left\">15</td><td align=\"left\">100</td></tr></tbody></table>"
                                    ],
                                    "title": "Years of Risk among Newborn Cohorts",
                                    "type": "table"
                                }
                            ],
                            "type": "figure"
                        },
                        {
                            "text": "It is intuitive to calculate yearly net migrants as the UN\u2019s total count divided by 25 for older cohorts, resulting in an even distribution of migrants among all individual ages in each cohort. But among newborn cohorts, the yearly risk should be divided by 15. This adjustment effectively results in the first newborn cohort receiving about 1/3 of newborn cohorts\u2019 total net migrants, and the last newborn cohort only about 7%.<a href=\"#fn8\"><sup>8</sup></a> We must similarly adjust the calculation of mortality risk for newborn cohorts. Since the SR is expressed as probability of survival across a five-year interval, annual mortality risk among older cohorts is calculated by taking the UN SR to the fifth root and subtracting it from one. That is, the mortality rate (Model MR) for non-newborns is calculated as:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mrow><mo>(</mo><mrow><mi>M</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi><mtext>\u00a0</mtext><mi>M</mi><mi>R</mi></mrow><mo>)</mo></mrow><mo>=</mo><mn>1</mn><mo>\u2212</mo><mroot><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>S</mi><mi>R</mi></mrow><mo>)</mo></mrow><mn>5</mn></mroot></mrow></mstyle></math>",
                            "type": "mathml"
                        },
                        {
                            "text": "We estimate annual mortality risk among newborn cohorts by taking the third root of the SR instead, which accounts for the newborn cohorts experiencing only 15 out of the 25 total years of exposure over the five-year interval (i.e. 5 * 15/25 = 3). This is a simple adjustment that achieves a close fit to expected deaths while giving each newborn cohort differing exposure to risk over the five-year interval<a href=\"#fn9\"><sup>9</sup></a> . Therefore, among newborn cohorts (SR[0]), the mortality rate is calculated as:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mrow><mo>(</mo><mrow><mi>M</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi><mtext>\u00a0</mtext><mi>M</mi><mi>R</mi><mo stretchy=\"false\">[</mo><mn>0</mn><mo stretchy=\"false\">]</mo></mrow><mo>)</mo></mrow><mo>=</mo><mn>1</mn><mo>\u2212</mo><mroot><mrow><mi>U</mi><mi>N</mi><mi>S</mi><mi>R</mi><mrow><mo>[</mo><mn>0</mn><mo>]</mo></mrow></mrow><mn>3</mn></mroot></mrow></mstyle></math>",
                            "type": "mathml"
                        },
                        {
                            "text": "These adjustments are sensible with a thorough understanding of the UN\u2019s statistics, but they are not intuitive. This is why the one-year version of the Intuitive design only uses current age to assign risk and doesn\u2019t afford special treatment to infants\u2019 calculation of risk or grant any immunities to immigrants. In the one-year Intuitive design, infant migrant counts and survival ratios are divided the same way as among agents in all other age groups. Contrasting the Intuitive and Split Fertility designs highlights the flexibility of simulations in implementing demographic statistics, and the importance of event ordering and how risk is assigned by age in a simulation.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s3-2",
                    "title": "3.2 The Split Fertility Design",
                    "type": "section"
                }
            ],
            "id": "s3",
            "title": "3. Two Demographic Microsimulation Designs",
            "type": "section"
        },
        {
            "content": [
                {
                    "content": [
                        {
                            "text": "Data for MSM inputs and validation come from the UN\u2019s 2019 World Population Prospects report for the countries of Norway, the United States (US), and India (<a href=\"#bib23\">United Nations, 2019</a>). These three countries vary considerably in size and population dynamics over the 1950-2100 period. India is at an earlier stage of the demographic transition than the US and Norway. It has a much younger population and higher mortality risk in 1950 that drops quickly while fertility declines at a slower pace. Finally, India has much lower and net negative migration relative to its population size; although the US has relatively high net positive migration throughout the period, Norway achieves the highest net migrants relative to its population. These national differences challenge simulation-CCM matching in diverse ways. We downloaded UN data for each country on the population age/sex distribution, age-specific fertility rates, the abridged life table, infant sex ratios, as well as the total count of births, deaths, and net migrants.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s4-1",
                    "title": "4.1 Data",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "We designed four MSMs with AnyLogic 8.7.6: the Intuitive design in five-year steps and one-year steps, and the Split Fertility design in five-year steps and one-year steps. The Intuitive and Split Fertility designs differ in the ordering of demographic events and adjustments to the fertility rates, and the one-year versions differ in the risk assignment of agents by age. All models share common-sense adjustments to calculations when converting between annual and five-year periods of risk. The characteristics of each model and formulas are summarized in <a href=\"#table3\">Table 3</a>, and described in more detail below.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "table3",
                                    "label": "Table 3",
                                    "tables": [
                                        "<table><thead><tr><th align=\"left\"/><th align=\"left\" colspan=\"2\">Intuitive Models</th><th align=\"left\" colspan=\"2\">Split Fertility Models</th></tr></thead><tbody><tr><td align=\"left\">Time</td><td align=\"left\">5-year step and interval<br/>t =T= [1950,1955,\u20262100]</td><td align=\"left\">1-year step t= [0,1,2,3,4],<br/>5-year interval T=[1950,1955,\u20262100]</td><td align=\"left\">5-year step and interval<br/>t =T= [1950,1955,\u20262100]</td><td align=\"left\">1-year step t= (0,1,2,3,4),<br/>5-year interval T=[1950,1955,\u20262100]</td></tr><tr><td align=\"left\">Event ordering</td><td align=\"left\">0) Initialization,<br/>1) fertility,<br/>2) infant initialization,<br/>3) mortality,<br/>4) aging,<br/>5) migration,<br/>6) time step/interval advancement, T+5.</td><td align=\"left\">0) Initialization,<br/>1) fertility,<br/>2) infant initialization,<br/>3) mortality,<br/>4) aging,<br/>5) migration,<br/>6) time step advancement,<br/>7) repeat events 1-6 for t&lt;5 until interval advancement, T+5.</td><td align=\"left\">0) Initialization,<br/>1) fertility (round one),<br/>2) infant initialization (round one),<br/>3) mortality,<br/>4) aging,<br/>5) migration<br/>6) fertility round two,<br/>7) infant initialization (round two),<br/>8) second round infant mortality,<br/>9) second round infant aging<br/>10) time step/interval advancement, T+5.</td><td align=\"left\">0) Initialization,<br/>1) fertility (round one),<br/>2) infant initialization (round one),<br/>3) mortality,<br/>4) aging,<br/>5) migration<br/>6) fertility round two,<br/>7) infant initialization (round two),<br/>8) second round infant mortality,<br/>9) second round infant aging<br/>10) time step advancement,<br/>11) repeat events 1-10 for t&lt;5 until interval advancement, T+5.</td></tr><tr><td align=\"left\">Current age (A)</td><td align=\"left\">5-year age groups, A=[0,5\u2026105]</td><td align=\"left\">1-year age groups A=[0,1,\u2026105]</td><td align=\"left\">5-year age groups, A=[0,5\u2026105]</td><td align=\"left\">1-year age groups A=[0,1,\u2026105]<br/>For immigrants: A=eA-t</td></tr><tr><td align=\"left\">Initial age (iA)</td><td align=\"left\">Not Applicable</td><td align=\"left\">Not Applicable</td><td align=\"left\">Not Applicable</td><td align=\"left\">iA=A-t</td></tr><tr><td align=\"left\">End age (eA)</td><td align=\"left\">Not Applicable</td><td align=\"left\">Not Applicable</td><td align=\"left\">Not Applicable</td><td align=\"left\">eA=A+(5-t)</td></tr><tr><td align=\"left\">Model Age-Specific Fertility Rates (ASFR)</td><td align=\"left\">\u2003<math id=\"inf1\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>A</mi><mi>S</mi><mi>F</mi><mi>R</mi></mrow><mo>)</mo></mrow><mn>1000</mn></mfrac><mo>\u2217</mo><mn>5</mn></mrow></mstyle></math></td><td align=\"left\"><math id=\"inf2\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>A</mi><mi>S</mi><mi>F</mi><mi>R</mi></mrow><mo>)</mo></mrow><mn>1000</mn></mfrac></mrow></mstyle></math>;<br/>Apply to current age (A)</td><td align=\"left\"><math id=\"inf3\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>A</mi><mi>S</mi><mi>F</mi><mi>R</mi></mrow><mo>)</mo></mrow><mn>1000</mn></mfrac><mo>\u2217</mo><mfrac><mn>5</mn><mn>2</mn></mfrac></mrow></mstyle></math></td><td align=\"left\"><math id=\"inf4\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>A</mi><mi>S</mi><mi>F</mi><mi>R</mi></mrow><mo>)</mo></mrow><mn>1000</mn></mfrac><mo>\u2217</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></mstyle></math>; Apply to current age (A)</td></tr><tr><td align=\"left\">Infant initialization</td><td align=\"left\">Assigned age -5, and sex based on UN sex ratio</td><td align=\"left\">Assigned age -1, and sex based on UN sex ratio</td><td align=\"left\">Assigned age -5, and sex based on UN sex ratio</td><td align=\"left\">Assigned age -1, and sex based on UN sex ratio.</td></tr><tr><td align=\"left\">Model Mortality Rate (MR)</td><td align=\"left\">1 - (UNSR)</td><td align=\"left\"><math id=\"inf5\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mn>1</mn><mo>\u2212</mo><mroot><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>S</mi><mi>R</mi></mrow><mo>)</mo></mrow><mn>5</mn></mroot></mrow></mstyle></math>;<br/>Apply to current age (A)</td><td align=\"left\">1 - (UNSR)</td><td align=\"left\"><math id=\"inf6\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mn>1</mn><mo>\u2212</mo><mroot><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>S</mi><mi>R</mi></mrow><mo>)</mo></mrow><mn>5</mn></mroot></mrow></mstyle></math>; Apply to initial age (iA).<br/>For newborn cohorts: <math id=\"inf7\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mn>1</mn><mo>\u2212</mo><mroot><mrow><mi>U</mi><mi>N</mi><mi>S</mi><mi>R</mi><mrow><mo>[</mo><mn>0</mn><mo>]</mo></mrow></mrow><mn>3</mn></mroot></mrow></mstyle></math> ;<br/>For agents age 110+: 1.<br/>For immigrants: no mortality</td></tr><tr><td align=\"left\">Model Emigration count (EC)</td><td align=\"left\">(UNEC) * (Sample%)</td><td align=\"left\"><math alttext=\"\\frac{\\left (UNEC\\right)*\\left (Sample\\text{\\% }\\right)}{25}\" id=\"inf8\"><mfrac><mrow><mfenced separators=\"|\"><mrow><mi>U</mi><mi>N</mi><mi>E</mi><mi>C</mi></mrow></mfenced><mi>*</mi><mfenced separators=\"|\"><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mtext>%</mtext></mrow></mfenced></mrow><mrow><mn>25</mn></mrow></mfrac></math>;<br/>Apply to current age (A)</td><td align=\"left\">(UNEC) * (Sample%)</td><td align=\"left\"><math id=\"inf9\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>E</mi><mi>C</mi></mrow><mo>)</mo></mrow><mo>\u2217</mo><mrow><mo>(</mo><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mtext>\\%\u00a0</mtext></mrow><mo>)</mo></mrow></mrow><mn>25</mn></mfrac></mrow></mstyle></math>; Apply to end age (eA).<br/>For newborn cohorts:<math id=\"inf10\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>E</mi><mi>C</mi></mrow><mo>)</mo></mrow><mo>\u2217</mo><mrow><mo>(</mo><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mtext>\\%\u00a0</mtext></mrow><mo>)</mo></mrow></mrow><mn>15</mn></mfrac></mrow></mstyle></math></td></tr><tr><td align=\"left\">Model Immigration count (IC)</td><td align=\"left\">(UNIC) * (Sample%)</td><td align=\"left\"><math alttext=\"\\frac{\\left (UNIC\\right)*\\left (Sample\\text{\\% }\\right)}{25}\" id=\"inf11\"><mfrac><mrow><mfenced separators=\"|\"><mrow><mi>U</mi><mi>N</mi><mi>I</mi><mi>C</mi></mrow></mfenced><mi>*</mi><mfenced separators=\"|\"><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mtext>%</mtext></mrow></mfenced></mrow><mrow><mn>25</mn></mrow></mfrac></math>;<br/>Apply to current age (A)</td><td align=\"left\">(UNIC) * (Sample%)</td><td align=\"left\"><math id=\"inf12\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>I</mi><mi>C</mi></mrow><mo>)</mo></mrow><mo>\u2217</mo><mrow><mo>(</mo><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mtext>\\%\u00a0</mtext></mrow><mo>)</mo></mrow></mrow><mn>25</mn></mfrac></mrow></mstyle></math>; Apply to end age (eA).<br/>For newborn cohorts:<math id=\"inf13\"><mstyle displaystyle=\"true\" scriptlevel=\"0\"><mrow><mfrac><mrow><mrow><mo>(</mo><mrow><mi>U</mi><mi>N</mi><mi>I</mi><mi>C</mi></mrow><mo>)</mo></mrow><mo>\u2217</mo><mrow><mo>(</mo><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mtext>\\%\u00a0</mtext></mrow><mo>)</mo></mrow></mrow><mn>15</mn></mfrac></mrow></mstyle></math><br/>Note: All immigrants receive a tag to provide immunity to mortality and emigration.</td></tr><tr><td align=\"left\">Immigrant initialization</td><td align=\"left\">Assign current age (A)</td><td align=\"left\">Assign current age (A)</td><td align=\"left\">Assign current age (A)</td><td align=\"left\">Assign end age (eA), then calculate A and iA by subtracting remaining time steps and 5, respectively.</td></tr><tr><td align=\"left\">Period advance</td><td align=\"left\">NA</td><td align=\"left\">t + 1</td><td align=\"left\">NA</td><td align=\"left\">t + 1</td></tr><tr><td align=\"left\">Interval advance</td><td align=\"left\" colspan=\"4\">T + 5, remove any tags that identify newborn cohorts or immigrant agents</td></tr></tbody></table>"
                                    ],
                                    "title": "Model Design Characteristics and Formulas",
                                    "type": "table"
                                }
                            ],
                            "type": "figure"
                        },
                        {
                            "text": "All four models are \u201ctop down\u201d designs that use the sorting method for variance reduction (<a href=\"#bib3\">Bekkering, 1995</a>; <a href=\"#bib24\">Van Imhoff and Post, 1998</a>). To determine how many agents die and are born each time step, we apply the UN\u2019s statistics as a rate to the size of the appropriate age/sex group of agents present at a given time. The resulting number of agents within the corresponding age/sex grouping are selected at random to experience the event. In the case of fertility, newborn agents are randomly assigned to female agents in the corresponding age group. For migration, we simply select the number to emigrate at random among the appropriate age/sex group, and initialize the number of immigrants as appropriate. The statistics update with every five-year interval, according to the availability of the UN data. The UN\u2019s statistics are therefore exogenous, but the population at risk by age/sex characteristics is endogenous. This approach allows us to highlight the consequences of altering the event order and age assignment of risk, without interpreting random variation in the number of events as divergence from UN targets. Supplementary material in the appendix shows results using a more stochastic design (demographic rates and distributions are implemented as the probability of each agent experiencing the demographic event).",
                            "type": "paragraph"
                        },
                        {
                            "text": "The statistics from the UN determine the age and sex distribution of the population at initialization and birth. Each simulation uses an initial sample of 100,000 agents, which is more efficient than running at full scale in each country, but still large enough to avoid substantial rounding errors common to the sorting method (<a href=\"#bib3\">Bekkering, 1995</a>). At initialization, the sample of 100,000 agents matches the age and sex distributions of each country in 1950 according to UN data. In the five-year versions of the models, we use the UN\u2019s data on sex and five-year age groups to initialize agent characteristics (i.e. agents are age 0, 5, 10, 15, etc.). In the one-year versions of the models, we use the UN\u2019s data on sex and age in individual years to initialize agent characteristics (e.g. agents are age 0, 1, 2, 3, etc.).<a href=\"#fn10\"><sup>10</sup></a> When new agents are born, they are assigned a sex to match the UN\u2019s infant sex ratio.",
                            "type": "paragraph"
                        },
                        {
                            "text": "For the fertility process, each model makes slight adjustments to the UN ASFRs, which originally express annual births per 1000 females over a five-year interval. In the one-year version of the Intuitive design, we simply divide the ASFRs by 1000 to calculate the annual births per female agent. In the five-year version of the Intuitive design, we also multiply the ASFRs by five to expose female agents to the entire five-year interval\u2019s risk of childbirth at once. We do the same adjustments for the Split Fertility designs, but we also halve the UN ASFRs, so that half of childbearing risk occurs in round one before mortality, aging, and migration, and half occurs afterward in round two fertility. These adjusted formulas are shown in <a href=\"#table3\">Table 3</a>. Newborn agents initialize immediately after each fertility event and they receive a sex based on the UN\u2019s infant sex ratio. In the five-year versions of each model, newborn agents are assigned an age of negative five, and in the one-year versions of each model they are assigned an age of negative one. After the second round of fertility, newborn agents immediately experience mortality and aging. This ensures that by the end of each interval, second round infants join first round infants in the same age group.",
                            "type": "paragraph"
                        },
                        {
                            "text": "For the mortality process, we also made slight adjustments to the UN SRs before applying them to agents in a particular age/sex group. The UN SR expresses the entire five-year interval survival for those present at the start of the interval and for new births. Formulas to convert the UN SR to a mortality rate for interval and annual risk are shown in <a href=\"#table3\">Table 3</a>. In the five-year versions of each model, we calculate mortality risk by subtracting the SR from one. In the one-year versions of each model, annual survival can be estimated as the fifth root of the SR, and therefore the annual risk of death is one minus that value. In the Intuitive design and the five-year designs, we apply mortality risk to agents based on their current age. Agents aged 100-104 experience the same risk as those aged 95-99, and agents who reach an age of 105-109 have a mortality rate of 1 so that no agents are aged 110 or older. In the one-year version of the Split Fertility design, the mortality risk applies to agents based on their initial age instead of their current age. Also, for newborn cohorts, we take the third root of the SR instead of the fifth root. Lastly, immigrant agents in the one-year Split Fertility design are immune from mortality risk until the start of the next five-year interval.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Migration is split into emigration and immigration processes, with adjustments to their calculations also shown in <a href=\"#table3\">Table 3</a>. We start with the count of net migrants by age group and sex for each five-year interval, which we derive from the UN\u2019s CCM procedure. Since all four simulations start with 100,000 agents instead of the full population of each country, we must scale down the count of net migrants accordingly. We designate negative counts as emigrants and positive counts as immigrants. For emigration in the five-year models, we randomly draw agents to match the known count of emigrants in each age/sex group, and remove them from the simulation. For the immigration process, the corresponding number of new agents initialize into the simulation. In the one-year version, because we select emigrants across five years and five age groupings, we divide the known emigrant count by 25, and remove that number of emigrants for each one-year age/sex group. We do the same for the one-year version of immigration, dividing the known count of immigrants by 25 before generating new agents. In the Split Fertility design, newborn cohort migrants are divided by 15 instead of 25. Importantly, immigrants in the Split Fertility design initialize by their age at the end of the interval, so we calculate their current age by subtracting the remaining number of years in the five-year interval. This ensures the immigrant agent is the correct age at the end of the interval and not older than expected when contributing to fertility. To match expected values for immigration, immigrant agents in the Split Fertility design are immune from death and emigration risk until the five-year interval ends.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s4-2",
                    "title": "4.2 Microsimulation Models",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "A calculation of mean relative divergence is commonly used to externally validate population projections operating with the same underlying assumptions (<a href=\"#bib9\">Marois and KC, 2021</a>). To compare the size of the divergence between models and over time, we calculated the average percent divergence in the expected number of births, deaths, and total population in relation to the UN\u2019s CCM-derived values. First, we summed the absolute difference between the UN and MSM results at the end of each five-year interval, and averaged that difference for the entire 1950-2199 period as well as for 50-year subsets (i.e., 1950-1999, 2000-2049, and 2050-2099). The percent difference is calculated using the UN\u2019s results as the denominator for each outcome. An average of 2.6% divergence for births, for instance, means that births exceed or fall short of the UN\u2019s value by 2.6% on average for the time period shown. We assess skew toward positive or negative divergence visually.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s4-3",
                    "title": "4.3 Comparison Metrics",
                    "type": "section"
                }
            ],
            "id": "s4",
            "title": "4. Methods",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "<a href=\"#table4\">Table 4</a> shows how the five-year versions of the intuitive and Split Fertility models compare in the average divergence from the UN counts of births, deaths, and the total population. In all three countries, the Split Fertility design replicates the UN target values. The Intuitive design leads to a divergence of varying magnitude. The distance from the UN figures is largest in India, where the population is off by an average of 8.9% across all periods, while it is only 2.7% in the US and 1.5% in Norway. For all countries, the divergence in births appears largest during the 2000-2049 period, while divergences in deaths and total population increase with time. By the 2050-2099 period, the Intuitive design in India averages a sizeable divergence (10%) in total population.",
                    "type": "paragraph"
                },
                {
                    "assets": [
                        {
                            "footnotes": [
                                {
                                    "id": "T4_FN1",
                                    "label": "*",
                                    "text": [
                                        {
                                            "text": "Split Fertility Design",
                                            "type": "paragraph"
                                        }
                                    ]
                                }
                            ],
                            "id": "table4",
                            "label": "Table 4",
                            "tables": [
                                "<table><thead><tr><th align=\"left\" colspan=\"2\"/><th align=\"left\" colspan=\"2\">Births</th><th align=\"left\" colspan=\"2\">Deaths</th><th align=\"left\" colspan=\"2\">Total Population</th></tr><tr><th align=\"left\">Country</th><th align=\"left\">Period</th><th align=\"left\">Intuitive</th><th align=\"left\">SF<a href=\"#T4_FN1\">*</a></th><th align=\"left\">Intuitive</th><th align=\"left\">SF<a href=\"#T4_FN1\">*</a></th><th align=\"left\">Intuitive</th><th align=\"left\">SF<a href=\"#T4_FN1\">*</a></th></tr></thead><tbody><tr><td align=\"left\"><b>Norway</b></td><td align=\"left\">1950-2099</td><td align=\"left\">2.7</td><td align=\"left\">0.0</td><td align=\"left\">0.8</td><td align=\"left\">0.0</td><td align=\"left\">1.5</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">1950-1999</td><td align=\"left\">2.6</td><td align=\"left\">0.0</td><td align=\"left\">0.1</td><td align=\"left\">0.0</td><td align=\"left\">0.5</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">2000-2049</td><td align=\"left\">2.7</td><td align=\"left\">0.0</td><td align=\"left\">0.2</td><td align=\"left\">0.0</td><td align=\"left\">1.5</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">2050-2099</td><td align=\"left\">2.7</td><td align=\"left\">0.0</td><td align=\"left\">1.5</td><td align=\"left\">0.0</td><td align=\"left\">2.0</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"><b>USA</b></td><td align=\"left\">1950-2099</td><td align=\"left\">3.7</td><td align=\"left\">0.0</td><td align=\"left\">1.8</td><td align=\"left\">0.0</td><td align=\"left\">2.7</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">1950-1999</td><td align=\"left\">3.6</td><td align=\"left\">0.0</td><td align=\"left\">0.2</td><td align=\"left\">0.1</td><td align=\"left\">1.3</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">2000-2049</td><td align=\"left\">4.2</td><td align=\"left\">0.0</td><td align=\"left\">1.0</td><td align=\"left\">0.0</td><td align=\"left\">3.0</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">2050-2099</td><td align=\"left\">3.4</td><td align=\"left\">0.0</td><td align=\"left\">3.1</td><td align=\"left\">0.0</td><td align=\"left\">3.2</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"><b>India</b></td><td align=\"left\">1950-2099</td><td align=\"left\">9.3</td><td align=\"left\">0.0</td><td align=\"left\">7.0</td><td align=\"left\">0.0</td><td align=\"left\">8.9</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">1950-1999</td><td align=\"left\">7.3</td><td align=\"left\">0.0</td><td align=\"left\">3.2</td><td align=\"left\">0.0</td><td align=\"left\">4.0</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">2000-2049</td><td align=\"left\">11.2</td><td align=\"left\">0.0</td><td align=\"left\">5.0</td><td align=\"left\">0.0</td><td align=\"left\">9.3</td><td align=\"left\">0.0</td></tr><tr><td align=\"left\"/><td align=\"left\">2050-2099</td><td align=\"left\">9.4</td><td align=\"left\">0.0</td><td align=\"left\">10.1</td><td align=\"left\">0.0</td><td align=\"left\">10.7</td><td align=\"left\">0.0</td></tr></tbody></table>"
                            ],
                            "title": "Average Percent Divergence from UN Target Values in 5-year Models",
                            "type": "table"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "text": "<a href=\"#table5\">Table 5</a> shows the one-year versions of the Intuitive design and the Split Fertility design. The Intuitive design consistently produces the most divergence in all three countries. The Split Fertility design improves upon the Intuitive design in all countries, however, it does not eliminate divergence completely. Average overall divergence across the three countries and demographic outcomes are around 1% or less when using the Split Fertility design. Compared to the five-year Intuitive design, the one-year version of the Intuitive design produces slightly smaller divergence in the US and Norway, but the diverge in India is much larger. Across all demographic outcomes, overall divergence in India\u2019s one-year Intuitive model is over 20%.",
                    "type": "paragraph"
                },
                {
                    "assets": [
                        {
                            "footnotes": [
                                {
                                    "id": "T5_FN1",
                                    "label": "*",
                                    "text": [
                                        {
                                            "text": "Split Fertility Design",
                                            "type": "paragraph"
                                        }
                                    ]
                                }
                            ],
                            "id": "table5",
                            "label": "Table 5",
                            "tables": [
                                "<table><thead><tr><th align=\"left\" colspan=\"2\"/><th align=\"left\" colspan=\"2\">Births</th><th align=\"left\" colspan=\"2\">Deaths</th><th align=\"left\" colspan=\"2\">Total Population</th></tr><tr><th align=\"left\">Country</th><th align=\"left\">Period</th><th align=\"left\">Intuitive</th><th align=\"left\">SF<a href=\"#T5_FN1\">*</a></th><th align=\"left\">Intuitive</th><th align=\"left\">SF<a href=\"#T5_FN1\">*</a></th><th align=\"left\">Intuitive</th><th align=\"left\">SF<a href=\"#T5_FN1\">*</a></th></tr></thead><tbody><tr><td align=\"left\"><b>Norway</b></td><td align=\"left\">1950-2099</td><td align=\"left\">1.6</td><td align=\"left\">0.3</td><td align=\"left\">3.3</td><td align=\"left\">0.5</td><td align=\"left\">2.1</td><td align=\"left\">0.3</td></tr><tr><td align=\"left\"/><td align=\"left\">1950-1999</td><td align=\"left\">1.0</td><td align=\"left\">0.3</td><td align=\"left\">3.3</td><td align=\"left\">0.9</td><td align=\"left\">1.2</td><td align=\"left\">0.1</td></tr><tr><td align=\"left\"/><td align=\"left\">2000-2049</td><td align=\"left\">0.8</td><td align=\"left\">0.3</td><td align=\"left\">3.8</td><td align=\"left\">0.7</td><td align=\"left\">1.3</td><td align=\"left\">0.2</td></tr><tr><td align=\"left\"/><td align=\"left\">2050-2099</td><td align=\"left\">2.9</td><td align=\"left\">0.1</td><td align=\"left\">3.0</td><td align=\"left\">0.2</td><td align=\"left\">3.3</td><td align=\"left\">0.4</td></tr><tr><td align=\"left\"><b>USA</b></td><td align=\"left\">1950-2099</td><td align=\"left\">2.0</td><td align=\"left\">0.5</td><td align=\"left\">2.2</td><td align=\"left\">0.6</td><td align=\"left\">3.1</td><td align=\"left\">0.3</td></tr><tr><td align=\"left\"/><td align=\"left\">1950-1999</td><td align=\"left\">0.9</td><td align=\"left\">0.6</td><td align=\"left\">3.6</td><td align=\"left\">0.5</td><td align=\"left\">1.4</td><td align=\"left\">0.2</td></tr><tr><td align=\"left\"/><td align=\"left\">2000-2049</td><td align=\"left\">1.6</td><td align=\"left\">0.2</td><td align=\"left\">3.1</td><td align=\"left\">0.6</td><td align=\"left\">2.7</td><td align=\"left\">0.3</td></tr><tr><td align=\"left\"/><td align=\"left\">2050-2099</td><td align=\"left\">3.5</td><td align=\"left\">0.5</td><td align=\"left\">0.8</td><td align=\"left\">0.6</td><td align=\"left\">4.5</td><td align=\"left\">0.2</td></tr><tr><td align=\"left\"><b>India</b></td><td align=\"left\">1950-2099</td><td align=\"left\">19.5</td><td align=\"left\">0.3</td><td align=\"left\">20.8</td><td align=\"left\">0.6</td><td align=\"left\">20.7</td><td align=\"left\">0.3</td></tr><tr><td align=\"left\"/><td align=\"left\">1950-1999</td><td align=\"left\">8.1</td><td align=\"left\">0.3</td><td align=\"left\">18.3</td><td align=\"left\">1.1</td><td align=\"left\">11.1</td><td align=\"left\">0.3</td></tr><tr><td align=\"left\"/><td align=\"left\">2000-2049</td><td align=\"left\">23.8</td><td align=\"left\">0.4</td><td align=\"left\">14.6</td><td align=\"left\">0.5</td><td align=\"left\">21.2</td><td align=\"left\">0.3</td></tr><tr><td align=\"left\"/><td align=\"left\">2050-2099</td><td align=\"left\">29.4</td><td align=\"left\">0.3</td><td align=\"left\">25.7</td><td align=\"left\">0.4</td><td align=\"left\">24.4</td><td align=\"left\">0.4</td></tr></tbody></table>"
                            ],
                            "title": "Average Percent Divergence from UN Target Values in 1-year Models",
                            "type": "table"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "text": "<a href=\"#fig1\">Figure 1\u20133</a> graph the results of each model for Norway, the US, and India respectively. In Norway (<a href=\"#fig1\">Figure 1</a>), the five-year Intuitive design initially produces too many births, but then it consistently underestimates births. The one-year Intuitive design produces much smaller magnitude of divergence in births than the five-year model through 2050, but afterward there are fewer and fewer births than expected each period. The one-year Intuitive design produces particularly higher death counts than expected in 1950-1980 and after 2020. Taken together, the Intuitive designs\u2019 divergences in births and deaths result in a slightly underestimated population size by 2100. In contrast, the five-year Split Fertility design is a perfect match to UN targets, but the one-year version still has some divergence, with a very slight underestimation of deaths.",
                    "type": "paragraph"
                },
                {
                    "assets": [
                        {
                            "id": "fig1",
                            "image": {
                                "alt": "",
                                "uri": "%iiif_uri%/00289%2Fijm-00289-fig001.tif",
                                "size": {
                                    "width": 3472,
                                    "height": 2659
                                },
                                "source": {
                                    "mediaType": "image/jpeg",
                                    "uri": "%iiif_uri%/00289%2Fijm-00289-fig001.tif/full/full/0/default.jpg",
                                    "filename": "ijm-00289-fig001.jpg"
                                }
                            },
                            "label": "Figure 1",
                            "title": "Results of Norway Models, scaled up to actual population size",
                            "type": "image"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "assets": [
                        {
                            "id": "fig2",
                            "image": {
                                "alt": "",
                                "uri": "%iiif_uri%/00289%2Fijm-00289-fig002.tif",
                                "size": {
                                    "width": 3472,
                                    "height": 2659
                                },
                                "source": {
                                    "mediaType": "image/jpeg",
                                    "uri": "%iiif_uri%/00289%2Fijm-00289-fig002.tif/full/full/0/default.jpg",
                                    "filename": "ijm-00289-fig002.jpg"
                                }
                            },
                            "label": "Figure 2",
                            "title": "Results of USA Models, scaled up to actual population size",
                            "type": "image"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "assets": [
                        {
                            "id": "fig3",
                            "image": {
                                "alt": "",
                                "uri": "%iiif_uri%/00289%2Fijm-00289-fig003.tif",
                                "size": {
                                    "width": 3472,
                                    "height": 2659
                                },
                                "source": {
                                    "mediaType": "image/jpeg",
                                    "uri": "%iiif_uri%/00289%2Fijm-00289-fig003.tif/full/full/0/default.jpg",
                                    "filename": "ijm-00289-fig003.jpg"
                                }
                            },
                            "label": "Figure 3",
                            "title": "Results of India Models, scaled up to actual population size",
                            "type": "image"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "text": "The patterns of divergence for the US models (<a href=\"#fig2\">Figure 2</a>) are similar to Norway, but of greater magnitude. The US Intuitive designs underestimate births in the first period, and the one-year Intuitive design likewise overestimates deaths during several periods. The USA five-year Intuitive design noticeably underestimates deaths after 2030. The Intuitive designs\u2019 underestimation of the overall population in the US occurs earlier than in Norway. Meanwhile, the US five-year Split Fertility design yields an almost exact match with the UN\u2019s estimates and projections, although the one-year version slightly underestimates births and deaths.",
                    "type": "paragraph"
                },
                {
                    "text": "In India (<a href=\"#fig3\">Figure 3</a>), the Intuitive designs produce opposite patterns of divergence, while the Split Fertility designs are both exceptional matches to UN targets. The five-year Intuitive model underestimates births, while the one-year version overestimates births starting in 1970. The five-year Intuitive design likewise underestimates deaths, particularly after 2030, while the one-year version initially underestimates deaths until 2005 when it dramatically overestimates them thereafter. Overall, the five-year Intuitive design underestimates total population and the one-year version overestimates it, but only after a few decades have passed.",
                    "type": "paragraph"
                }
            ],
            "id": "s5",
            "title": "5. Results",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "It is worth contemplating why the Intuitive designs diverge from the UN CCM projections in different ways across the three countries analyzed in the study. In Norway, the divergence is relatively negligible regardless of design; in the US, the Split Fertility design clearly benefits the estimation of births; and in India, the divergence becomes quite large with time and in different directions depending on the time-step of the model. The magnitude and specific pattern of the divergence varies because of population dynamics and potential compounding from trends among females of childbearing age. <a href=\"#fig4\">Figure 4</a> summarizes the population dynamics of each country among females age 15-49 based on UN data. India is going through the first demographic transition during the first 50 years of the simulation, which results in rapid population growth. The US and Norway are going into the second demographic transition, with low fertility, mortality, and an aging population, but they are also hosts to large waves of immigration that offset population decline.",
                    "type": "paragraph"
                },
                {
                    "assets": [
                        {
                            "id": "fig4",
                            "image": {
                                "alt": "",
                                "uri": "%iiif_uri%/00289%2Fijm-00289-fig004.tif",
                                "size": {
                                    "width": 3507,
                                    "height": 2200
                                },
                                "source": {
                                    "mediaType": "image/jpeg",
                                    "uri": "%iiif_uri%/00289%2Fijm-00289-fig004.tif/full/full/0/default.jpg",
                                    "filename": "ijm-00289-fig004.jpg"
                                }
                            },
                            "label": "Figure 4",
                            "title": "Population Dynamics Among Females of Child-bearing Ages (15-49), UN Data WPP2019",
                            "type": "image"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "text": "The five-year Intuitive design underestimates births in populations with growing female populations at childbearing age, overestimates births in populations that are declining, and the timing of this growth and decline produces unique patterns of divergence. Large divergence in births naturally has compounding consequences for deaths and total population. In the 1950s, there are excess births in Norway because the population of females at childbearing ages is declining from emigration and the consequences of low fertility during World War II. There are suddenly far fewer births than expected during the 1960s because the baby boomer cohorts age into childbearing risk, and then divergence diminishes in the 1970s as the age distribution becomes rectangular. Immigration to Norway increases, peaking between 2005 and 2015, and thereafter the Intuitive designs underestimate births. The US experiences similar patterns in age structure and immigration, but never has net emigration and has an earlier peak in immigration than Norway. The divergence in India\u2019s five-year Intuitive designs seems negligible at first, because initially high mortality maintains a delicate balance in the size of rapidly growing female cohorts. The divergence in births picks up between 1960 and 2000, because the sharp decline in mortality permits rapid growth in cohorts at risk for childbirth. As the age structure becomes more rectangular, the divergence in births stabilizes. The underestimation of deaths becomes much larger in magnitude in the latter part of the 21<sup>st</sup> century, because the high-risk age groups are much smaller than anticipated by the UN statistics.",
                    "type": "paragraph"
                },
                {
                    "text": "Population dynamics and compounding divergence also explain why the one-year version of the Intuitive design performs better than its five-year counterpart in Norway and the US to some extent, but does much worse in India. By itself, moving to a one-year step reduces divergence in births because it allows mortality, migration, and aging to occur each year before the subsequent year\u2019s fertility. This minimizes compounding divergence in the US and Norway initially. Consistently high immigration in later decades, however, underestimates births further because the immigrants are all older than expected, which diminishes their contribution to fertility. India\u2019s results in the one-year Intuitive design are almost entirely due to exceptionally high mortality in early years, which resulted in severe under-estimation of infant mortality. In subsequent decades, cohorts who aged into childbearing risk were much larger than expected and therefore larger cohorts are born thereafter. When all the exceptionally large cohorts become older, they are exposed to high death risk earlier than expected, which leads to much higher death counts than the UN targets.",
                    "type": "paragraph"
                },
                {
                    "text": "Although the five-year and one-year Split Fertility designs perform well across country context, there is persistent divergence in the US and Norway one-year Split Fertility design. This occurs due to rounding error from the sorting method, because all events in a simulation result in discrete counts of affected agents, and rare events or events among small populations floor at zero (<a href=\"#bib3\">Bekkering, 1995</a>; <a href=\"#bib24\">Van Imhoff and Post, 1998</a>). This particularly affects migration events in the one-year model, because we divide total migrant counts in each age/sex group by 25, and the adjusted count must be an integer. Even with large net migration in Norway and the US, some age/sex groups will have too-few immigrants after dividing by 25, which leads to slightly too-few women of childbearing age. These errors could also affect events among small age/sex groups that have very low probability, such as fertility and mortality among some periods and age groups. These problems are minimal in India for two reasons: 1) High population growth leads to a very large population quickly despite all countries starting with 100,000 agents, 2) India experiences minimal net migration, which means that rounding errors in migration make almost no difference in observed outcomes.",
                    "type": "paragraph"
                },
                {
                    "text": "The model designs presented here represent a series of adjustments and selection of options that are necessary to closely match UN population dynamics. We have demonstrated the implied ordering and assignment of risk by age dictated by the mathematical relationships within the UN\u2019s CCM inputs and outputs, and the consequences for disregarding some of those relationships. Implementing these procedures in a simulation, which always operates prospectively and at the individual level, is far from intuitive. A common challenge in simulation research is integrating multiple data sources of varying quality and measurement assumptions (<a href=\"#bib14\">M\u00fcller, 2009</a>; <a href=\"#bib17\">Riecke et al., 2019</a>). Non-demographers frequently design simulations, and understanding a specific CCM is not a natural next step after downloading UN data. The Split Fertility design simplifies the process of implementing basic population dynamics in multiple countries and over many decades using the same standardized data source. Because the UN data are internally consistent, the Split Fertility design specified here minimizes the need for alignment procedures, which are popular and controversial course-correction methods in microsimulation (<a href=\"#bib8\">Li and O\u2019Donoghue, 2014</a>).",
                    "type": "paragraph"
                },
                {
                    "text": "The Split Fertility design adapts a five-year standard CCM that is popular among demographic projection methods, which makes the design applicable to simulations that rely on non-UN CCM demographic statistics as well. It is important to recognize, however, that other design options are more appropriate when using different data sources or implementing other demographic processes within a simulation. A CCM designed for smaller geography, or for specific sub-groups of the population (e.g. ethnic groups), may operate with different statistics than the UN\u2019s CCM (<a href=\"#bib4\">Birkin and Wu, 2012</a>; <a href=\"#bib19\">Smith et al., 2013</a>). Introducing additional demography modules (e.g. domestic migration), agent decision-making (e.g. partner selection), and social networks (e.g. kinship) further complicates how population dynamics are implemented. The DYNAMIS-POP microsimulation platform, for example, uses country-specific projection and microdata as inputs, and can incorporate modules on education, intergenerational transmission of ethnicity, partner selection, and prenatal care (<a href=\"#bib21\">Spielauer and Dupriez, 2019</a>). The Split Fertility design is not a standalone microsimulation platform, but its data requirements and specifications make it an ideal demographic module for multi-country or comparative simulations.",
                    "type": "paragraph"
                },
                {
                    "text": "It is also important to recognize that our analysis does not compare whether MSM or CCM approaches to population projection are superior. The Split Fertility MSM uses the same assumptions and inputs as the UN\u2019s CCM. Using UN statistics as inputs means the simulation is accepting the UN\u2019s assumptions concerning future trends in fertility, mortality, and migration. Not everyone agrees with those assumptions, and other projection assumptions are more appropriate for some projects (<a href=\"#bib15\">O\u2019Neill et al., 2000</a>; <a href=\"#bib18\">Roser, 2013</a>). Even if using UN assumptions and data is appropriate, it may not be appropriate to use the Split Fertility design exactly as we specify in this paper. Alternative or adjusted designs may be more efficient, realistic, or meet the needs of the specific project without introducing significant divergence. For example, we also developed a design for Norway that operates in one-year steps and uses the crude mortality rate instead of the survival ratio, and still achieves low divergence (<a href=\"#bib27\">Puga-Gonzalez et al., 2022</a>). We are currently testing a broader range of options to assess the consequences of selecting different combinations.",
                    "type": "paragraph"
                }
            ],
            "id": "s6",
            "title": "6. Discussion",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "Demographic microsimulations are incredibly flexible in how they can incorporate different assumptions and complex processes that affect, and are affected by, population dynamics. This flexibility can become a burden when there is uncertainty about which options are most appropriate for a specific project. We identified a set of options necessary when using demographic statistics derived for standard CCM projections, but there are many data sources and statistics available. Knowledge of the relationship between demographic statistics and the population totals can inform simulation design. As demonstrated in this paper, harnessing the flexibility of simulations is a powerful tool for unveiling hidden assumptions when validating against an external standard.",
                    "type": "paragraph"
                },
                {
                    "text": "The Split Fertility design works because it uses the event ordering implied by the UN\u2019s CCM, approximates the mid-point population for fertility rates, and distinguishes between cohorts and age groups when assigning risk. It maintains minimal divergence over a 150-year span even when operating in one-year steps, which is highly desirable in simulation research where annual outcomes are common. The design is also appropriate for multiple countries of varying population size and dynamics, which makes it perfect for comparative simulation projects.",
                    "type": "paragraph"
                },
                {
                    "text": "The future of simulation research is bright, and it is imperative that demography and population dynamics are a part of it. With growing complexity, temporal scale, and capacity, simulations can model real-life populations and contribute insights to a host of research questions in multiple fields. Moreover, simulations can do that with a degree of flexibility that is unmatched by traditional demographic projection methods, allowing demographers to exercise greater theory-grounded control over implementation assumptions. This places a responsibility on demographers at the forefront of simulation research to communicate the demographic principles, mathematical relationships, and assumptions present in simulation design.",
                    "type": "paragraph"
                }
            ],
            "id": "s7",
            "title": "7. Conclusion",
            "type": "section"
        },
        {
            "id": "footnotes",
            "title": "Footnotes",
            "type": "section",
            "content": [
                {
                    "content": [
                        {
                            "text": "The 2019 WPP and previous UN revisions operate in 5-year intervals, but the most recent revision (2022 WPP) operates in 1-year intervals. CCMs that operate in 5-year intervals are still very common, which means our adaption of the 2019 WPP CCM may be generalizable to similar non-UN models. Future research can consider which additional adjustments are necessary when adapting a CCM operating in 1-year intervals.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn1",
                    "title": "1.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "The UN estimates migration in ways other than the residual method, depending on data sources in each country. However, the survival ratio calculation operates under the assumptions of net migration as a residual, and using the survival ratios alongside net migration allows for standard interpretation across countries.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn2",
                    "title": "2.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "We compared our calculation against age-specific counts graciously provided to us by the UN to confirm our approach was correct.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn3",
                    "title": "3.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "For an in-depth discussion of demographic statistics, see <a href=\"#bib16\">Preston et al. (2000)</a>.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn4",
                    "title": "4.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "While other similarly intuitive event-sequencing options exist (e.g. randomizing their order, assigning conditional probabilities, or moving aging to the last event), our Intuitive design is an efficient fixed order design that someone with a basic understanding of the UN\u2019s CCM could implement quickly.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn5",
                    "title": "5.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "In essentially all countries and periods, infant mortality is much higher than mortality for children aged 1-4.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn6",
                    "title": "6.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Tracking five-year cohorts to describe both starting and ending ages is also appropriate, but we have separated them here to be consistent with how the cohorts have different labels when used in the UN CCM.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn7",
                    "title": "7.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "It is important to note that <a href=\"#table2\">Table 2</a> differs from a traditional lexis diagram because it operates in whole years of risk. It is more accurate to assume average risk as halfway through the year, that is, each year column in <a href=\"#table2\">Table 2</a> is split in half and cohorts are born halfway through the first year on average. Therefore, cohort \u201cA\u201d should have 4.5 years of total risk, because they only experience 0.5 years of risk in their first year. Similarly, cohort \u201cE\u201d would only have 0.5 years of risk. Altogether, newborn cohorts would have only 12.5 years of risk. However, this has consequences for the accuracy and simplicity of implementation in a simulation, particularly for migration. Dividing the migration count by another half introduces more rounding error because migration is relatively rare when the simulation population is scaled down. In the first year a cohort is born, there could be zero migrants to the cohort simply because halving the count does not result in an entire agent, and there will be five too few migrants in that interval. Net migration can be consistently underestimated and eventually impact other population dynamics if the problem persists over decades, which is the case for projection years (2020-2100) when net migration is held constant. One alternative is to calculate risk for each newborn cohort separately (e.g. cohort \u201cA\u201d annual proportion of net migrants is calculated as 4.5/12.5/5 multiplied by total expected newborn migrants, cohort \u201cB\u201d has 3.5/12.5/4, and so on), but this is needlessly complex. Another alternative is to introduce stochasticity, where a minimum number of migrants leave/arrive each time step and the fraction of expected migrants becomes the probability of an additional migrant for that time step. This option introduces complexity and variability. The difference in approaches is likely small. We believe our solution is the most straightforward way to recognize uneven risk among newborn cohorts while achieving both a good match to UN targets and simplicity in simulation design.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn8",
                    "title": "8.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Alternative calculations of mortality risk at smaller time intervals with higher accuracy are likely available, but we were unable to find a more accurate straightforward solution. Implementing more complex adjustments would have marginal return to accuracy for a microsimulation. Our estimate of infant mortality risk introduced very little divergence even in a country with high infant mortality, and the divergence is negligible in countries with low infant mortality.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn9",
                    "title": "9.",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "The UN provides limited annual and single age-group statistics as interpolated from their five-year data. We only use the one-year data to initialize the population in one-year age groups. The annual and individual age group data is insufficient to adapt the UN\u2019s five-year CCM to a one-year model.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "fn10",
                    "title": "10.",
                    "type": "section"
                }
            ]
        }
    ],
    "references": [
        {
            "articleTitle": "Highlights of Contemporary Microsimulation",
            "authors": [
                {
                    "name": {
                        "index": "Anderson, RE",
                        "preferred": "RE Anderson"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Hicks, C",
                        "preferred": "C Hicks"
                    },
                    "type": "person"
                }
            ],
            "date": "2011",
            "doi": "10.1177/0894439310370084",
            "id": "bib1",
            "journal": "Social Science Computer Review",
            "pages": {
                "first": "3",
                "last": "8",
                "range": "3\u20138"
            },
            "type": "journal",
            "volume": "29"
        },
        {
            "articleTitle": "Combining Microsimulation and Agent-based Model for Micro-level Population Dynamics",
            "authors": [
                {
                    "name": {
                        "index": "Bae, JW",
                        "preferred": "JW Bae"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Paik, E",
                        "preferred": "E Paik"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Kim, K",
                        "preferred": "K Kim"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Singh, K",
                        "preferred": "K Singh"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Sajjad, M",
                        "preferred": "M Sajjad"
                    },
                    "type": "person"
                }
            ],
            "date": "2016",
            "doi": "10.1016/j.procs.2016.05.331",
            "id": "bib2",
            "journal": "Procedia Computer Science",
            "pages": {
                "first": "507",
                "last": "517",
                "range": "507\u2013517"
            },
            "type": "journal",
            "volume": "80"
        },
        {
            "author": {
                "name": {
                    "index": "Bekkering, JM",
                    "preferred": "JM Bekkering"
                },
                "type": "person"
            },
            "date": "1995",
            "id": "bib3",
            "publisher": {
                "name": [
                    "Tilburg University Press"
                ]
            },
            "source": "Doctoral Thesis",
            "title": "Doctoral Thesis",
            "type": "thesis",
            "authors": [
                {
                    "name": "n/a",
                    "type": "group"
                }
            ]
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Birkin, M",
                        "preferred": "M Birkin"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Wu, B",
                        "preferred": "B Wu"
                    },
                    "type": "person"
                }
            ],
            "date": "2012",
            "details": "51\u201368, A Review of Microsimulation and Hybrid Agent-Based Approaches, Agent-Based Models of Geographical Systems, Springer Netherlands, p, 10.1007/978-90-481-8927-4",
            "id": "bib4",
            "title": "Agent-Based Models of Geographical Systems",
            "type": "unknown"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Dekkers, G",
                        "preferred": "G Dekkers"
                    },
                    "type": "person"
                }
            ],
            "date": "2010",
            "id": "bib5",
            "title": "On the impact of indexation and demographic ageing on inequality among pensioners",
            "type": "web",
            "uri": "https://mpra.ub.uni-muenchen.de/36136/",
            "website": "MPRA Paper"
        },
        {
            "articleTitle": "Social and child care provision in kinship networks: An agent-based model",
            "authors": [
                {
                    "name": {
                        "index": "Gostoli, U",
                        "preferred": "U Gostoli"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Silverman, E",
                        "preferred": "E Silverman"
                    },
                    "type": "person"
                }
            ],
            "date": "2020",
            "doi": "10.1371/journal.pone.0242779",
            "id": "bib6",
            "journal": "PLOS ONE",
            "pages": "e0242779",
            "pmid": 33264347,
            "type": "journal",
            "volume": "15"
        },
        {
            "articleTitle": "A survey of dynamic microsimulation models: uses, model structure and methodology",
            "authors": [
                {
                    "name": {
                        "index": "Li, J",
                        "preferred": "J Li"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "O\u2019Donoghue, C",
                        "preferred": "C O\u2019Donoghue"
                    },
                    "type": "person"
                }
            ],
            "date": "2013",
            "doi": "10.34196/ijm.00082",
            "id": "bib7",
            "journal": "International Journal of Microsimulation",
            "pages": {
                "first": "3",
                "last": "55",
                "range": "3\u201355"
            },
            "type": "journal",
            "volume": "6"
        },
        {
            "articleTitle": "Evaluating Binary Alignment Methods in Microsimulation Models",
            "authors": [
                {
                    "name": {
                        "index": "Li, J",
                        "preferred": "J Li"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "O\u2019Donoghue, C",
                        "preferred": "C O\u2019Donoghue"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "doi": "10.18564/jasss.2334",
            "id": "bib8",
            "journal": "Journal of Artificial Societies and Social Simulation",
            "pages": "15",
            "type": "journal",
            "volume": "17"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Marois, G",
                        "preferred": "G Marois"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "KC, S",
                        "preferred": "S KC"
                    },
                    "type": "person"
                }
            ],
            "date": "2021",
            "details": "25\u201349, Converting a Cohort Component Model into a Microsimulation Model, Microsimulation Population Projections with SAS: A Reference Guide, Springer International Publishing, p, 10.1007/978-3-030-79111-7",
            "id": "bib9",
            "title": "Microsimulation Population Projections with SAS: A Reference Guide",
            "type": "unknown"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Mason, C",
                        "preferred": "C Mason"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "details": "Demographic models, In Handbook of Microsimulation Modelling, Emerald Group Publishing Limited, 10.1108/S0573-85552014293",
            "id": "bib10",
            "title": "In Handbook of Microsimulation Modelling",
            "type": "unknown"
        },
        {
            "articleTitle": "Modelling demographic changes using simulation: Supportive analyses for socioeconomic studies",
            "authors": [
                {
                    "name": {
                        "index": "Mielczarek, B",
                        "preferred": "B Mielczarek"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Zabawa, J",
                        "preferred": "J Zabawa"
                    },
                    "type": "person"
                }
            ],
            "date": "2021",
            "doi": "10.1016/j.seps.2020.100938",
            "id": "bib11",
            "journal": "Socio-Economic Planning Sciences",
            "pages": "100938",
            "type": "journal",
            "volume": "74"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Morand, E",
                        "preferred": "E Morand"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Toulemon, L",
                        "preferred": "L Toulemon"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Pennec, S",
                        "preferred": "S Pennec"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Baggio, R",
                        "preferred": "R Baggio"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Billari, F",
                        "preferred": "F Billari"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "Demographic Modelling: The State of the Art",
            "date": "2010",
            "id": "bib12",
            "pages": "39",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Paris"
                        ]
                    },
                    "formatted": [
                        "Paris"
                    ]
                },
                "name": [
                    "INED. FP7-244557 Projet SustainCity"
                ]
            },
            "type": "book"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Morrison, R",
                        "preferred": "R Morrison"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "Validation of Longitudinal Microsimulation Models",
            "date": "2008",
            "id": "bib13",
            "publisher": {
                "name": [
                    "DYNACAN Practices and Plans"
                ]
            },
            "type": "book"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "M\u00fcller, K-U",
                        "preferred": "K-U M\u00fcller"
                    },
                    "type": "person"
                }
            ],
            "date": "2009",
            "details": "Social Science Research Network, 10.2139/ssrn.1465424",
            "id": "bib14",
            "title": "Social Science Research Network",
            "type": "unknown",
            "uri": "https://doi.org/10.2139/ssrn.1465424"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "O\u2019Neill, BC",
                        "preferred": "BC O\u2019Neill"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "MacKellar, FL",
                        "preferred": "FL MacKellar"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Lutz, W",
                        "preferred": "W Lutz"
                    },
                    "type": "person"
                }
            ],
            "date": "2000",
            "details": "10.1017/CBO9780511529450",
            "id": "bib15",
            "title": "10.1017/CBO9780511529450",
            "type": "unknown",
            "uri": "https://doi.org/10.1017/CBO9780511529450"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Preston, S",
                        "preferred": "S Preston"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Heuveline, P",
                        "preferred": "P Heuveline"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Guillot, M",
                        "preferred": "M Guillot"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "Demography: Measuring and Modeling Population Processes. 2001",
            "date": "2000",
            "id": "bib16",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Malden, MA"
                        ]
                    },
                    "formatted": [
                        "Malden, MA"
                    ]
                },
                "name": [
                    "Blackwell Publishers"
                ]
            },
            "type": "book"
        },
        {
            "articleTitle": "Adapting Cohort-Component Methods to A Microsimulation: A case study",
            "authors": [
                {
                    "name": {
                        "index": "Puga-Gonzalez, I",
                        "preferred": "I Puga-Gonzalez"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Bacon, RJ",
                        "preferred": "RJ Bacon"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Voas, D",
                        "preferred": "D Voas"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Shults, FL",
                        "preferred": "FL Shults"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Hodulik, G",
                        "preferred": "G Hodulik"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Wildman, WJ",
                        "preferred": "WJ Wildman"
                    },
                    "type": "person"
                }
            ],
            "date": "2022",
            "doi": "10.1177/08944393221082685",
            "id": "bib27",
            "journal": "Social Science Computer Review",
            "pages": {
                "first": "1054",
                "last": "1068",
                "range": "1054\u20131068"
            },
            "type": "journal",
            "volume": "40"
        },
        {
            "articleTitle": "Integrated population models: Model assumptions and inference",
            "authors": [
                {
                    "name": {
                        "index": "Riecke, TV",
                        "preferred": "TV Riecke"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Williams, PJ",
                        "preferred": "PJ Williams"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Behnke, TL",
                        "preferred": "TL Behnke"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Gibson, D",
                        "preferred": "D Gibson"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Leach, AG",
                        "preferred": "AG Leach"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Sedinger, BS",
                        "preferred": "BS Sedinger"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Street, PA",
                        "preferred": "PA Street"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Sedinger, JS",
                        "preferred": "JS Sedinger"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Freckleton, R",
                        "preferred": "R Freckleton"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "doi": "10.1111/2041-210X.13195",
            "id": "bib17",
            "journal": "Methods in Ecology and Evolution",
            "pages": {
                "first": "1072",
                "last": "1082",
                "range": "1072\u20131082"
            },
            "type": "journal",
            "volume": "10"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Roser, M",
                        "preferred": "M Roser"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "Future Population Growth",
            "date": "2013",
            "id": "bib18",
            "publisher": {
                "name": [
                    "Our World in Data"
                ]
            },
            "type": "book"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Smith, SK",
                        "preferred": "SK Smith"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tayman, J",
                        "preferred": "J Tayman"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Swanson, DA",
                        "preferred": "DA Swanson"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "A Practitioner\u2019s Guide to State and Local Population Projections",
            "date": "2013",
            "doi": "10.1007/978-94-007-7551-0",
            "id": "bib19",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Dordrecht"
                        ]
                    },
                    "formatted": [
                        "Dordrecht"
                    ]
                },
                "name": [
                    "Springer"
                ]
            },
            "type": "book"
        },
        {
            "articleTitle": "What is Social Science Microsimulation?",
            "authors": [
                {
                    "name": {
                        "index": "Spielauer, M",
                        "preferred": "M Spielauer"
                    },
                    "type": "person"
                }
            ],
            "date": "2011",
            "doi": "10.1177/0894439310370085",
            "id": "bib20",
            "journal": "Social Science Computer Review",
            "pages": {
                "first": "9",
                "last": "20",
                "range": "9\u201320"
            },
            "type": "journal",
            "volume": "29"
        },
        {
            "articleTitle": "A Portable Dynamic Microsimulation Model for Population, Education and Health Applications in Developing Countries",
            "authors": [
                {
                    "name": {
                        "index": "Spielauer, M",
                        "preferred": "M Spielauer"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Dupriez, O",
                        "preferred": "O Dupriez"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "doi": "10.34196/ijm.00205",
            "id": "bib21",
            "journal": "International Journal of Microsimulation",
            "pages": {
                "first": "6",
                "last": "27",
                "range": "6\u201327"
            },
            "type": "journal",
            "volume": "12"
        },
        {
            "articleTitle": "The impact of demographic change in the balance between formal and informal old-age care in Spain. Results from a mixed microsimulation\u2013agent-based model",
            "authors": [
                {
                    "name": {
                        "index": "Spijker, J",
                        "preferred": "J Spijker"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Devolder, D",
                        "preferred": "D Devolder"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Zueras, P",
                        "preferred": "P Zueras"
                    },
                    "type": "person"
                }
            ],
            "date": "2022",
            "doi": "10.1017/S0144686X20001026",
            "id": "bib22",
            "journal": "Ageing and Society",
            "pages": {
                "first": "588",
                "last": "613",
                "range": "588\u2013613"
            },
            "type": "journal",
            "volume": "42"
        },
        {
            "authors": [
                {
                    "name": "United Nations",
                    "type": "group"
                }
            ],
            "bookTitle": "World Population Prospects 2019: Methodology of the United Nations Population Estimates and Projections",
            "date": "2019",
            "id": "bib23",
            "publisher": {
                "name": [
                    "Department of Economic and Social Affairs, Population Devision"
                ]
            },
            "type": "book"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Van Imhoff, E",
                        "preferred": "E Van Imhoff"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Post, W",
                        "preferred": "W Post"
                    },
                    "type": "person"
                }
            ],
            "date": "1998",
            "details": "97\u2013138, Microsimulation Methods for Population Projection, Population, An English Selection, p",
            "id": "bib24",
            "title": "Microsimulation Methods for Population Projection",
            "type": "unknown"
        },
        {
            "articleTitle": "Microsimulation in demographic research",
            "authors": [
                {
                    "name": {
                        "index": "Zagheni, E",
                        "preferred": "E Zagheni"
                    },
                    "type": "person"
                }
            ],
            "date": "2015",
            "id": "bib25",
            "journal": "International Encyclopedia of Social and Behavioral Sciences",
            "pages": {
                "first": "343",
                "last": "346",
                "range": "343\u2013346"
            },
            "type": "journal",
            "volume": "15"
        },
        {
            "articleTitle": "Dynamic microsimulation models: A review and some lessons for SAGE",
            "authors": [
                {
                    "name": {
                        "index": "Zaidi, A",
                        "preferred": "A Zaidi"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Rake, K",
                        "preferred": "K Rake"
                    },
                    "type": "person"
                }
            ],
            "conference": {
                "name": [
                    "Simulating Social Policy in an Ageing Society (SAGE) Discussion Paper"
                ]
            },
            "date": "2001",
            "id": "bib26",
            "pages": "2",
            "type": "conference-proceeding"
        }
    ],
    "appendices": [
        {
            "content": [
                {
                    "content": [
                        {
                            "text": "These calculations are only necessary to get the age/sex distribution of migrants for the years 1950-2020 since net migration is the same as observed in 2015-2020 thereafter. In following UN procedures, net migration is only calculated for those aged 0-84. Calculations must be conducted independently of the previous or subsequent period to prevent compounding error from rounding. Follow the following procedure to calculate net migrants by age/sex:",
                            "type": "paragraph"
                        },
                        {
                            "items": [
                                [
                                    {
                                        "text": "Calculate mid-point population for female cohorts aged 15-49 by taking the simple average of populations in each cohort at the start of each period",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Calculate number of births using formula: [Mid-period female pop*(ASFR/1000)*5]",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Distribute births by sex using infant sex ratio",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Apply Survival Ratios to determine survival of matching age group, with exception of the following:",
                                        "type": "paragraph"
                                    },
                                    {
                                        "items": [
                                            [
                                                {
                                                    "text": "Apply \u201c0\u201d survival ratio to the new infants",
                                                    "type": "paragraph"
                                                }
                                            ],
                                            [
                                                {
                                                    "text": "Apply \u201c1\u201d survival ratio to the 0-4 age group",
                                                    "type": "paragraph"
                                                }
                                            ],
                                            [
                                                {
                                                    "text": "Apply \u201c95\u201d survival ratio to those age 100+",
                                                    "type": "paragraph"
                                                }
                                            ]
                                        ],
                                        "prefix": "alpha-lower",
                                        "type": "list"
                                    }
                                ],
                                [
                                    {
                                        "text": "Age forward everyone by 5 years (new infants are now in 0-4 age group)",
                                        "type": "paragraph"
                                    }
                                ],
                                [
                                    {
                                        "text": "Calculate net migration as the simple difference between the population size in each sex group for age groups 0-84, and the corresponding population at the start of the next period",
                                        "type": "paragraph"
                                    }
                                ]
                            ],
                            "prefix": "number",
                            "type": "list"
                        }
                    ],
                    "id": "s10",
                    "title": "Calculating Net Migration as a Residual in UN projections",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "The models presented below use the same time steps, event ordering, assignment of risk, and changes to UN statistics used for the main results of the manuscript. We ran 100 iterations of each model design in each country, and the distributions are shown as boxplots (<a href=\"#A1-F1\">Figures A1\u2013A3</a>). Instead of using the sorting method to determine how many agents experience the demographic events, these models use individual experimentation. When fertility, mortality, and emigration events occur, an agent rolls a uniform distribution between 0 and 1, and experiences the event if their roll is less than the value of the UN statistic. This option is common in simulation design, and naturally introduces more variation in the number of births, deaths, and emigrations that occur at each time step. Fertility appears to have much higher variability than deaths and total population, but this is primarily a difference in scaling.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "A1-F1",
                                    "image": {
                                        "alt": "",
                                        "uri": "%iiif_uri%/00289%2Fijm-00289-fig005.tif",
                                        "size": {
                                            "width": 3472,
                                            "height": 2659
                                        },
                                        "source": {
                                            "mediaType": "image/jpeg",
                                            "uri": "%iiif_uri%/00289%2Fijm-00289-fig005.tif/full/full/0/default.jpg",
                                            "filename": "ijm-00289-fig005.jpg"
                                        }
                                    },
                                    "label": "Figure A1",
                                    "title": "Results of Norway Models with Additional Stochasticity Options, scaled up to actual population size",
                                    "type": "image"
                                }
                            ],
                            "type": "figure"
                        },
                        {
                            "assets": [
                                {
                                    "id": "A1-F2",
                                    "image": {
                                        "alt": "",
                                        "uri": "%iiif_uri%/00289%2Fijm-00289-fig006.tif",
                                        "size": {
                                            "width": 3472,
                                            "height": 2660
                                        },
                                        "source": {
                                            "mediaType": "image/jpeg",
                                            "uri": "%iiif_uri%/00289%2Fijm-00289-fig006.tif/full/full/0/default.jpg",
                                            "filename": "ijm-00289-fig006.jpg"
                                        }
                                    },
                                    "label": "Figure A2",
                                    "title": "Results of USA Models with Additional Stochasticity Options, scaled up to actual population size",
                                    "type": "image"
                                }
                            ],
                            "type": "figure"
                        },
                        {
                            "assets": [
                                {
                                    "id": "A1-F3",
                                    "image": {
                                        "alt": "",
                                        "uri": "%iiif_uri%/00289%2Fijm-00289-fig007.tif",
                                        "size": {
                                            "width": 3472,
                                            "height": 2659
                                        },
                                        "source": {
                                            "mediaType": "image/jpeg",
                                            "uri": "%iiif_uri%/00289%2Fijm-00289-fig007.tif/full/full/0/default.jpg",
                                            "filename": "ijm-00289-fig007.jpg"
                                        }
                                    },
                                    "label": "Figure A3",
                                    "title": "Results of India Models with Additional Stochasticity Options, scaled up to actual population size",
                                    "type": "image"
                                }
                            ],
                            "type": "figure"
                        }
                    ],
                    "id": "s11",
                    "title": "Supplementary Stochastic Model Results",
                    "type": "section"
                }
            ],
            "id": "A1",
            "title": "Appendix"
        }
    ],
    "acknowledgements": [
        {
            "text": "Patrick Gerland, PhD Chief of Population Estimates and Projections Section at the United Nations Population Division) confirmed the calculation and implementation procedures of the UN\u2019s cohort component model. Anne Morse, PhD (Survey Statistician at the U.S. Census Bureau) provided early input and feedback on replicating cohort component model output. We also acknowledge support from the John Templeton Foundation grant #61074\u2013note that the findings of this paper do not necessarily reflect the views of the John Templeton Foundation.",
            "type": "paragraph"
        }
    ],
    "-meta": {
        "patched": true
    },
    "stage": "published"
}
