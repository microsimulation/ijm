{
    "status": "vor",
    "id": "00240",
    "version": 1,
    "type": "research-article",
    "doi": "10.34196/ijm.00240",
    "authorLine": "Santtu Tikka et al.",
    "title": "Sima \u2013 an Open-source Simulation Framework for Realistic Large-scale Individual-level Data Generation",
    "published": "2021-12-31T00:00:00Z",
    "versionDate": "2021-12-31T00:00:00Z",
    "statusDate": "2021-12-31T00:00:00Z",
    "volume": 14,
    "issue": 3,
    "fpage": 27,
    "lpage": 53,
    "elocationId": "27-53",
    "pdf": "http://web:8082/00240/ijm-00240.pdf",
    "subjects": [
        {
            "id": "health",
            "name": "Health"
        },
        {
            "id": "methodology",
            "name": "Methodology"
        }
    ],
    "abstract": {
        "content": [
            {
                "text": "We propose a framework for realistic data generation and the simulation of complex systems and demonstrate its capabilities in a health domain example. The main use cases of the framework are predicting the development of variables of interest, evaluating the impact of interventions and policy decisions, and supporting statistical method development. We present the fundamentals of the framework by using rigorous mathematical definitions. The framework supports calibration to a real population as well as various manipulations and data collection processes. The freely available open-source implementation in R embraces efficient data structures, parallel computing, and fast random number generation, hence ensuring reproducibility and scalability. With the framework, it is possible to run daily-level simulations for populations of millions of individuals for decades of simulated time. An example using the occurrence of stroke, type 2 diabetes, and mortality illustrates the usage of the framework in the Finnish context. In the example, we demonstrate the data collection functionality by studying the impact of nonparticipation on the estimated risk models and interventions related to controlling excessive salt consumption.",
                "type": "paragraph"
            }
        ]
    },
    "copyright": {
        "license": "CC-BY-4.0",
        "holder": "Tikka",
        "statement": "This article is distributed under the terms of the <a href=\"http://creativecommons.org/licenses/by/4.0/\">Creative Commons Attribution License</a>, which permits unrestricted use and redistribution provided that the original author and source are credited."
    },
    "authors": [
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "Finland"
                        },
                        "formatted": [
                            "Finland"
                        ]
                    },
                    "name": [
                        "Department of Mathematics and Statistics, University of Jyvaskyla"
                    ]
                }
            ],
            "competingInterests": "No competing interests reported.",
            "emailAddresses": [
                "santtu.tikka@jyu.fi"
            ],
            "name": {
                "index": "Tikka, Santtu",
                "preferred": "Santtu Tikka"
            },
            "type": "person"
        },
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "Finland",
                            "locality": [
                                "Jyvaskyla"
                            ]
                        },
                        "formatted": [
                            "Jyvaskyla",
                            "Finland"
                        ]
                    },
                    "name": [
                        "Faculty of Information Technology"
                    ]
                }
            ],
            "competingInterests": "No competing interests reported.",
            "name": {
                "index": "Hakanen, Jussi",
                "preferred": "Jussi Hakanen"
            },
            "type": "person"
        },
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "Finland",
                            "locality": [
                                "Jyvaskyla"
                            ]
                        },
                        "formatted": [
                            "Jyvaskyla",
                            "Finland"
                        ]
                    },
                    "name": [
                        "Faculty of Information Technology"
                    ]
                }
            ],
            "competingInterests": "No competing interests reported.",
            "name": {
                "index": "Saarela, Mirka",
                "preferred": "Mirka Saarela"
            },
            "type": "person"
        },
        {
            "affiliations": [
                {
                    "address": {
                        "components": {
                            "country": "Finland"
                        },
                        "formatted": [
                            "Finland"
                        ]
                    },
                    "name": [
                        "Department of Mathematics and Statistics, University of Jyvaskyla"
                    ]
                }
            ],
            "competingInterests": "No competing interests reported.",
            "name": {
                "index": "Karvanen, Juha",
                "preferred": "Juha Karvanen"
            },
            "type": "person"
        }
    ],
    "funding": {
        "statement": "No specific funding for this article is reported."
    },
    "dataSets": {
        "availability": [
            {
                "text": "Sima source code, code for the examples, and data used for simulations are available via the Sima GitHub repository https://github.com/santikka/Sima and the package website <a href=\"https://santikka.github.io/Sima/\">https://santikka.github.io/Sima/</a>. Please contact the authors for further information.",
                "type": "paragraph"
            }
        ]
    },
    "keywords": [
        "calibration",
        "data collection",
        "discrete event simulation",
        "interventions",
        "missing data",
        "synthetic data"
    ],
    "body": [
        {
            "content": [
                {
                    "text": "Simulation is an important tool for decision making and scenario analysis, and can provide great benefits in numerous fields of study. Synthetic data are important also for statistical method development because the underlying true parameters are known and the obtained estimates can be easily compared with these parameters. A simulation may start with real individual-level data and simulate future development with different assumptions. However, real data are often associated with legal and privacy concerns that complicate and sometimes even prevent their use in method development. Therefore, modeling the current state while using only synthetic data in simulation is often a viable option for a researcher who would like to evaluate the performance of a new method. These considerations lead to a conclusion that a general-purpose simulation framework should be modular and support different use cases.",
                    "type": "paragraph"
                },
                {
                    "text": "In this paper, we propose an open-source simulation framework that we call <i>Sima</i> for the statistical programming language R (<a href=\"#bib48\">R Core Team, 2020</a>). In our approach, we adopt for simulation at the individual level. Each individual of the population is subject to a number of events that can, for example, describe changes in behavior, occurrence of disease or illness, or mortality. The simulation uses a fixed-increment time progression, and the occurrence of events is controlled with stochastic processes. Thus, our simulation approach is an example of discrete event simulation. An efficient implementation enables high time resolution making it sometimes possible to approximate continuous-time processes. The source code of the implementation is available on GitHub at <a href=\"https://github.com/santikka/Sima/\">https://github.com/santikka/Sima/</a>, and extensive documentation can be found on the package website at <a href=\"https://santikka.github.io/Sima/\">https://santikka.github.io/Sima/</a>.",
                    "type": "paragraph"
                },
                {
                    "text": "Below, we outline the fundamental features and properties that an ideal simulator and the simulated population should support in our framework from the viewpoint of statistical method development and decision making. These features are related to the practical aspects of the simulated data, the technical aspects of the implementation, and the types of phenomena we are most interested in. We also provide the fundamentals of the framework using rigorous mathematical definitions.",
                    "type": "paragraph"
                },
                {
                    "text": "<i>Support for Alignment:</i> In a typical use case, the goal is to match the simulated population to a real population of interest in the aspects viewed as the most important relative to the research questions at hand. The process used to accomplish this is typically referred to as alignment. To make alignment possible, the simulated system can be calibrated by using real data according to the chosen measures of similarity. The synthetic population under consideration should be sufficiently large to be considered representative. These principles are considered throughout the simulation period including the initial state of the population.",
                    "type": "paragraph"
                },
                {
                    "text": "<i>Support for Manipulations:</i> The simulator should support external interventions. We approach this in three ways. An intervention can be a change in the system itself by either adding or removing individuals or events. Alternatively, an intervention can represent a policy decision that indirectly affects the individuals over a period of time. Finally, the intervention can directly target a specific individual, a subset of individuals or the entire population. An intervention of this third type is the idealized manipulation as defined by the do-operator in the causal inference literature (<a href=\"#bib46\">Pearl, 2009</a>). For example, one may study the causal effects of a risk factor by forcing all members of the population to have a specific risk factor. Furthermore, interventions enable the study of counterfactual queries.",
                    "type": "paragraph"
                },
                {
                    "text": "<i>Support for Data Collection:</i> The simulator should contain a specialized component for user defined data collection processes. This allows for the simulation of real-world sampling procedures or selective participation where only a subset of the entire population is available for practical analyses, for example via stratified sampling where different age groups have different sampling probabilities. Because the true simulated population is always available, the data collection feature can be used to assess the properties of data-analytical methods under a variety of conditions such as missing data that are prevalent in real-world data sets. Additionally, this feature can be used to assess the optimality of various study designs.",
                    "type": "paragraph"
                },
                {
                    "text": "<i>Support for Scalability:</i> The simulated system can be scaled up in all aspects without incurring an unreasonable computational burden. Large populations should be supported both in the number of individuals and status variables through long simulation runs. Similarly, there should be no strict limitations in the number of possible events. Ideally, the system can be efficiently parallelized while minimizing the resulting overhead.",
                    "type": "paragraph"
                },
                {
                    "text": "<i>Support for Reproducibility:</i> Any run of the simulator and sampling processes associated with it should be replicable. This allows for the replication of any statistical analysis carried out on data obtained from the simulator. The same requirement applies to simulation runs that take advantage of parallelized processing.",
                    "type": "paragraph"
                },
                {
                    "text": "R is especially appropriate for an open-source microsimulation framework that incorporates statistical analyses within decision models (<a href=\"#bib27\">Krijkamp et al., 2018</a>). There exist powerful open-source microsimulation frameworks developed in Python (<a href=\"#bib11\">De Menten et al., 2014</a>), Java (<a href=\"#bib49\">Richiardi and Richardson, 2017</a>; <a href=\"#bib33\">Mannion et al., 2012</a>; <a href=\"#bib26\">Kosar and Tomintz, 2014</a>; <a href=\"#bib58\">Tomintz et al., 2017</a>), and C++ (<a href=\"#bib9\">Clements et al., 2021</a>). However, we did not find an open-source simulation framework accessible from R that could encapsulate all our desired features simultaneously. For example, the microsimulation package in R by <a href=\"#bib9\">Clements et al. (2021)</a>, even though being open-source, does not include direct support for manipulations, so a new simulator has to be constructed for each interventional scenario. A more comprehensive overview of the open-source frameworks included in our literature review is provided in <a href=\"#tableA2\">Table A2</a> of <a href=\"#A1\">Appendix A</a>.",
                    "type": "paragraph"
                },
                {
                    "text": "To illustrate how the <i>Sima</i> framework can be used in simulating complex systems, data collection procedures, and interventions, we provide an example application in the health domain. Simulated health data allow us to predict the population-level development of risk factors, disease occurrence, and case-specific mortality under the given assumptions. Then, the predictions can be used in evaluating the effects of different policies and interventions in medical decision making in a prescriptive analytics approach. Our example considers the occurrence of stroke, type 2 diabetes, and mortality in the Finnish context studying the impact of nonparticipation on the estimated risk models. The simulation framework can also be utilized in medical decision making, where policies and interventions are optimized under multiple conflicting objectives. We see this as a topic for its own paper, so we concentrate here on demonstrating the functionalities of the framework.",
                    "type": "paragraph"
                },
                {
                    "text": "The paper is organized as follows: Section 2 describes the simulator and its core components, such as events and the population. The nuanced practical aspects such as calibration and interventions are also described. Section 3 describes the data-collection process. Section 4 then presents the details of the implementation, including the chosen data structures and libraries, as well as optimization tools for calibration and other purposes. Section 5 illustrates a comprehensive application of the simulator for modeling the occurrence of stroke and diabetes with associated mortality. Section 6 concludes the paper with a discussion and possible directions for future work.",
                    "type": "paragraph"
                }
            ],
            "id": "s1",
            "title": "1. Introduction",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "In this section, we present the key concepts that define our simulation framework in detail. To accomplish the goals we have set out for our ideal simulator, we take into account the fundamental features of the previous section as explicitly as possible. Formal details of the concepts presented in this section are available in <a href=\"#A2\">Appendix B</a>. <a href=\"#fig1\">Figure 1</a> shows a flowchart that depicts the operation of a simulator constructed within the framework.",
                    "type": "paragraph"
                },
                {
                    "assets": [
                        {
                            "id": "fig1",
                            "image": {
                                "alt": "",
                                "uri": "%iiif_uri%/00240%2Fijm-00240-fig001.tif",
                                "size": {
                                    "width": 1654,
                                    "height": 879
                                },
                                "source": {
                                    "mediaType": "image/jpeg",
                                    "uri": "%iiif_uri%/00240%2Fijm-00240-fig001.tif/full/full/0/default.jpg",
                                    "filename": "ijm-00240-fig001.jpg"
                                }
                            },
                            "label": "Figure 1",
                            "title": "Flowchart of a simulator constructed within the Sima framework. Slanted nodes are inputs and outputs, rectangular nodes are processes, and diamond nodes are decisions. Dashed nodes depict optional components. At the \u201cRETURN\u201d node, we return all generated outputs, meaning the final status of the population \n<math id=\"inf1\">\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<msub>\n<mrow>\n<mi mathvariant=\"bold\">X</mi>\n</mrow>\n<mrow>\n<mi>T</mi>\n</mrow>\n</msub>\n</mrow>\n</mstyle>\n</math>\n and any samples \n<math id=\"inf2\">\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<msubsup>\n<mrow>\n<mi mathvariant=\"bold\">X</mi>\n</mrow>\n<mrow>\n<mi>t</mi>\n</mrow>\n<mrow>\n<mo>\u2217</mo>\n</mrow>\n</msubsup>\n</mrow>\n</mstyle>\n</math>\n or entire records of the status \n<math id=\"inf3\">\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<msub>\n<mrow>\n<mi mathvariant=\"bold\">X</mi>\n</mrow>\n<mrow>\n<mi>t</mi>\n</mrow>\n</msub>\n</mrow>\n</mstyle>\n</math>\n that may have been collected during the simulation. The node including \u201ccalibrate\u201d should be understood as a procedure that provides a new values for the simulator parameters \n<math id=\"inf4\">\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n</mrow>\n</mstyle>\n</math>\n based on the results of current run and the validation data.",
                            "type": "image"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "text": "The main operation of the simulator is built on four components: a population, a collection of events, a vector of parameters  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf5\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math> , and a vector of latent variables  <math alttext=\"\\boldsymbol{\\psi}\" id=\"inf6\"> <mi mathvariant=\"bold-italic\">\u03c8</mi> </math> , each of which can change over time. A population is essentially a collection of status variables, which record various details of the simulated individuals, such as age, gender, or disease events. Throughout the paper, we assume that individual status variables are one dimensional and real-valued. This assumption does not rule out, for example, categorical variables, which can be included by encoding them in the standard way with a binary indicator for each category. Events govern the changes that may occur in the status of the population between time points. The parameter  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf7\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  defines the functionality of the events, and the latent variables  <math alttext=\"\\boldsymbol{\\psi}\" id=\"inf8\"> <mi mathvariant=\"bold-italic\">\u03c8</mi> </math>  are used to introduce random variation. For example,  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf9\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  might define the transition probabilities between states in a simple three-state model with the states \u201chealthy\u201d, \u201csick\u201d and \u201cdead\u201d, and together, the transition probabilities and a random value of  <math alttext=\"\\boldsymbol{\\psi}\" id=\"inf10\"> <mi mathvariant=\"bold-italic\">\u03c8</mi> </math>  define the next state for each individual.",
                    "type": "paragraph"
                },
                {
                    "content": [
                        {
                            "text": "We draw a distinction between two types of events: ones that only modify the status variables of the existing individuals in the population and those that introduce new individuals into the population. We call these <i>manipulation events</i> and <i>accumulation events</i>, respectively. In both cases, the functionality of the events is based on the parameter  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf11\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  and the latent variables  <math alttext=\"\\boldsymbol{\\psi}\" id=\"inf12\"> <mi mathvariant=\"bold-italic\">\u03c8</mi> </math>  specific to the simulator at hand.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Manipulation events are used to describe deterministic changes between two time points in the status variables of the population, either on the individual level or for a collection of individuals simultaneously. A manipulation event can be used, for example, to model stroke incidents based on the status of the current risk factors according to a probabilistic risk model. Our interest lies in the general effects of policy decisions over longer periods of time; thus, we do not focus on phenomena where individuals interact directly, such as the spread of viral infections in a network of individuals. However, there is no fundamental restriction to non-interacting populations, or manipulation events that only operate on the individual level. Interacting individuals can be a hindrance on the scalability of the simulation, because a system of interacting individuals cannot be parallelized simply by partitioning the population appropriately, unlike in the case of independent individuals.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Accumulation events are used to introduce new individuals into the simulated population. For example, an accumulation event could be used to describe the incoming patients of a hospital. The initial members of the population and those added by accumulation events are never removed from the population. In the context of the hospital example, we still want to keep the records of discharged patients. However, a manipulation event may change the status of an individual in such a way that no further manipulation events have any affect on the status of the individual (e.g., mortality, or patient discharge). However, a simulated sampling process may encode missing data in such a way that information on all the status variables of a specific individual or a set of individuals is not available in the resulting sample.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The events are defined as deterministic functions given the parameters and the latent variables which, if assumed to be random variables, give a stochastic nature to the simulator. Another important aspect is the order of events. Because manipulation events map the vector of status variables of a single individual into another vector of status variables, the order of application is significant. For accumulation events, the order of application simply corresponds to a permutation of rows in the resulting population, meaning that the order does not matter.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s2-1",
                    "title": "2.1. Events",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "To live up to its name, a simulator must have the capacity to advance the initial population through the application of manipulation events and accumulation events. At a given time  <math alttext=\"t\" id=\"inf13\"> <mi>t</mi> </math> , the simulator occupies a state  <math alttext=\"S_{t}\" id=\"inf14\"> <msub> <mi>S</mi> <mi>t</mi> </msub> </math> , which is an encapsulation of its current population and the parameter configuration. Transitions between states are carried out by the transition function, which is defined by the events of the simulator. In turn, the functionality of the events is governed by the current state, the parameter  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf15\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  and latent variables  <math alttext=\"\\boldsymbol{\\psi}\" id=\"inf16\"> <mi mathvariant=\"bold-italic\">\u03c8</mi> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "The transition function is the main workhorse of the entire simulation framework. Given a vector of latent variables, it defines the canonical transformation from one state to the next, that is, from  <math alttext=\"S_{t}\" id=\"inf17\"> <msub> <mi>S</mi> <mi>t</mi> </msub> </math>  to  <math alttext=\"S_{t+1}\" id=\"inf18\"> <msub> <mi>S</mi> <mrow> <mi>t</mi> <mo>+</mo> <mn>1</mn> </mrow> </msub> </math> . This transformation consists of two parts corresponding to the manipulation events and the accumulation events of the simulator. In a practical implementation, the order of application for manipulation events can become a major performance concern if the population is large. Generating a random order for the manipulation events for every individual requires more computational effort than generating a single order for the entire population.",
                            "type": "paragraph"
                        },
                        {
                            "text": "As an output of a single run of the simulator, the user is provided with a simulation sequence  <math alttext=\"\\{S_{t}\\}_{t=0}^{T}\" id=\"inf19\"> <msubsup> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi>S</mi> <mi>t</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mrow> <mi>t</mi> <mo>=</mo> <mn>0</mn> </mrow> <mi>T</mi> </msubsup> </math>  of desired length  <math alttext=\"T\" id=\"inf20\"> <mi>T</mi> </math> . The simulation sequence begins from an initial state <i>S</i> <sub>0</sub>, which is defined by the user, and a collection of latent variables obtained via pseudo-random number generation (PRNG). This sequence consists of all the states occupied during the simulation, allowing the study of the status variable processes. There are no restrictions for the time resolution. Note that in a single simulation sequence, the parameters are determined by the state at the initial time and remain unchanged throughout the sequence.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s2-2",
                    "title": "2.2. Simulator",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "To ensure a realistic and sensible output, the simulation output is typically aligned to some external targets (<a href=\"#bib16\">Harding, 2007</a>; <a href=\"#bib30\">Li and O\u2019Donoghue, 2014</a>; <a href=\"#bib55\">Stephensen, 2015</a>). Such targets may include joint or marginal distributions of specific status variables, expected total or accumulative event occurrences, or event parameter values. Our primary approach to alignment is calibrating the simulator with respect to external data. For this purpose, we need to be able to change its parameter configuration while keeping the system otherwise intact. This is done by the configuration function, which manipulates the current state by altering the values of the parameter vector. More generally, calibration is based on optimization, which involves multiple simulation runs, where the vector of the latent variables is kept fixed between runs, but the parameters are adjusted between each run according to some optimization strategy.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Calibration is an example of parameter estimation where the best parameter values of the model are found by using an optimization algorithm. The calibration of a simulator can be formulated as an optimization problem:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<munder>\n<mtext>minimize\u00a0</mtext>\n<mrow>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo>\u2208</mo>\n<mi mathvariant=\"normal\">\u0398</mi>\n</mrow>\n</munder>\n<mi>g</mi>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mi mathvariant=\"bold\">Y</mi>\n</mrow>\n<mo>,</mo>\n<mo fence=\"false\" stretchy=\"false\">{</mo>\n<msub>\n<mrow>\n<mi mathvariant=\"bold\">Z</mi>\n</mrow>\n<mrow>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n<msubsup>\n<mo fence=\"false\" stretchy=\"false\">}</mo>\n<mrow>\n<mi>t</mi>\n<mo>=</mo>\n<mn>0</mn>\n</mrow>\n<mrow>\n<mi>T</mi>\n</mrow>\n</msubsup>\n<mo stretchy=\"false\">)</mo>\n<mo>,</mo>\n</mrow>\n</mstyle>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"g\" id=\"inf21\"> <mi>g</mi> </math>  is the objective function (with possibly multiple objectives),  <math id=\"inf22\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"bold\">Y</mi> </mrow> </mrow> </mstyle> </math>  represents external validation data, and  <math id=\"inf23\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mo fence=\"false\" stretchy=\"false\">{</mo> <msub> <mrow> <mi mathvariant=\"bold\">Z</mi> </mrow> <mrow> <mi>t</mi> </mrow> </msub> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo stretchy=\"false\">)</mo> <msubsup> <mo fence=\"false\" stretchy=\"false\">}</mo> <mrow> <mi>t</mi> <mo>=</mo> <mn>0</mn> </mrow> <mrow> <mi>T</mi> </mrow> </msubsup> </mrow> </mstyle> </math>  is a sequence of a set of status variables from a simulation sequence of length  <math alttext=\"T\" id=\"inf24\"> <mi>T</mi> </math>  such that the initial state is defined by the user. The state of the latent variables  <math alttext=\"\\boldsymbol{\\psi}_{t}\" id=\"inf25\"> <msub> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mi>t</mi> </msub> </math>  is kept fixed for different values of  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf26\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "The main idea is to make the model compatible with some external validation data. Thus, the objective function should be chosen such that it measures deviations in population-level characteristics between the external validation data and the simulation output instead of the properties of specific individuals. Thus, the quality of the calibration depends on a number of user-dependent factors. The chosen objective function, quality of external data, optimization method used, and length of the simulation sequence should be carefully considered on a case-by-case basis. A common choice for the objective function is a least squares function, where the deviation is measured as",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<mi>g</mi>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mi mathvariant=\"bold\">Y</mi>\n</mrow>\n<mo>,</mo>\n<mo fence=\"false\" stretchy=\"false\">{</mo>\n<msub>\n<mrow>\n<mi mathvariant=\"bold\">Z</mi>\n</mrow>\n<mrow>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n<msubsup>\n<mo fence=\"false\" stretchy=\"false\">}</mo>\n<mrow>\n<mi>t</mi>\n<mo>=</mo>\n<mn>0</mn>\n</mrow>\n<mrow>\n<mi>T</mi>\n</mrow>\n</msubsup>\n<mo stretchy=\"false\">)</mo>\n<mo>=</mo>\n<mi>g</mi>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mi mathvariant=\"bold\">Y</mi>\n</mrow>\n<mo>,</mo>\n<mrow>\n<mover>\n<mrow>\n<mi mathvariant=\"bold\">Y</mi>\n</mrow>\n<mo>^</mo>\n</mover>\n</mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n<mo stretchy=\"false\">)</mo>\n<mo>=</mo>\n<mrow>\n<mo stretchy=\"false\">|</mo>\n</mrow>\n<mrow>\n<mo stretchy=\"false\">|</mo>\n</mrow>\n<mrow>\n<mi mathvariant=\"bold\">Y</mi>\n</mrow>\n<mo>\u2212</mo>\n<mrow>\n<mover>\n<mrow>\n<mi mathvariant=\"bold\">Y</mi>\n</mrow>\n<mo>^</mo>\n</mover>\n</mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n<mrow>\n<mo stretchy=\"false\">|</mo>\n</mrow>\n<msup>\n<mrow>\n<mo stretchy=\"false\">|</mo>\n</mrow>\n<mrow>\n<mn>2</mn>\n</mrow>\n</msup>\n<mo>,</mo>\n</mrow>\n</mstyle>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"\\widehat{\\mathbf{Y}}(\\boldsymbol{\\theta})\" id=\"inf27\"> <mrow> <mover accent=\"true\"> <mi mathvariant=\"bold\">Y</mi> <mo>^</mo> </mover> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  is a function of the simulation output corresponding to the form of the validation data. In some cases, it may be necessary to scale up the simulation (e.g., increase the number of individuals or extend the length of the simulation) to obtain better calibration. Further, other types of deviation measures can be used instead of least squares, here depending on the properties of data used for calibration. In case of multiple calibration targets, the function  <math alttext=\"g\" id=\"inf28\"> <mi>g</mi> </math>  can be multiobjective (see, e.g., <a href=\"#bib15\">Enns et al., 2015</a> for more details).",
                            "type": "paragraph"
                        },
                        {
                            "text": "As an extension, we may also consider constrained optimization, where some properties of the simulation output are strictly enforced via the optimization procedure. This is closely related to alignment methods that aim to ensure that the output of the simulation conforms to some external criteria by adjusting the output itself, not the model parameters. In our framework, this kind of alignment can be accomplished via suitably constructed manipulation events that are then applied either as a post hoc correction, or during the simulation. In practice, this is accomplished via interventions, which are discussed in the next section.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s2-3",
                    "title": "2.3. Alignment and Calibration",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Recalling our requirement for manipulability as outlined in Section 1, the simulator is imbued with the capacity to allow for different types of interventions. The first type concerns a manipulation that either adds or removes individuals or events. This can be accomplished by constructing time-dependent events. A population change at a specific time can be either an accumulation event to add individuals, or a manipulation event to remove individuals by changing the value of status variable that indicates the presence of that individual in the population. On the other hand, event can be constructed in such a way that they only occur at specific time points during the simulation.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The second type of intervention is policy decisions. For example, consider a treatment regime consisting of two different treatments where the decision about the treatment to be prescribed is based on some threshold value of a health indicator, such as blood pressure. A policy decision could involve a change in this threshold value. Supposing that a parameter in  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf29\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  is the threshold value, a suitable intervention can be modeled by the configuration function such that only the specific parameter value is changed accordingly.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Finally, the last type of manipulation is the intervention encapsulated by the do-operator. In causal inference, the do-operator enforces a set of variables, making them take constant values instead of being determined by the values of their parents in the associated causal graph (<a href=\"#bib46\">Pearl, 2009</a>). When applied to a simulated population, an intervention of this type enables the direct study of causal relationships. For example, we can study the effect of how changing precisely one feature in the entire population affects the outcomes of interest. To accurately simulate the do-operator, the events corresponding to the mechanisms that are desired to be subject to an intervention have to be defined in a way that encodes the intervention as a parameter in  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf30\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math> . This allows for the use of the configuration function to enable the desired actions on the events themselves.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The do-operator also allows for the direct study of counterfactual queries. Consider again the treatment regime with two different treatments. In the simplest case, these two potential outcomes correspond to treatment and control, where no treatment is prescribed. In real-world scenarios, it is impossible to observe both potential outcomes simultaneously from the same study unit, which is known as the fundamental problem of causal inference. We can bypass this problem with ease by simulating two populations that are identical in all aspects, save for the treatment assignment, here while using the same vector of latent variables. More generally, we can apply this approach to study any number of potential outcomes and parallel worlds (<a href=\"#bib46\">Pearl, 2009</a>).",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s2-4",
                    "title": "2.4. Interventions and Counterfactuals",
                    "type": "section"
                }
            ],
            "id": "s2",
            "title": "2. Simulation Framework",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "Simulating data collection adds another dimension to the simulation framework. Conceptually, the idea is the same as in causal models with design, where the causal model (event simulator) and data collection process together define the observed data (<a href=\"#bib22\">Karvanen, 2015</a>). Data collection is important, especially in method development, because statistical methods aim to estimate the underlying processes based on limited data. Usually, data on most health variables cannot be collected daily. For instance, it is not realistic to assume that measurements requiring laboratory testing of a blood sample would be available for a population cohort every day. In a typical longitudinal study, most of the daily measurements are in fact missing by design. Using data from a small number of time points to learn about the underlying continuous-time causal mechanism may lead to unexpected results if the data collection process is not appropriately accounted for (<a href=\"#bib1\">Aalen et al., 2016</a>; <a href=\"#bib56\">Strohmaier et al., 2015</a>; <a href=\"#bib3\">Albert et al., 2019</a>).",
                    "type": "paragraph"
                },
                {
                    "text": "Even if the data are planned to be collected, things may go wrong. Real data are almost never of a perfect quality. Data may be incorrectly logged, completely lost, or otherwise degraded. Some values or entire study units may suffer from missing data or measurement error. In surveys and longitudinal studies nonparticipation, dropout, and the item nonresponse are always possible; this is a problem that cannot always be remedied even by recontacting the participants who dropped out or decided not to answer the survey. More generally, participation in a study may be influenced by a number of factors, hence resulting in selective participation. The aforementioned aspects are also an important component of our simulation framework. Obtaining a smaller subset than the full population after or during the simulation is an important feature for many data analytical tasks. The presented framework includes a highly general interface for simulating a realistic sampling process from a synthetic population.",
                    "type": "paragraph"
                },
                {
                    "text": "In the presented framework, we are able to construct missing data mechanisms of any type, especially those recognizable as belonging to the traditional categories of missing completely at random, missing at random, and missing not at random (<a href=\"#bib32\">Little and Rubin, 2002</a>). Having constructed the mechanism, we can obtain a sample from the full population, where the mechanisms dictate the values or observations that will be missing in the sample. Multiple imputation is a widely applied and studied method for replacing missing data with substituted values (<a href=\"#bib60\">Van Buuren, 2018</a>). A simulated sample with missing data can be used to assess the possible bias introduced by imputation and the representativeness of any results obtained from the imputed data by comparing the results to those obtained from the same sample without any missing data.",
                    "type": "paragraph"
                }
            ],
            "id": "s3",
            "title": "3. Data Collection Process",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "We chose R as the programming language and environment for the implementation of the simulator (<a href=\"#bib48\">R Core Team, 2020</a>). R provides a vast multitude of computational and statistical methods as open-source packages via the Comprehensive R Archive Network (CRAN). Currently, the CRAN repository features over 15,000 packages that encompass methodology from a wide-ranging variety of scientific disciplines, including physics, chemistry, econometrics, ecology, genetics, hydrology, machine learning, optimization, and social sciences. This is especially useful when constructing manipulation events, because statistical models and other methods from state-of-the-art research can be directly implemented via events in the simulator to accurately model phenomena of interest. After carrying out the simulation, the synthetic data can be effortlessly exported from R to various external data formats to be used in other applications, if desired.",
                    "type": "paragraph"
                },
                {
                    "content": [
                        {
                            "text": "We opted for the data tables implemented in the data.table package to act as the container for the population (<a href=\"#bib12\">Dowle and Srinivasan, 2019</a>). Compared with standard R data containers, data tables have a number of advantages, such as efficient subset construction, in-memory operations, internal parallelization, and a syntax that resembles that of SQL queries. Data tables are also highly memory efficient and capable of processing data with over one billion rows. The choice was further motivated by the extremely competitive performance of data tables compared with other popular open-source database-like tools in data science. A regularly updated operational benchmark can be found at <a href=\"https://h2oai.github.io/db-benchmark/\">https://h2oai.github.io/db-benchmark/</a> that measures the speed of data tables and other popular packages such as the datatable Python package and the DataFrames.jl Julia package in carrying out various tasks with input tables up to a size of one billion rows and nine columns (which corresponds to 50GB in memory). Internally, the data.table package does not depend on any other R packages, making it a future-proof choice and easily extendable by the user.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The operational performance of data tables is exemplified both in carrying out computations within groups in a single table and joining multiple tables. For our purposes, efficient operations within a single table are the primary interest. As an example, consider a manipulation event that specifies mortality because of stroke as a logistic regression model. In a data table, the event probabilities for the group that has had at least one stroke can be efficiently computed using vectorized covariates (a subset of the status variables) without making any unnecessary copies of the objects involved.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s4-1",
                    "title": "4.1. Data Tables",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Manipulation events, accumulation events, and the simulator itself are defined as R6 reference classes. R6 is an object-oriented programming system for R provided through the R6 package (<a href=\"#bib8\">Chang, 2019</a>). R6 does not have any package dependencies and does not rely on the S4 or S3 class systems available in base R, unlike the default reference class system. R6 features several advantages over the built-in reference class system, such as vastly improved speed, ease of use, and support for public and private class members. The primary reason to adopt a reference class system is the mutability of the resulting objects; they are modified in place unlike standard R objects, which are always copied upon modification or when used in function calls. See the R6 package vignette titled \u201cPerformance\u201d for speed and memory footprint comparisons between R6 and base R reference classes (also available at <a href=\"https://r6.r-lib.org/articles/Performance.html\">https://r6.r-lib.org/articles/Performance.html</a>).",
                            "type": "paragraph"
                        },
                        {
                            "text": "The typical structure of an R6 class object consists of both fields and methods. Following the standard object-oriented programming paradigm, fields and methods can be either public or private depending on whether they should be accessible externally or only within the class object itself. It is also possible to construct so-called active fields that are accessed as fields but are defined as functions, just like methods are.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The classes for both manipulation events and accumulation events are inherited from a superclass that is simply called an Event. An Event can be given a name and a short description to provide larger context. More importantly, an Event contains the fields mechanism and par, which determine the functionality and parameter configuration of the Event, respectively. The mechanism can be any R expression, and its functionality may depend on the parameters defined by par. The Event superclass provides a template method called apply to evaluate the mechanism, but the actual behavior of this method is determined by the type of the event, and fully controlled by the simulator. The inherited class ManipulationEvent defines the type of events of its namesake. For events of this class, the apply method provides access to the current status of the simulated population and evaluates the mechanism in this context, but cannot introduce new individuals. On the other hand, the inherited class AccumulationEvent allows its mechanism to add new members to the simulated population via the apply method, but is prohibited from manipulating the current population.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The Simulator class implements all of the primary functionality of the framework, including population initialization, state transitions, calibration, sampling, and interventions. The constructor of the class takes the lists of ManipulationEvent and AccumulationEvent objects as an input and calls a user defined function initializer, which constructs the initial population. The run method is the transition function of the simulator, and it uses the apply methods of the event objects given in the constructor at each time point to advance the simulation. The user may control how many state transitions are carried out sequentially for a single run command. The simulator can be instructed to conduct the state transitions in parallel by calling the start_cluster method beforehand. This method connects the simulator to a user defined parallel backend, such as a cluster initialized using the doMPI package, and distributes the population into chunks. Parallel computation can be stopped with the stop_cluster method, which also merges the individual population chunks back together. Configuration of the event parameters is managed by the configure method, which takes as an input the amount of state transitions to be used, the set of parameters to be configured, and an output function to be used as a part of the objective function in the optimization for the calibration. The output function can be simply a statistic that is obtained from the resulting simulation sequence to be compared with a set of validation data. For an example, see the objective function defined for calibration in Section 5.3. Simulated data collection is performed via the get_sample method, which takes as its input a user defined sampling function that returns a subset of the full population. Interventions can be applied at any point of the simulation via the intervene method. This method can apply a set of manipulation events, accumulation events, or parameter configurations to change the current state of the simulator.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s4-2",
                    "title": "4.2. Reference Classes",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "The task of simulating the synthetic population in the described framework can be considered \u201cembarrassingly parallel\u201d (<a href=\"#bib20\">Herlihy and Shavit, 2011</a>). Communication between the parallel tasks is required only when there is a need to consider the population as a whole, such as for calibration or for constructing a time series. In the ideal case, the end state of the population is solely of interest, which minimizes the required communication between tasks.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Parallel CPU processing functionality is provided by the doParallel and foreach packages (<a href=\"#bib38\">Microsoft and S. Weston, 2019</a>; <a href=\"#bib39\">Microsoft and S. Weston, 2020</a>). These packages allow for parallel computation on a single machine with multiple processors or cores, or on multiple machines. Alternatively, Message Passing Interface (MPI) can be used through the packages doMPI and Rmpi (<a href=\"#bib62\">Weston, 2017</a>; <a href=\"#bib67\">Yu, 2002</a>). More generally, any parallel adaptor to the foreach looping construct is supported. The parallel approach takes full advantage of the independence assumption of individuals. This allows us to partition the population into chunks, typically of equal size at the start of the simulation run, and to evaluate the events in each chunk separately by distributing the chunks to a desired number of workers. Shared memory between the workers is not required, and the full unpartitioned population does not have to be kept in memory during the simulation, even for the supervisor process. The dqrng package (<a href=\"#bib57\">Stubner, 2019</a>) allows for multiple simultaneous random number streams, in turn enabling the use of different streams for each worker and making the parallel simulation sensible. The initial seeds for these streams can be manually set by the user for reproducibility. For more details on PRNG in the implementation, see <a href=\"#A3\">Appendix C</a>.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Additional overhead in both memory consumption and processing time is incurred by having to distribute metadata on the population and other necessary information to the subprocesses, such as variable names and the Event instances. Furthermore, constructing the chunks and reintegrating them back together at the end of simulation is an added hindrance. However, these operations do not depend on the length of the simulation run, meaning that the overhead from these particular tasks becomes negligible as the length of the run grows.",
                            "type": "paragraph"
                        },
                        {
                            "text": "<a href=\"#fig2\">Figure 2</a> shows how the processing time is affected by the number of computer cores. The benchmark scenario consists of a population of 10 million individuals, five event types, and a simulation period of 10 years, where the events are applied daily. More specifically, the scenario is the one described in Section 5. The results show that the runtime of the simulation is cut almost in half every time the number of cores is doubled (geometric mean of the consecutive runtime ratios is 0.534). As expected, the proportion of the overhead resulting from the communication between cores and other parallel tasks also grows as the number of cores is increased. It should be noted that in the runs involving up to 32 cores only one computing node was used. For the runs with 64, 128, and 256 cores, the tasks were distributed to three, four, and 10 computing nodes, respectively.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "fig2",
                                    "image": {
                                        "alt": "",
                                        "uri": "%iiif_uri%/00240%2Fijm-00240-fig002.tif",
                                        "size": {
                                            "width": 1654,
                                            "height": 1426
                                        },
                                        "source": {
                                            "mediaType": "image/jpeg",
                                            "uri": "%iiif_uri%/00240%2Fijm-00240-fig002.tif/full/full/0/default.jpg",
                                            "filename": "ijm-00240-fig002.jpg"
                                        }
                                    },
                                    "label": "Figure 2",
                                    "title": "Performance benchmark using a population of 10 million individuals, 5 events and a simulation period of 10 years on a time scale of one day. Total time also includes the time it takes to generate the initial population, initialize the parallel computation cluster and to distribute the data to the cores. MPI was used to conduct the benchmark.",
                                    "type": "image"
                                }
                            ],
                            "type": "figure"
                        }
                    ],
                    "id": "s4-3",
                    "title": "4.3. Parallel Computation",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "In this paper, optimization is used for calibration of the simulator parameters  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf31\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math> . The optimization method used needs to be selected based on the properties of the objective function used for calibration. There exist many optimization tools implemented in R, and we briefly describe the optim function that provides a variety of optimization algorithms. The optim function is developed for general purpose optimization, where box constraints can be set for the decision variables. The function includes implementations of the Nelder-Mead, quasi-Newton, and conjugate gradient algorithms. In the example given in Section 5, we have used the least squares function, which is differentiable, and in the corresponding calibration problem, we do not have explicit bounds for the calibrated parameters, and we do not calculate any gradients for the objective function. Therefore, we will use the Nelder-Mead algorithm from the optim function which is suitable for our purposes (<a href=\"#bib42\">Nelder and Mead, 1965</a>). The Nelder-Mead algorithm does not use any gradient information but works on a set of  <math alttext=\"N+1\" id=\"inf32\"> <mrow> <mi>N</mi> <mo>+</mo> <mn>1</mn> </mrow> </math>  points in a optimization problem with  <math alttext=\"N\" id=\"inf33\"> <mi>N</mi> </math>  decision variables. At each iteration, the main idea is to improve the objective function value of the worst point by using reflections and contractions to identify locally optimal points.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s4-4",
                    "title": "4.4. Optimization",
                    "type": "section"
                }
            ],
            "id": "s4",
            "title": "4. Implementation",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "We present an example use case of the simulator, where we model the occurrence of stroke, type 2 diabetes, and mortality in a synthetic population of 3.6 million individuals, corresponding to the Finnish population size of persons over 30 years of age in the year 2017. The goals of the illustration are threefold. First, we wish to exemplify the use of the simulation framework in building simulators. Second, we aim to build a simulator that can realistically model the occurrence of stroke, type 2 diabetes, and mortality in the Finnish population. Third, we want to illustrate the use of the simulator in methodological comparisons and carry out a simulation where we can study the impact of nonparticipation on the estimated risk model of stroke. See <a href=\"https://santikka.github.io/Sima/articles/example.html\">https://santikka.github.io/Sima/articles/example.html</a> for the annotated R codes and data files used in the example.",
                    "type": "paragraph"
                },
                {
                    "text": "We generate a synthetic population based on the population of Finland, including the status of the following risk factors for each individual: smoking, total cholesterol, high-density lipoprotein (HDL) cholesterol, systolic blood pressure, age, sex, body mass index, high blood glucose, waist circumference, diabetes, and whether either parent has suffered a stroke. A single state transition in the simulator corresponds to one day in real time. The events include the occurrence of stroke, occurrence of diabetes, death after stroke, and death without suffering a stroke. The events modify the status variables that describe the health status of the individual. The daily probabilities of the events depend on the risk factors. The goal is to create a synthetic follow-up study about this population with selective nonparticipation and use the obtained sample to estimate the effect of the risk factors on the risk of stroke and diabetes. Because the daily event probabilities are low, it is unlikely that a person has more than one event per day, so the simulation can be used to study competing risks.",
                    "type": "paragraph"
                },
                {
                    "content": [
                        {
                            "text": "Mortality is modeled separately for individuals who have suffered a stroke and for those who have not. A stroke is considered fatal if an individual dies within 28 days of the initial stroke incident. For simplicity, it is assumed that there can be at most one stroke incident for any individual. The long-term stroke survival rates are modeled according to the results by <a href=\"#bib6\">Br\u00f8nnum-Hansen et al. (2001)</a>, and the remaining mortality is calibrated to match the Finnish population in the year 2017, here based on two factors: mortality rates in each age group and the proportion of deaths because of stroke out of all deaths over one year. We use the official mortality statistics from Statistics Finland for this purpose (<a href=\"#bib43\">Official Statistics of Finland (OSF), 2017</a>).",
                            "type": "paragraph"
                        },
                        {
                            "text": "The model for the occurrence of stroke is based on the FINRISK 10-year risk score (<a href=\"#bib61\">Vartiainen et al., 2016</a>). In the risk score calculation, the 10-year risk of cardiovascular disease is modeled as a sum of two risks: the risk of coronary heart disease and the risk of stroke, both of which are modeled via logistic regression. For our purposes, we use only the stroke portion of the risk score model. The one-day risk for the corresponding manipulation event in obtained by assuming a Poisson process for the stroke. Similarly, the model for the occurrence of type 2 diabetes is based on the FINDRISC (Finnish Diabetes Risk Score) 10-year risk score (<a href=\"#bib31\">Lindstr\u00f6m and Tuomilehto, 2003</a>). Both the FINRISK and the FINDRISC risk score models take into account a number of risk factors. Because these models only consider individuals over the age of 30, we also restrict our simulated population in the same way in terms of age.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The 10-year risk of stroke is modeled separately for both genders while also including the same risk factors. More specifically, the risk factors for stroke include age, smoking status, HDL cholesterol, systolic blood pressure, diabetes status, and an indicator whether either parent of the individual has suffered a stroke. We let  <math alttext=\"C_{it}(t^{*})\" id=\"inf34\"> <mrow> <msub> <mi>C</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>t</mi> </mrow> </msub> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <msup> <mi>t</mi> <mo>*</mo> </msup> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  denote a Poisson process that counts the number of stroke events that have occurred after  <math alttext=\"t^{*}\" id=\"inf35\"> <msup> <mi>t</mi> <mo>*</mo> </msup> </math>  days since time  <math alttext=\"t\" id=\"inf36\"> <mi>t</mi> </math>  for each individual <i>i</i>, hence giving us the following relation:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<mrow>\n<mtext>logit</mtext>\n</mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mi mathvariant=\"double-struck\">P</mi>\n</mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>C</mi>\n<mrow>\n<mi>i</mi>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo stretchy=\"false\">(</mo>\n<mn>3650</mn>\n<mo stretchy=\"false\">)</mo>\n<mo>&gt;</mo>\n<mn>0</mn>\n<mo stretchy=\"false\">)</mo>\n<mo stretchy=\"false\">)</mo>\n<mo>=</mo>\n<mrow>\n<mi mathvariant=\"double-struck\">I</mi>\n</mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>G</mi>\n<mrow>\n<mi>i</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo stretchy=\"false\">)</mo>\n<msubsup>\n<mrow>\n<mi mathvariant=\"bold\">x</mi>\n</mrow>\n<mrow>\n<mi>i</mi>\n<mi>t</mi>\n</mrow>\n<mrow>\n<mrow>\n<mi mathvariant=\"sans-serif\">T</mi>\n</mrow>\n</mrow>\n</msubsup>\n<msub>\n<mi mathvariant=\"bold-italic\">\u03b2</mi>\n<mrow>\n<mi>m</mi>\n</mrow>\n</msub>\n<mo>+</mo>\n<mrow>\n<mi mathvariant=\"double-struck\">I</mi>\n</mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>G</mi>\n<mrow>\n<mi>i</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>1</mn>\n<mo stretchy=\"false\">)</mo>\n<msubsup>\n<mrow>\n<mi mathvariant=\"bold\">x</mi>\n</mrow>\n<mrow>\n<mi>i</mi>\n<mi>t</mi>\n</mrow>\n<mrow>\n<mrow>\n<mi mathvariant=\"sans-serif\">T</mi>\n</mrow>\n</mrow>\n</msubsup>\n<msub>\n<mi mathvariant=\"bold-italic\">\u03b2</mi>\n<mrow>\n<mi>f</mi>\n</mrow>\n</msub>\n<mo>,</mo>\n</mrow>\n</mstyle>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math id=\"inf37\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msub> <mi>G</mi> <mrow> <mi>i</mi> </mrow> </msub> </mrow> </mstyle> </math>  denotes the gender (1 = woman),  <math id=\"inf38\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msubsup> <mrow> <mi mathvariant=\"bold\">x</mi> </mrow> <mrow> <mi>i</mi> <mi>t</mi> </mrow> <mrow> <mrow> <mi mathvariant=\"sans-serif\">T</mi> </mrow> </mrow> </msubsup> </mrow> </mstyle> </math>  is the row vector of status variables for individual  <math alttext=\"i\" id=\"inf39\"> <mi>i</mi> </math>  at time  <math alttext=\"t\" id=\"inf40\"> <mi>t</mi> </math> , and  <math id=\"inf41\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"double-struck\">I</mi> </mrow> </mrow> </mstyle> </math>  is an indicator function. The parameter vectors for the stroke model are denoted by  <math alttext=\"\\boldsymbol{\\beta}_{m}\" id=\"inf42\"> <msub> <mi mathvariant=\"bold-italic\">\u03b2</mi> <mi>m</mi> </msub> </math>  and  <math alttext=\"\\boldsymbol{\\beta}_{f}\" id=\"inf43\"> <msub> <mi mathvariant=\"bold-italic\">\u03b2</mi> <mi>f</mi> </msub> </math>  for men and women, respectively. The values of the model parameters are obtained from the FINRISK risk score. From the 10-year risk, we first obtain the intensity  <math alttext=\"\\tau_{it}\" id=\"inf44\"> <msub> <mi>\u03c4</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>t</mi> </mrow> </msub> </math>  of the underlying Poisson process via the following relation:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mi>\u2119</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>C</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msup>\n<mi>t</mi>\n<mo>*</mo>\n</msup>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<mi>m</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<mfrac>\n<msup>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<msub>\n<mi>\u03c4</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>\u2062</mo>\n<msup>\n<mi>t</mi>\n<mo>*</mo>\n</msup>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mi>m</mi>\n</msup>\n<mrow>\n<mi>m</mi>\n<mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo>\n</mrow>\n</mfrac>\n<msup>\n<mi>e</mi>\n<mrow>\n<mo>-</mo>\n<mrow>\n<msub>\n<mi>\u03c4</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>\u2062</mo>\n<msup>\n<mi>t</mi>\n<mo>*</mo>\n</msup>\n</mrow>\n</mrow>\n</msup>\n<mo>.</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "When applied to the 10-year risk we have the following:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mrow>\n<msub>\n<mi>\u03c4</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mrow>\n<mo>-</mo>\n<mfrac>\n<mrow>\n<mi>log</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>\u2119</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>C</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mn>3650</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<mn>0</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mn>3650</mn>\n</mfrac>\n</mrow>\n</mrow>\n<mo>.</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "The one-day risk of stroke is now modeled as follows:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mtext>logit</mtext>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>\u2119</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>S</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>1</mn>\n<mo stretchy=\"false\">|</mo>\n<msub>\n<mi>S</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<mn>1</mn>\n<mo>-</mo>\n<mi>exp</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mo>-</mo>\n<msub>\n<mi>\u03c4</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"S_{it}\" id=\"inf45\"> <msub> <mi>S</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>t</mi> </mrow> </msub> </math>  is an indicator denoting whether individual <i>i</i> has suffered a stroke at time  <math alttext=\"t\" id=\"inf46\"> <mi>t</mi> </math>  or earlier.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The one-day risk of diabetes is obtained in the exact same way from the model of the 10-year risk of diabetes as the risk of stroke. For the diabetes FINDRISC model, the set of risk factors is different, and the same model parameters are now used for both genders. The risk factors used in the model are age, body mass index, waist circumference, use of blood pressure medication, and high blood glucose.",
                            "type": "paragraph"
                        },
                        {
                            "text": "We use the findings reported in a study by <a href=\"#bib6\">Br\u00f8nnum-Hansen et al. (2001)</a> to model the long-term survival after stroke. The study was conducted as a part of the World Health Organization (WHO) MONICA (Monitoring Trends and Determinants in Cardiovascular Disease) project during 1982\u20131991 and consisted of subjects aged 25 years or older in the Glostrup region of Copenhagen County in Denmark. In the study, a number of stroke subtypes were considered, but for our purposes, we simply use the aggregate results over all variants to model the mortality due to stroke.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The cumulative risk of death reported by <a href=\"#bib6\">Br\u00f8nnum-Hansen et al. (2001)</a> is 28%, 41%, 60%, 76%, and 86% at 28 days, 1 year, 5 years, 10 years, and 15 years after the stroke, respectively. Because the survival probability decreases rapidly during the first 28 days, we construct two models taking into account this 28-day period, and the remaining period up to 15 years from the first stroke incident. The probability that an individual  <math alttext=\"i\" id=\"inf47\"> <mi>i</mi> </math>  who has suffered a stroke does not die at time  <math alttext=\"t\" id=\"inf48\"> <mi>t</mi> </math>  given that they are still alive at time  <math alttext=\"t-1\" id=\"inf49\"> <mrow> <mi>t</mi> <mo>-</mo> <mn>1</mn> </mrow> </math>  and have survived for over 27 days is modeled using a regression model with a logistic link:",
                            "type": "paragraph"
                        },
                        {
                            "label": "(1)",
                            "mathml": "<math>\n<mrow>\n<mtext>logit</mtext>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>\u2119</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>Y</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo stretchy=\"false\">|</mo>\n<msub>\n<mi>Y</mi>\n<mrow>\n<mi>i</mi>\n<mo>,</mo>\n<mrow>\n<mi>t</mi>\n<mo>-</mo>\n<mn>1</mn>\n</mrow>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo>,</mo>\n<msub>\n<mi>S</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>1</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<msub>\n<mi>\u03b1</mi>\n<mn>1</mn>\n</msub>\n<mo>+</mo>\n<msub>\n<mi>\u03b1</mi>\n<mn>2</mn>\n</msub>\n<mi>exp</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>\u03b1</mi>\n<mn>3</mn>\n</msub>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>t</mi>\n<mi>i</mi>\n</msub>\n<mo>-</mo>\n<mn>27</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo rspace=\"12.5pt\">,</mo>\n<msub>\n<mi>t</mi>\n<mi>i</mi>\n</msub>\n<mo>\u00a7gt;</mo>\n<mn>27</mn>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"Y_{it}=0\" id=\"inf50\"> <mrow> <msub> <mi>Y</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>t</mi> </mrow> </msub> <mo>=</mo> <mn>0</mn> </mrow> </math>  denotes the survival of individual <i>i</i> at time  <math alttext=\"t\" id=\"inf51\"> <mi>t</mi> </math> . The time from the stroke occurrence in days is <i>t</i> <sub> <i>i</i> </sub> for individual <i>i</i>. The values of the parameters  <math alttext=\"\\alpha_{1},\\alpha_{2}\" id=\"inf52\"> <mrow> <msub> <mi>\u03b1</mi> <mn>1</mn> </msub> <mo>,</mo> <msub> <mi>\u03b1</mi> <mn>2</mn> </msub> </mrow> </math> , and  <math alttext=\"\\alpha_{3}\" id=\"inf53\"> <msub> <mi>\u03b1</mi> <mn>3</mn> </msub> </math>  are found by directly fitting the model of (1) to the reported survival rates.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The survival during the first 28 days from the stroke incident is assumed to be constant for each day:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mtext>logit</mtext>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>\u2119</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>Y</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo stretchy=\"false\">|</mo>\n<msub>\n<mi>Y</mi>\n<mrow>\n<mi>i</mi>\n<mo>,</mo>\n<mrow>\n<mi>t</mi>\n<mo>-</mo>\n<mn>1</mn>\n</mrow>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo>,</mo>\n<msub>\n<mi>S</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>1</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<msub>\n<mi>\u03b1</mi>\n<mn>0</mn>\n</msub>\n<mo rspace=\"12.5pt\">,</mo>\n<msub>\n<mi>t</mi>\n<mi>i</mi>\n</msub>\n<mo>\u00a7lt;</mo>\n<mn>28</mn>\n<mo>.</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "The reported survival during the initial period varies drastically between the different stroke variants and levels off as more time passes from the first stroke incident. Because our focus lies in simulating a period of 10 years, we consider this simple model to be sufficient for such a small time window of the entire simulation period.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The secondary mortality from other causes is modeled using a Weibull distribution with the following parametrization for the density function:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mrow>\n<mrow>\n<mrow>\n<mi>f</mi>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>x</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>=</mo>\n<mrow>\n<mfrac>\n<mi>\u03bb</mi>\n<mi>\u03ba</mi>\n</mfrac>\n<mo>\u2062</mo>\n<msup>\n<mrow>\n<mo>(</mo>\n<mfrac>\n<mi>x</mi>\n<mi>\u03ba</mi>\n</mfrac>\n<mo>)</mo>\n</mrow>\n<mrow>\n<mi>\u03bb</mi>\n<mo>-</mo>\n<mn>1</mn>\n</mrow>\n</msup>\n<mo>\u2062</mo>\n<mrow>\n<mi>exp</mi>\n<mo>\u2061</mo>\n<mrow>\n<mo>(</mo>\n<mrow>\n<mo>-</mo>\n<msup>\n<mrow>\n<mo>(</mo>\n<mfrac>\n<mi>x</mi>\n<mi>\u03ba</mi>\n</mfrac>\n<mo>)</mo>\n</mrow>\n<mi>\u03bb</mi>\n</msup>\n</mrow>\n<mo>)</mo>\n</mrow>\n</mrow>\n</mrow>\n</mrow>\n<mo rspace=\"12.5pt\">,</mo>\n<mrow>\n<mi>x</mi>\n<mo>\u00a7gt;</mo>\n<mn>0</mn>\n</mrow>\n</mrow>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"\\lambda\u00a7gt;0\" id=\"inf54\"> <mrow> <mi>\u03bb</mi> <mo>\u00a7gt;</mo> <mn>0</mn> </mrow> </math>  is the shape parameter and  <math alttext=\"\\kappa\u00a7gt;0\" id=\"inf55\"> <mrow> <mi>\u03ba</mi> <mo>\u00a7gt;</mo> <mn>0</mn> </mrow> </math>  is the scale parameter of the distribution. The probability that individual <i>i</i> dies at a specific time  <math alttext=\"t\" id=\"inf56\"> <mi>t</mi> </math>  without having previously suffered a stroke given that they are still alive at time  <math alttext=\"t-1\" id=\"inf57\"> <mrow> <mi>t</mi> <mo>-</mo> <mn>1</mn> </mrow> </math>  is defined by the following:",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mi>\u2119</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>Y</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>1</mn>\n<mo stretchy=\"false\">|</mo>\n<msub>\n<mi>Y</mi>\n<mrow>\n<mi>i</mi>\n<mo>,</mo>\n<mrow>\n<mi>t</mi>\n<mo>-</mo>\n<mn>1</mn>\n</mrow>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo>,</mo>\n<msub>\n<mi>S</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>=</mo>\n<mn>0</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<mi>F</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>A</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mo>;</mo>\n<mi>\u03bb</mi>\n<mo>,</mo>\n<mi>\u03ba</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<mn>1</mn>\n<mo>-</mo>\n<mi>exp</mi>\n<mrow>\n<mo>(</mo>\n<mo>-</mo>\n<msup>\n<mrow>\n<mo>(</mo>\n<mfrac>\n<msub>\n<mi>A</mi>\n<mrow>\n<mi>i</mi>\n<mo>\u2062</mo>\n<mi>t</mi>\n</mrow>\n</msub>\n<mi>\u03ba</mi>\n</mfrac>\n<mo>)</mo>\n</mrow>\n<mi>\u03bb</mi>\n</msup>\n<mo>)</mo>\n</mrow>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"A_{it}\" id=\"inf58\"> <msub> <mi>A</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>t</mi> </mrow> </msub> </math>  is the age of individual  <math alttext=\"i\" id=\"inf59\"> <mi>i</mi> </math>  at time  <math alttext=\"t\" id=\"inf60\"> <mi>t</mi><mi>. </mi><mi>F</mi> </math>  is the cumulative distribution function of the Weibull distribution.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s5-1",
                    "title": "5.1. The Models for the Events",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Equally important with the accurate modelling of the events is the generation of realistic initial values for the various health indicators, risk factors, and other variables in the population. Each individual is defined as being alive at the initial state, and the gender is generated simply by a fair coin flip. The ages are generated separately for both genders based on the age structure of Finland in the year 2017 from the official statistics, here with the restriction that every individual is at least 30 years old (<a href=\"#bib44\">Official Statistics of Finland (OSF), 2017</a>).",
                            "type": "paragraph"
                        },
                        {
                            "text": "We use Finnish data (the 20% sample available as open data) from the final survey of the MONICA project to obtain the initial values for BMI, waist circumference, cholesterol, HDL cholesterol, and systolic blood pressure (<a href=\"#bib59\">Tunstall-Pedoe et al., 2003</a>). First, we transform these variables in the data into normality using a Box-Cox transformation separately in each age group for both genders and based on smoking status (<a href=\"#bib5\">Box and Cox, 1964</a>). Smoking is defined here as a dichotomous variable so that an individual is considered a smoker if their self-reported smoking frequency for cigarettes, cigars, or pipe is either \u201coften\u201d or \u201coccasionally\u201d in the MONICA data. Next, we fit a multivariate normal distribution to the transformed data in each subgroup and generate values from this distribution to take the correlation structure of the variables into account. Finally, the inverse transformation is applied to the generated values. We also apply a post-hoc correction to the generated values by restricting them to the ranges observed in the Health 2000\u20132011 study data. Values that fall outside the valid ranges are replaced by other generated values that fall within the valid ranges from individuals in the same age group that are of the same gender and have the same smoking status.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The report by <a href=\"#bib25\">Koponen et al. (2018)</a> provides the distributions of smoking and stroke in a representative sample of the general Finnish population in the year 2017. For example, the study reports the proportion of nonsmokers for each age group starting from 30-year-olds with 10-year intervals by gender. For the FINRISK model, the variable that either parent of an individual has suffered a stroke is initialized by setting the probability of having at least one parent who has suffered a stroke to be the sum of the gender-specific, age-adjusted stroke incidence rates for persons over 50 years old in the FinHealth 2017 study. For smoking, we use the reported gender and age-specific proportions directly as parameters for binomial distributions to generate the initial values. For those individuals in the initial population who have suffered a stroke, an accumulated survival time is generated from a Weibull distribution fitted to the 1-year, 5-year, 10-year and 15-year survival rates that were reported by <a href=\"#bib6\">Br\u00f8nnum-Hansen et al. (2001)</a> while ensuring that the stroke could not have occurred before 30 years of age.",
                            "type": "paragraph"
                        },
                        {
                            "text": "After all other initial values have been generated, the initial diabetes status is generated by first using the FINDRISC model to predict the 10-year risk for each individual in the initial population, and then adjusting the individual risks such that the total expected gender-specific diabetes prevalence matches that of Finland in the year 2017 (15% for men and 10% for women). The adjusted risks are then used as the probabilities of having diabetes at initialization for each individual.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s5-2",
                    "title": "5.2. Initial Population",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "We employ calibration to obtain the values for the parameters  <math alttext=\"\\lambda\" id=\"inf61\"> <mi>\u03bb</mi> </math>  and  <math alttext=\"\\kappa\" id=\"inf62\"> <mi>\u03ba</mi> </math>  of the non-stroke-related mortality model, as well as for the parameter  <math alttext=\"\\alpha_{0}\" id=\"inf63\"> <msub> <mi>\u03b1</mi> <mn>0</mn> </msub> </math>  of the fatal stroke model. The objective function  <math alttext=\"g\" id=\"inf64\"> <mi>g</mi> </math>  compares the official mortality statistics with those obtained from the simulation for a period of one year.",
                            "type": "paragraph"
                        },
                        {
                            "label": "(2)",
                            "mathml": "<math>\n<mrow>\n<mrow>\n<mi>g</mi>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold\">Y</mi>\n<mo>,</mo>\n<mrow>\n<mover accent=\"true\">\n<mi mathvariant=\"bold\">Y</mi>\n<mo>^</mo>\n</mover>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>=</mo>\n<mrow>\n<mrow>\n<munderover>\n<mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo>\n<mrow>\n<mi>k</mi>\n<mo>=</mo>\n<mn>30</mn>\n</mrow>\n<mn>99</mn>\n</munderover>\n<mrow>\n<msub>\n<mi>w</mi>\n<mi>k</mi>\n</msub>\n<mo>\u2062</mo>\n<msup>\n<mrow>\n<mo>[</mo>\n<mrow>\n<mrow>\n<mi>log</mi>\n<mo>\u2061</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mover accent=\"true\">\n<mi>y</mi>\n<mo stretchy=\"false\">^</mo>\n</mover>\n<mi>k</mi>\n</msub>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>-</mo>\n<mrow>\n<mi>log</mi>\n<mo>\u2061</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>y</mi>\n<mi>k</mi>\n</msub>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n</mrow>\n<mo>]</mo>\n</mrow>\n<mn>2</mn>\n</msup>\n</mrow>\n</mrow>\n<mo>+</mo>\n<mrow>\n<msup>\n<mi>w</mi>\n<mo>*</mo>\n</msup>\n<mo>\u2062</mo>\n<msup>\n<mrow>\n<mo>[</mo>\n<mrow>\n<mrow>\n<mi>log</mi>\n<mo>\u2061</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mover accent=\"true\">\n<mi>p</mi>\n<mo stretchy=\"false\">^</mo>\n</mover>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>-</mo>\n<mrow>\n<mi>log</mi>\n<mo>\u2061</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>p</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n</mrow>\n<mo>]</mo>\n</mrow>\n<mn>2</mn>\n</msup>\n</mrow>\n</mrow>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"\\widehat{\\mathbf{Y}}(\\boldsymbol{\\theta})=(\\hat{y}_{30},\\ldots,\\hat{y}_{99}, \\hat{p})\" id=\"inf65\"> <mrow> <mrow> <mover accent=\"true\"> <mi mathvariant=\"bold\">Y</mi> <mo>^</mo> </mover> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <mo stretchy=\"false\">(</mo> <msub> <mover accent=\"true\"> <mi>y</mi> <mo stretchy=\"false\">^</mo> </mover> <mn>30</mn> </msub> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <msub> <mover accent=\"true\"> <mi>y</mi> <mo stretchy=\"false\">^</mo> </mover> <mn>99</mn> </msub> <mo>,</mo> <mover accent=\"true\"> <mi>p</mi> <mo stretchy=\"false\">^</mo> </mover> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  is the simulation output with the event parameters set to  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf66\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math> , <i>w</i> <sub> <i>k</i> </sub> and  <math alttext=\"w^{*}\" id=\"inf67\"> <msup> <mi>w</mi> <mo>*</mo> </msup> </math>  are weights,  <math alttext=\"\\hat{y}_{30},\\ldots,\\hat{y}_{99}\" id=\"inf68\"> <mrow> <msub> <mover accent=\"true\"> <mi>y</mi> <mo stretchy=\"false\">^</mo> </mover> <mn>30</mn> </msub> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <msub> <mover accent=\"true\"> <mi>y</mi> <mo stretchy=\"false\">^</mo> </mover> <mn>99</mn> </msub> </mrow> </math>  denotes the estimated mortality for each age group  <math alttext=\"k\" id=\"inf69\"> <mi>k</mi> </math> , and  <math alttext=\"\\hat{p}\" id=\"inf70\"> <mover accent=\"true\"> <mi>p</mi> <mo stretchy=\"false\">^</mo> </mover> </math>  is the estimated proportion of stroke deaths.  <math alttext=\"\\mathbf{Y}\" id=\"inf71\"> <mi mathvariant=\"bold\">Y</mi> </math>  denotes the corresponding true numbers  <math alttext=\"(y_{30},\\ldots,y_{99},p)\" id=\"inf72\"> <mrow> <mo stretchy=\"false\">(</mo> <msub> <mi>y</mi> <mn>30</mn> </msub> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <msub> <mi>y</mi> <mn>99</mn> </msub> <mo>,</mo> <mi>p</mi> <mo stretchy=\"false\">)</mo> </mrow> </math>  obtained from the official statistics. The weights <i>w</i> <sub> <i>k</i> </sub> were chosen so that  <math alttext=\"w_{k}=1\" id=\"inf73\"> <mrow> <msub> <mi>w</mi> <mi>k</mi> </msub> <mo>=</mo> <mn>1</mn> </mrow> </math>  when  <math alttext=\"k\u00a7lt;80\" id=\"inf74\"> <mrow> <mi>k</mi> <mo>\u00a7lt;</mo> <mn>80</mn> </mrow> </math>  and  <math alttext=\"w_{k}=100\" id=\"inf75\"> <mrow> <msub> <mi>w</mi> <mi>k</mi> </msub> <mo>=</mo> <mn>100</mn> </mrow> </math>  otherwise. In the framework, the calibration is carried out by implementing the objective function  <math alttext=\"g\" id=\"inf76\"> <mi>g</mi> </math>  as an R function that takes advantage of the configure method of the simulator to change the parameter values during the optimization.",
                            "type": "paragraph"
                        },
                        {
                            "text": "In this case, we observed that the optimum is reached faster when using a weighted least squares approach, because the mortality is much higher in the older age groups. On the other hand, the total yearly mortalities for younger age groups are close to zero, meaning that the size of the simulated population must be sufficiently large for the estimates to be accurate. The value  <math alttext=\"2000\" id=\"inf77\"> <mn>2000</mn> </math>  was chosen for the weight  <math alttext=\"w^{*}\" id=\"inf78\"> <msup> <mi>w</mi> <mo>*</mo> </msup> </math> , which roughly translates to equal importance of the age-group-specific mortalities and the proportion of strokes in the optimization.",
                            "type": "paragraph"
                        },
                        {
                            "text": "We found that increasing the population size beyond one million individuals did not change the results of the calibration in this scenario. We also considered more elaborate weighting schemes, but the effect of the weights diminishes as the population size grows. The described weights were chosen based on trial and error with small populations (less than 10,000 individuals). <a href=\"#fig3\">Figure 3</a> shows the simulated mortalities after calibration for each age group, as well as those obtained from the official statistics for ages 30\u201399. In the year 2017, 7.5% out of all deaths in Finland were caused by a stroke (classification falling under ICD-10 Chapter IX I60\u2013I69). For the synthetic population, the same number is 7.8%.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "fig3",
                                    "image": {
                                        "alt": "",
                                        "uri": "%iiif_uri%/00240%2Fijm-00240-fig003.tif",
                                        "size": {
                                            "width": 1654,
                                            "height": 1079
                                        },
                                        "source": {
                                            "mediaType": "image/jpeg",
                                            "uri": "%iiif_uri%/00240%2Fijm-00240-fig003.tif/full/full/0/default.jpg",
                                            "filename": "ijm-00240-fig003.jpg"
                                        }
                                    },
                                    "label": "Figure 3",
                                    "title": "Simulated mortality in a population of 3.6 million individuals after calibration and official mortality statistics of Finland for the year 2017 by age. A population of one million individuals was used for the calibration.",
                                    "type": "image"
                                }
                            ],
                            "type": "figure"
                        }
                    ],
                    "id": "s5-3",
                    "title": "5.3. Calibration",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "We simulate a data collection process where individuals from the simulated population are invited into a health examination survey. The measurements of the relevant risk factors are taken at baseline, and the study participants are then subsequently followed for the 10-year period. In real-world studies, participation may depend on a number of factors, especially when dealing with sensitive information about an individual\u2019s health. This leads to selective nonparticipation. We use a logistic regression model to simulate the effect that the relevant status variables have on the probability of nonparticipation at baseline. The chosen model is defined as follows:",
                            "type": "paragraph"
                        },
                        {
                            "label": "(3)",
                            "mathml": "<math>\n<mrow>\n<mi>logit</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>\u2119</mi>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>M</mi>\n<mi>i</mi>\n</msub>\n<mo>=</mo>\n<mn>1</mn>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<msub>\n<mi>\u03c1</mi>\n<mn>0</mn>\n</msub>\n<mo>+</mo>\n<msub>\n<mi>\u03c1</mi>\n<mn>1</mn>\n</msub>\n<msub>\n<mi>G</mi>\n<mi>i</mi>\n</msub>\n<mo>+</mo>\n<msub>\n<mi>\u03c1</mi>\n<mn>2</mn>\n</msub>\n<msub>\n<mi>A</mi>\n<mi>i</mi>\n</msub>\n<mo>+</mo>\n<msub>\n<mi>\u03c1</mi>\n<mn>3</mn>\n</msub>\n<msub>\n<mi>B</mi>\n<mi>i</mi>\n</msub>\n<mo>+</mo>\n<msub>\n<mi>\u03c1</mi>\n<mn>4</mn>\n</msub>\n<msub>\n<mi>O</mi>\n<mi>i</mi>\n</msub>\n<mo>+</mo>\n<msub>\n<mi>\u03c1</mi>\n<mn>5</mn>\n</msub>\n<msub>\n<mi>W</mi>\n<mi>i</mi>\n</msub>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"M_{i}\" id=\"inf79\"> <msub> <mi>M</mi> <mi>i</mi> </msub> </math>  is an indicator of nonparticipation and  <math alttext=\"G_{i}\" id=\"inf80\"> <msub> <mi>G</mi> <mi>i</mi> </msub> </math> ,  <math alttext=\"A_{i}\" id=\"inf81\"> <msub> <mi>A</mi> <mi>i</mi> </msub> </math> ,  <math alttext=\"B_{i}\" id=\"inf82\"> <msub> <mi>B</mi> <mi>i</mi> </msub> </math> ,  <math alttext=\"O_{i}\" id=\"inf83\"> <msub> <mi>O</mi> <mi>i</mi> </msub> </math> , and  <math alttext=\"W_{i}\" id=\"inf84\"> <msub> <mi>W</mi> <mi>i</mi> </msub> </math>  are the gender (1 = woman), age (in years), body mass index (BMI), smoking indicator, and waist circumference (in cm) of individual  <math alttext=\"i\" id=\"inf85\"> <mi>i</mi> </math>  at baseline, respectively. Much like the calibration described in the previous section, the nonparticipation model (3) is implemented in the framework as an R function, and provided to the get_sample method of the simulator as an argument.",
                            "type": "paragraph"
                        },
                        {
                            "text": "The estimates for the parameters  <math alttext=\"\\rho_{k}\" id=\"inf86\"> <msub> <mi>\u03c1</mi> <mi>k</mi> </msub> </math> ,  <math alttext=\"k=0,\\ldots,5\" id=\"inf87\"> <mrow> <mi>k</mi> <mo>=</mo> <mrow> <mn>0</mn> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <mn>5</mn> </mrow> </mrow> </math>  are based on data from the Health 2000\u20132011 study (<a href=\"#bib17\">H\u00e4rk\u00e4nen et al., 2016</a>) and are shown in <a href=\"#table1\">Table 1</a>, along with their 95% confidence intervals.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "table1",
                                    "label": "Table 1",
                                    "tables": [
                                        "<table>\n<thead>\n<tr>\n<th align=\"left\"/>\n<th align=\"left\">\n\n<math alttext=\"-\" id=\"inf88\">\n<mo>-</mo>\n</math>\n\n\n<math alttext=\"\\widehat{\\rho_{k}}\" id=\"inf89\">\n<mover accent=\"true\">\n<msub>\n<mi mathsize=\"80%\">\u03c1</mi>\n<mi mathsize=\"80%\">k</mi>\n</msub>\n<mo mathsize=\"80%\" stretchy=\"false\">^</mo>\n</mover>\n</math>\n\n</th>\n<th align=\"left\">\n\n<math alttext=\"\\widehat{\\exp(\\rho_{k})}\" id=\"inf90\">\n<mover accent=\"true\">\n<mrow>\n<mi mathsize=\"80%\">exp</mi>\n<mo>\u2061</mo>\n<mrow>\n<mo maxsize=\"80%\" minsize=\"80%\">(</mo>\n<msub>\n<mi mathsize=\"80%\">\u03c1</mi>\n<mi mathsize=\"80%\">k</mi>\n</msub>\n<mo maxsize=\"80%\" minsize=\"80%\">)</mo>\n</mrow>\n</mrow>\n<mo mathsize=\"80%\" stretchy=\"false\">^</mo>\n</mover>\n</math>\n\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">Intercept</td>\n<td align=\"left\">\u22129.48 (\u221210.68, \u22128.32)</td>\n<td align=\"left\"/>\n</tr>\n<tr>\n<td align=\"left\">Gender</td>\n<td align=\"left\">\u22120.31 (\u22120.62, \u22120.01)</td>\n<td align=\"left\">0.73 (0.54, 0.99)</td>\n</tr>\n<tr>\n<td align=\"left\">Age</td>\n<td align=\"left\">\n\n<math alttext=\"-\" id=\"inf91\">\n<mo>-</mo>\n</math>\n0.11 (0.10, 0.12)</td>\n<td align=\"left\">1.12 (1.11, 1.13)</td>\n</tr>\n<tr>\n<td align=\"left\">BMI</td>\n<td align=\"left\">\u22120.09 (\u22120.15, \u22120.03)</td>\n<td align=\"left\">0.91 (0.86, 0.97)</td>\n</tr>\n<tr>\n<td align=\"left\">Smoking</td>\n<td align=\"left\">\n\n<math alttext=\"-\" id=\"inf92\">\n<mo>-</mo>\n</math>\n0.69 (0.44, 0.94)</td>\n<td align=\"left\">1.99 (1.56, 2.56)</td>\n</tr>\n<tr>\n<td align=\"left\">Waist Circumference</td>\n<td align=\"left\">\n\n<math alttext=\"-\" id=\"inf93\">\n<mo>-</mo>\n</math>\n0.04 (0.02, 0.06)</td>\n<td align=\"left\">1.04 (1.02, 1.06)</td>\n</tr>\n</tbody>\n</table>"
                                    ],
                                    "title": "Estimated parameter values, odds ratios, and their 95% confidence intervals for the model of baseline nonparticipation.",
                                    "type": "table"
                                }
                            ],
                            "type": "figure"
                        }
                    ],
                    "id": "s5-4",
                    "title": "5.4. Sampling and Nonparticipation",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "After generating the initial population, we then proceeded to run the simulation for a 10-year period. From the initial population of 3.6 million individuals, a subset of 10,000 individuals were randomly sampled to be invited into a health examination survey with nonparticipation occurring at baseline. Individuals who had already suffered a stroke were excluded.",
                            "type": "paragraph"
                        },
                        {
                            "text": "From the initial invitees, 336 individuals were excluded because of a previous stroke incident. Afterwards, 1,644 invitees decided not to participate. In this scenario, we assume that there is no item nonresponse for the 7,900 remaining participants. Much like the FINRISK risk score, we model the 10-year risk of stroke separately for both genders via a logistic regression. We compare the results from; A) the sample with baseline nonresponse, B) the sample without nonparticipation, and C) the entire synthetic population. <a href=\"#table2\">Tables 2 and 3</a> show the results for the parameter estimation for men and women, respectively.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "table2",
                                    "label": "Table 2",
                                    "tables": [
                                        "<table>\n<thead>\n<tr>\n<th align=\"left\"/>\n<th align=\"left\">A</th>\n<th align=\"left\">B</th>\n<th align=\"left\">C</th>\n<th align=\"left\">FINRISK</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">Age</td>\n<td align=\"left\">1.11 (1.10, 1.13)</td>\n<td align=\"left\">1.10 (1.10, 1.11)</td>\n<td align=\"left\">1.10 (1.09, 1.10)</td>\n<td align=\"left\">1.12</td>\n</tr>\n<tr>\n<td align=\"left\">Smoking</td>\n<td align=\"left\">2.13 (1.52, 2.96)</td>\n<td align=\"left\">1.67 (1.27, 2.19)</td>\n<td align=\"left\">1.53 (1.50, 1.55)</td>\n<td align=\"left\">1.65</td>\n</tr>\n<tr>\n<td align=\"left\">Systolic blood pressure</td>\n<td align=\"left\">1.01 (1.00, 1.02)</td>\n<td align=\"left\">1.01 (1.01, 1.02)</td>\n<td align=\"left\">1.02 (1.02, 1.02)</td>\n<td align=\"left\">1.02</td>\n</tr>\n<tr>\n<td align=\"left\">HDL cholesterol</td>\n<td align=\"left\">0.73 (0.48, 1.07)</td>\n<td align=\"left\">0.67 (0.49, 0.91)</td>\n<td align=\"left\">0.65 (0.64, 0.66)</td>\n<td align=\"left\">0.64</td>\n</tr>\n<tr>\n<td align=\"left\">Diabetes</td>\n<td align=\"left\">2.30 (1.67, 3.13)</td>\n<td align=\"left\">2.38 (1.87, 3.02)</td>\n<td align=\"left\">2.31 (2.28, 2.34)</td>\n<td align=\"left\">2.41</td>\n</tr>\n<tr>\n<td align=\"left\">Parents\u2019 stroke</td>\n<td align=\"left\">1.25 (0.83, 1.84)</td>\n<td align=\"left\">1.41 (1.04, 1.89)</td>\n<td align=\"left\">1.33 (1.31, 1.35)</td>\n<td align=\"left\">1.34</td>\n</tr>\n</tbody>\n</table>"
                                    ],
                                    "title": "Estimated odds ratios and their 95% confidence intervals for the model of 10-year risk of stroke for men.",
                                    "type": "table"
                                }
                            ],
                            "type": "figure"
                        },
                        {
                            "assets": [
                                {
                                    "id": "table3",
                                    "label": "Table 3",
                                    "tables": [
                                        "<table>\n<thead>\n<tr>\n<th align=\"left\"/>\n<th align=\"left\">A</th>\n<th align=\"left\">B</th>\n<th align=\"left\">C</th>\n<th align=\"left\">FINRISK</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">Age</td>\n<td align=\"left\">1.06 (1.05, 1.08)</td>\n<td align=\"left\">1.05 (1.04, 1.06)</td>\n<td align=\"left\">1.05 (1.05, 1.05)</td>\n<td align=\"left\">1.07</td>\n</tr>\n<tr>\n<td align=\"left\">Smoking</td>\n<td align=\"left\">1.67 (1.01, 2.66)</td>\n<td align=\"left\">1.62 (1.05, 2.44)</td>\n<td align=\"left\">1.40 (1.37, 1.44)</td>\n<td align=\"left\">1.52</td>\n</tr>\n<tr>\n<td align=\"left\">Systolic blood pressure</td>\n<td align=\"left\">1.01 (1.00, 1.01)</td>\n<td align=\"left\">1.01 (1.01, 1.02)</td>\n<td align=\"left\">1.01 (1.01, 1.01)</td>\n<td align=\"left\">1.01</td>\n</tr>\n<tr>\n<td align=\"left\">HDL cholesterol</td>\n<td align=\"left\">0.50 (0.32, 0.76)</td>\n<td align=\"left\">0.54 (0.37, 0.78)</td>\n<td align=\"left\">0.45 (0.44, 0.46)</td>\n<td align=\"left\">0.47</td>\n</tr>\n<tr>\n<td align=\"left\">Diabetes</td>\n<td align=\"left\">3.70 (2.54, 5.34)</td>\n<td align=\"left\">3.37 (2.43, 4.62)</td>\n<td align=\"left\">3.21 (3.16, 3.27)</td>\n<td align=\"left\">3.45</td>\n</tr>\n<tr>\n<td align=\"left\">Parents\u2019 stroke</td>\n<td align=\"left\">2.18 (1.42, 3.27)</td>\n<td align=\"left\">2.02 (1.39, 2.87)</td>\n<td align=\"left\">1.69 (1.65, 1.72)</td>\n<td align=\"left\">1.73</td>\n</tr>\n</tbody>\n</table>"
                                    ],
                                    "title": "Estimated odds ratios and their 95% confidence intervals for the model of 10-year risk of stroke for women.",
                                    "type": "table"
                                }
                            ],
                            "type": "figure"
                        },
                        {
                            "text": "The incidence of stroke in sample A was 543 of 100,000 per year whereas in sample B, the same number is 728 of 100,000 per year, showing the bias caused by the baseline nonresponse because the incidence in the full population in sample C is 723 of 100,000 per year. As expected, the odds ratio estimates do not differ greatly between samples A and B because the missingness mechanism of (3) is ignorable because it does not depend on the stroke occurrence itself.",
                            "type": "paragraph"
                        },
                        {
                            "text": "Although some discrepancies remain between the true values and the estimates even when using the entire synthetic population, namely in the case of smoking and diabetes, overall, the results indicate that adapting the one-day risk from the 10-year risk by assuming a Poisson process is a valid strategy here. The example further highlights the importance of taking the underlying correlation structure of the risk factors into account in the initial data generation. For example, the MONICA data do not contain information on diabetes, so some loss of information likely occurs when the initial diabetes status is based purely on the FINDRISC model. Similarly, the initial values for smoking are generated based on the FinHealth 2017 study, and the distribution of smokers has changed significantly in Finland from 1992 when the MONICA data were collected. Furthermore, our definition of a smoker is not identical to the original FINRISK study (<a href=\"#bib61\">Vartiainen et al., 2016</a>), where a person was considered a smoker if they had smoked for at least a year and had smoked in the last month. In the study, it is also not reported whether only cigarette smokers were considered or if, for example, cigar and pipe smokers were included as well. The MONICA data do not provide enough information on smoking history of the participants to fully match the FINRISK definition.",
                            "type": "paragraph"
                        },
                        {
                            "text": "In general, constructing a daily-level simulator is challenging if only long-term prediction models are available. In a more ideal setting, we would have access to survival models, and, thus, more accurate information on the relation between the risk and risk factors because no information would be lost via discretization into binary outcomes. Additionally, data containing information on the joint distribution of the risk factors is crucial for replicating the correlation structure accurately in the synthetic intitial population.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s5-5",
                    "title": "5.5. Simulation Results on Stroke Incidence and Risk Factors",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "We demonstrate the use of interventions in the framework by considering the causal effect of salt intake on the risk of stroke as mediated by blood pressure. The typical salt intake in many countries is 9\u201312 g/day, while the recommended level is 5\u20136 g/day (<a href=\"#bib64\">WHO, 2003</a>; <a href=\"#bib18\">He et al., 2013</a>). Based on a meta-analysis (<a href=\"#bib18\">He et al., 2013</a>), a 100 mmol (6 g of salt per day) reduction in 24-hour urinary sodium was associated with a fall in systolic blood pressure of 5.8 mmHg. We consider three scenarios. The first scenario corresponds to the full population sample without interventions. In the second scenario, it is assumed that the food industry reduces the salt content in all products, so the daily sodium intake is 1 g lower. The systolic blood pressure will then be 0.97 mmHg lower on average. In the third scenario, an intervention is targeted to individuals with high blood pressure, which is defined here as systolic blood pressure at or above 140 mmHg. These individuals are advised to stop adding salt in cooking and at the table. It is assumed that 50% of the target group will follow the advice. Based on a recent analysis (<a href=\"#bib23\">Karvanen et al., 2021</a>), this intervention is expected to reduce systolic blood pressure on average by 2.0 mmHg among the compliers. In the framework, both interventions are implemented as ManipulationEvent instances and applied via the intervene method at the start of the simulation.",
                            "type": "paragraph"
                        },
                        {
                            "text": "<a href=\"#fig4\">Figure 4</a> shows the total number of new stroke cases in the three scenarios. We see that in this example, the intervention where the food industry reduces the salt content in all products is the most effective at reducing the number of total stroke cases, while the advice to stop adding salt in cooking and at the table targeted toward individuals with high blood pressure is slightly less effective in comparison.",
                            "type": "paragraph"
                        },
                        {
                            "assets": [
                                {
                                    "id": "fig4",
                                    "image": {
                                        "alt": "",
                                        "uri": "%iiif_uri%/00240%2Fijm-00240-fig004.tif",
                                        "size": {
                                            "width": 1654,
                                            "height": 1437
                                        },
                                        "source": {
                                            "mediaType": "image/jpeg",
                                            "uri": "%iiif_uri%/00240%2Fijm-00240-fig004.tif/full/full/0/default.jpg",
                                            "filename": "ijm-00240-fig004.jpg"
                                        }
                                    },
                                    "label": "Figure 4",
                                    "title": "Boxplots of the total number of new stroke cases in the three scenarios from 100 replications of each scenario (from the same initial population in each scenario and replication). \u201cBaseline\u201d is the scenario without interventions, \u201cIndustry\u201d corresponds to the salt content reduction carried out by the food industry, and \u201cAdvice\u201d is the recommendation regarding salt use targeted towards individuals with high blood pressure.",
                                    "type": "image"
                                }
                            ],
                            "type": "figure"
                        }
                    ],
                    "id": "s5-6",
                    "title": "5.6. Simulation Results on the Effect of Interventions",
                    "type": "section"
                }
            ],
            "id": "s5",
            "title": "5. Example on Diabetes and Stroke",
            "type": "section"
        },
        {
            "content": [
                {
                    "text": "In this paper, we have presented a framework for the realistic data generation and simulation of complex systems, demonstrating its use in the heath domain. The framework implements functionalities that are in line with the features listed in the Introduction. The framework supports individual-level events on an arbitrary time scale and contains functions to calibrate the simulation parameters with external data sources. These functionalities, together with sufficient knowledge for modeling data-generating mechanisms, are the prerequisites for realistic simulations. The framework has a modular structure, which allows for simulating manipulations of different types. The modular structure also makes it possible to simulate complex data collection processes. The state-of-the-art data structures, efficient random number generation, and built-in parallelization ensure the scalability of the framework, making it possible to run daily-level simulations for populations of millions individuals for decades. The simulation runs are fully reproducible. An open-source implementation in R makes the framework directly available for statistics and data science communities.",
                    "type": "paragraph"
                },
                {
                    "text": "The main use cases of the simulation framework are predicting the development of risk factors and disease occurrence, evaluating the impact of interventions and policy decisions, and statistical method development. In the first two use cases, the support for calibration, the support for manipulations, and the support for scalability are important features. The support for manipulations, especially the support for interventions, is crucial for decision making. In method development, the role of data collection mechanisms becomes central. Our example comprehensively demonstrates all features of the simulation framework.",
                    "type": "paragraph"
                },
                {
                    "text": "In future work, we would like to apply the presented framework to real-world scenarios that are similar to our example in Section 5, where decision making involving healthcare policies and treatment interventions is required. A key challenge for the use of simulations in medical decision making is related to causality. Information on the causal effects of risk factors is needed to simulate the effect of interventions realistically. By default, risk prediction models based on observational data are not causal models. This holds also for the FINRISK and the FINDRISC risk score models defined in Section 5.1. The advances in causal inference and epidemiology are expected to improve the possibilities to conduct increasingly realistic simulations in the future.",
                    "type": "paragraph"
                }
            ],
            "id": "s6",
            "title": "6. Discussion",
            "type": "section"
        }
    ],
    "references": [
        {
            "articleTitle": "Can we believe the DAGs? A comment on the relationship between causal dags and mechanisms",
            "authors": [
                {
                    "name": {
                        "index": "Aalen, O",
                        "preferred": "O Aalen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "R\u00f8ysland, K",
                        "preferred": "K R\u00f8ysland"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Gran, JM",
                        "preferred": "JM Gran"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Kouyos, R",
                        "preferred": "R Kouyos"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Lange, T",
                        "preferred": "T Lange"
                    },
                    "type": "person"
                }
            ],
            "date": "2016",
            "doi": "10.1177/0962280213520436",
            "id": "bib1",
            "journal": "Statistical Methods in Medical Research",
            "pages": {
                "first": "2294",
                "last": "2314",
                "range": "2294\u20132314"
            },
            "type": "journal",
            "volume": "\n25\n"
        },
        {
            "articleTitle": "Limiting youth access to tobacco: Comparing the long-term health impacts of increasing cigarette excise taxes and raising the legal smoking age to 21 in the United States",
            "authors": [
                {
                    "name": {
                        "index": "Ahmad, S",
                        "preferred": "S Ahmad"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Billimek, J",
                        "preferred": "J Billimek"
                    },
                    "type": "person"
                }
            ],
            "date": "2007",
            "doi": "10.1016/j.healthpol.2006.04.001",
            "id": "bib2",
            "journal": "Health Policy",
            "pages": {
                "first": "378",
                "last": "391",
                "range": "378\u2013391"
            },
            "type": "journal",
            "volume": "\n80\n"
        },
        {
            "articleTitle": "Continuous-time causal mediation analysis",
            "authors": [
                {
                    "name": {
                        "index": "Albert, JM",
                        "preferred": "JM Albert"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Li, Y",
                        "preferred": "Y Li"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Sun, J",
                        "preferred": "J Sun"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Woyczynski, WA",
                        "preferred": "WA Woyczynski"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Nelson, S",
                        "preferred": "S Nelson"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "id": "bib3",
            "journal": "Stat in Med",
            "pages": {
                "first": "4334",
                "last": "4347",
                "range": "4334\u20134347"
            },
            "type": "journal",
            "volume": "\n38\n"
        },
        {
            "articleTitle": "Scrambled Linear Pseudorandom Number Generators",
            "authors": [
                {
                    "name": {
                        "index": "Blackman, D",
                        "preferred": "D Blackman"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Vigna, S",
                        "preferred": "S Vigna"
                    },
                    "type": "person"
                }
            ],
            "date": "2021",
            "doi": "10.1145/3460772",
            "id": "bib4",
            "journal": "ACM Transactions on Mathematical Software",
            "pages": {
                "first": "1",
                "last": "32",
                "range": "1\u201332"
            },
            "type": "journal",
            "volume": "\n47\n"
        },
        {
            "articleTitle": "An analysis of transformations",
            "authors": [
                {
                    "name": {
                        "index": "Box, GE",
                        "preferred": "GE Box"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Cox, DR",
                        "preferred": "DR Cox"
                    },
                    "type": "person"
                }
            ],
            "date": "1964",
            "id": "bib5",
            "journal": "Journal of the Royal Statistical Society. Series B",
            "pages": {
                "first": "211",
                "last": "243",
                "range": "211\u2013243"
            },
            "type": "journal",
            "volume": "\n26\n"
        },
        {
            "articleTitle": "Long-term survival and causes of death after stroke",
            "authors": [
                {
                    "name": {
                        "index": "Br\u00f8nnum-Hansen, H",
                        "preferred": "H Br\u00f8nnum-Hansen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Davidsen, M",
                        "preferred": "M Davidsen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Thorvaldsen, P",
                        "preferred": "P Thorvaldsen"
                    },
                    "type": "person"
                }
            ],
            "date": "2001",
            "doi": "10.1161/hs0901.094253",
            "id": "bib6",
            "journal": "Stroke",
            "pages": {
                "first": "2131",
                "last": "2136",
                "range": "2131\u20132136"
            },
            "type": "journal",
            "volume": "\n32\n"
        },
        {
            "articleTitle": "Budgetary impact of treating acute bipolar mania in hospitalized patients with quetiapine: an economic analysis of clinical trials",
            "authors": [
                {
                    "name": {
                        "index": "Caro, JJ",
                        "preferred": "JJ Caro"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Huybrechts, KF",
                        "preferred": "KF Huybrechts"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Xenakis, JG",
                        "preferred": "JG Xenakis"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "O\u2019Brien, JA",
                        "preferred": "JA O\u2019Brien"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Rajagopalan, K",
                        "preferred": "K Rajagopalan"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Lee, K",
                        "preferred": "K Lee"
                    },
                    "type": "person"
                }
            ],
            "date": "2006",
            "doi": "10.1185/030079906X148265",
            "id": "bib7",
            "journal": "Current Medical Research and Opinion",
            "pages": {
                "first": "2233",
                "last": "2242",
                "range": "2233\u20132242"
            },
            "type": "journal",
            "volume": "\n22\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Chang, W",
                        "preferred": "W Chang"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "id": "bib8",
            "title": "R6: Encapsulated Classes with Reference Semantics. R package version 2.4.1",
            "type": "web",
            "uri": "https://CRAN.R-project.org/package=R6"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Clements, M",
                        "preferred": "M Clements"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Jauhiainen, A",
                        "preferred": "A Jauhiainen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Karlsson, A",
                        "preferred": "A Karlsson"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Carzaniga, C",
                        "preferred": "C Carzaniga"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "L\u2019Ecuyer, P",
                        "preferred": "P L\u2019Ecuyer"
                    },
                    "type": "person"
                }
            ],
            "date": "2021",
            "id": "bib9",
            "title": "Microsimulation: Discrete Event Simulation in R and C++, with Tools for Cost-Effectiveness Analysis. R package version 1.3.4",
            "type": "web",
            "uri": "https://CRAN.R-project.org/package=microsimulation"
        },
        {
            "articleTitle": "The development of a simulation model of the treatment of coronary heart disease",
            "authors": [
                {
                    "name": {
                        "index": "Cooper, K",
                        "preferred": "K Cooper"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Davies, R",
                        "preferred": "R Davies"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Roderick, P",
                        "preferred": "P Roderick"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Chase, D",
                        "preferred": "D Chase"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Raftery, J",
                        "preferred": "J Raftery"
                    },
                    "type": "person"
                }
            ],
            "date": "2002",
            "doi": "10.1023/A:1020378022303",
            "id": "bib10",
            "journal": "Health Care Management Science",
            "pages": {
                "first": "259",
                "last": "267",
                "range": "259\u2013267"
            },
            "type": "journal",
            "volume": "\n5\n"
        },
        {
            "articleTitle": "LIAM2: a new open source development tool for discrete-time dynamic microsimulation models",
            "authors": [
                {
                    "name": {
                        "index": "de Menten, G",
                        "preferred": "G de Menten"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Dekkers, G",
                        "preferred": "G Dekkers"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Bryon, G",
                        "preferred": "G Bryon"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Li\u00e9geois, P",
                        "preferred": "P Li\u00e9geois"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "O\u2019Donoghue, C",
                        "preferred": "C O\u2019Donoghue"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "doi": "10.18564/jasss.2574",
            "id": "bib11",
            "journal": "Journal of Artificial Societies and Social Simulation: JASSS",
            "pages": {
                "first": "9",
                "last": "9",
                "range": "9\u20139"
            },
            "type": "journal",
            "volume": "\n17\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Dowle, M",
                        "preferred": "M Dowle"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Srinivasan, A",
                        "preferred": "A Srinivasan"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "id": "bib12",
            "title": "data.table: Extension of \u2018data.frame. R package version 1.12.4",
            "type": "web",
            "uri": "https://CRAN.R-project.org/package=data.table"
        },
        {
            "articleTitle": "Model of complications of NIDDM: I. model construction and assumptions",
            "authors": [
                {
                    "name": {
                        "index": "Eastman, RC",
                        "preferred": "RC Eastman"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Javitt, JC",
                        "preferred": "JC Javitt"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Herman, WH",
                        "preferred": "WH Herman"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Dasbach, EJ",
                        "preferred": "EJ Dasbach"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Zbrozek, AS",
                        "preferred": "AS Zbrozek"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Dong, F",
                        "preferred": "F Dong"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Manninen, D",
                        "preferred": "D Manninen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Garfield, SA",
                        "preferred": "SA Garfield"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Copley-Merriman, C",
                        "preferred": "C Copley-Merriman"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Maier, W",
                        "preferred": "W Maier"
                    },
                    "type": "person"
                }
            ],
            "date": "1997",
            "id": "bib13",
            "journal": "Diabetes Care",
            "pages": {
                "first": "725",
                "last": "734",
                "range": "725\u2013734"
            },
            "type": "journal",
            "volume": "\n20\n"
        },
        {
            "articleTitle": "Simulating economic factors in adjuvant breast cancer treatment",
            "authors": [
                {
                    "name": {
                        "index": "Eldabi, T",
                        "preferred": "T Eldabi"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Paul, R",
                        "preferred": "R Paul"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Taylor, S",
                        "preferred": "S Taylor"
                    },
                    "type": "person"
                }
            ],
            "date": "2000",
            "doi": "10.1057/palgrave.jors.2600881",
            "id": "bib14",
            "journal": "The Journal of the Operational Research Society",
            "pages": {
                "first": "465",
                "last": "475",
                "range": "465\u2013475"
            },
            "type": "journal",
            "volume": "\n51\n"
        },
        {
            "articleTitle": "Identifying best-fitting inputs in health-economic model calibration: a pareto frontier approach",
            "authors": [
                {
                    "name": {
                        "index": "Enns, EA",
                        "preferred": "EA Enns"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Cipriano, LE",
                        "preferred": "LE Cipriano"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Simons, CT",
                        "preferred": "CT Simons"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Kong, CY",
                        "preferred": "CY Kong"
                    },
                    "type": "person"
                }
            ],
            "date": "2015",
            "id": "bib15",
            "journal": "Medical Decision Making: An International Journal of the Society for Medical Decision Making",
            "pages": {
                "first": "170",
                "last": "182",
                "range": "170\u2013182"
            },
            "type": "journal",
            "volume": "\n35\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Harding, A",
                        "preferred": "A Harding"
                    },
                    "type": "person"
                }
            ],
            "date": "2007",
            "details": "Challenges and opportunities of dynamic microsimulation modelling, In 1st General Conference of the International Microsimulation Association, Vienna",
            "id": "bib16",
            "title": "In 1st General Conference of the International Microsimulation Association",
            "type": "unknown"
        },
        {
            "articleTitle": "Systematic handling of missing data in complex study designs\u2013experiences from the Health 2000 and 2011 surveys",
            "authors": [
                {
                    "name": {
                        "index": "H\u00e4rk\u00e4nen, T",
                        "preferred": "T H\u00e4rk\u00e4nen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Karvanen, J",
                        "preferred": "J Karvanen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tolonen, H",
                        "preferred": "H Tolonen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Lehtonen, R",
                        "preferred": "R Lehtonen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Djerf, K",
                        "preferred": "K Djerf"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Juntunen, T",
                        "preferred": "T Juntunen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Koskinen, S",
                        "preferred": "S Koskinen"
                    },
                    "type": "person"
                }
            ],
            "date": "2016",
            "id": "bib17",
            "journal": "Journal of Applied Statistics",
            "pages": {
                "first": "2772",
                "last": "2790",
                "range": "2772\u20132790"
            },
            "type": "journal",
            "volume": "\n43\n"
        },
        {
            "articleTitle": "Effect of longer term modest salt reduction on blood pressure: Cochrane systematic review and meta-analysis of randomised trials",
            "authors": [
                {
                    "name": {
                        "index": "He, FJ",
                        "preferred": "FJ He"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Li, J",
                        "preferred": "J Li"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "MacGregor, GA",
                        "preferred": "GA MacGregor"
                    },
                    "type": "person"
                }
            ],
            "date": "2013",
            "id": "bib18",
            "journal": "BMJ",
            "pages": "f1325",
            "type": "journal",
            "volume": "\n346\n"
        },
        {
            "articleTitle": "The population health model (POHEM): an overview of rationale, methods and applications",
            "authors": [
                {
                    "name": {
                        "index": "Hennessy, DA",
                        "preferred": "DA Hennessy"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Flanagan, WM",
                        "preferred": "WM Flanagan"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tanuseputro, P",
                        "preferred": "P Tanuseputro"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Bennett, C",
                        "preferred": "C Bennett"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tuna, M",
                        "preferred": "M Tuna"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Kopec, J",
                        "preferred": "J Kopec"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Wolfson, MC",
                        "preferred": "MC Wolfson"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Manuel, DG",
                        "preferred": "DG Manuel"
                    },
                    "type": "person"
                }
            ],
            "date": "2015",
            "doi": "10.1186/s12963-015-0057-x",
            "id": "bib19",
            "journal": "Population Health Metrics",
            "pages": "24",
            "type": "journal",
            "volume": "\n13\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Herlihy, M",
                        "preferred": "M Herlihy"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Shavit, N",
                        "preferred": "N Shavit"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "The Art of Multiprocessor Programming",
            "date": "2011",
            "id": "bib20",
            "publisher": {
                "name": [
                    "Elsevier"
                ]
            },
            "type": "book"
        },
        {
            "articleTitle": "The cost-effectiveness of improving diabetes care in US federally qualified community health centers",
            "authors": [
                {
                    "name": {
                        "index": "Huang, ES",
                        "preferred": "ES Huang"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Zhang, Q",
                        "preferred": "Q Zhang"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Brown, SE",
                        "preferred": "SE Brown"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Drum, ML",
                        "preferred": "ML Drum"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Meltzer, DO",
                        "preferred": "DO Meltzer"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Chin, MH",
                        "preferred": "MH Chin"
                    },
                    "type": "person"
                }
            ],
            "date": "2007",
            "id": "bib21",
            "journal": "Health Services Research",
            "pages": {
                "first": "2174",
                "last": "2193",
                "range": "2174\u20132193"
            },
            "type": "journal",
            "volume": "\n42\n"
        },
        {
            "articleTitle": "Study design in causal models",
            "authors": [
                {
                    "name": {
                        "index": "Karvanen, J",
                        "preferred": "J Karvanen"
                    },
                    "type": "person"
                }
            ],
            "date": "2015",
            "doi": "10.1111/sjos.12110",
            "id": "bib22",
            "journal": "Scandinavian Journal of Statistics",
            "pages": {
                "first": "361",
                "last": "377",
                "range": "361\u2013377"
            },
            "type": "journal",
            "volume": "\n42\n"
        },
        {
            "articleTitle": "Do-search: A tool for causal inference and study design with multiple data sources",
            "authors": [
                {
                    "name": {
                        "index": "Karvanen, J",
                        "preferred": "J Karvanen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tikka, S",
                        "preferred": "S Tikka"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Hyttinen, A",
                        "preferred": "A Hyttinen"
                    },
                    "type": "person"
                }
            ],
            "date": "2021",
            "id": "bib23",
            "journal": "Epidemiology",
            "pages": {
                "first": "111",
                "last": "119",
                "range": "111\u2013119"
            },
            "type": "journal",
            "volume": "\n32\n"
        },
        {
            "articleTitle": "Applications of simulation within the healthcare context",
            "authors": [
                {
                    "name": {
                        "index": "Katsaliaki, K",
                        "preferred": "K Katsaliaki"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Mustafee, N",
                        "preferred": "N Mustafee"
                    },
                    "type": "person"
                }
            ],
            "date": "2011",
            "id": "bib24",
            "journal": "The Journal of the Operational Research Society",
            "pages": {
                "first": "1431",
                "last": "1451",
                "range": "1431\u20131451"
            },
            "type": "journal",
            "volume": "\n62\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Koponen, P",
                        "preferred": "P Koponen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Borodulin, K",
                        "preferred": "K Borodulin"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Lundqvist, A",
                        "preferred": "A Lundqvist"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "S\u00e4\u00e4ksj\u00e4rvi, K",
                        "preferred": "K S\u00e4\u00e4ksj\u00e4rvi"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Koskinen, S",
                        "preferred": "S Koskinen"
                    },
                    "type": "person"
                }
            ],
            "date": "2018",
            "id": "bib25",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Helsinki"
                        ]
                    },
                    "formatted": [
                        "Helsinki"
                    ]
                },
                "name": [
                    "National Institute for Health and Welfare"
                ]
            },
            "source": "Terveys, toimintakyky ja hyvinvointi Suomessa \u2013 FinTerveys 2017-tutkimus (Health, performance and welfare in Finland \u2013 FinTerveys 2017 study). Report 4/2018",
            "title": "Terveys, toimintakyky ja hyvinvointi Suomessa \u2013 FinTerveys 2017-tutkimus (Health, performance and welfare in Finland \u2013 FinTerveys 2017 study). Report 4/2018",
            "type": "report"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Kosar, B",
                        "preferred": "B Kosar"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tomintz, M",
                        "preferred": "M Tomintz"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "details": "207\u2013216, simSalud: A web-based spatial microsimulation to model the health status for small areas using the example of smokers in Austria, IGI Forum, Vol, 2, p",
            "id": "bib26",
            "title": "IGI Forum",
            "type": "unknown"
        },
        {
            "articleTitle": "Microsimulation modeling for health decision sciences using R: a tutorial",
            "authors": [
                {
                    "name": {
                        "index": "Krijkamp, EM",
                        "preferred": "EM Krijkamp"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Alarid-Escudero, F",
                        "preferred": "F Alarid-Escudero"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Enns, EA",
                        "preferred": "EA Enns"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Jalal, HJ",
                        "preferred": "HJ Jalal"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Hunink, MM",
                        "preferred": "MM Hunink"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Pechlivanoglou, P",
                        "preferred": "P Pechlivanoglou"
                    },
                    "type": "person"
                }
            ],
            "date": "2018",
            "doi": "10.1177/0272989X18754513",
            "id": "bib27",
            "journal": "Medical Decision Making: An International Journal of the Society for Medical Decision Making",
            "pages": {
                "first": "400",
                "last": "422",
                "range": "400\u2013422"
            },
            "type": "journal",
            "volume": "\n38\n"
        },
        {
            "articleTitle": "Estimating the cost-effectiveness of a sequential pneumococcal vaccination program for adults in Germany",
            "authors": [
                {
                    "name": {
                        "index": "Kuchenbecker, U",
                        "preferred": "U Kuchenbecker"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Chase, D",
                        "preferred": "D Chase"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Reichert, A",
                        "preferred": "A Reichert"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Schiffner-Rohe, J",
                        "preferred": "J Schiffner-Rohe"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Atwood, M",
                        "preferred": "M Atwood"
                    },
                    "type": "person"
                }
            ],
            "date": "2018",
            "doi": "10.1371/journal.pone.0197905",
            "id": "bib28",
            "journal": "PloS One",
            "pages": {
                "first": "1",
                "last": "23",
                "range": "1\u201323"
            },
            "type": "journal",
            "volume": "\n13\n"
        },
        {
            "articleTitle": "A microsimulation model projecting the health care costs for resistance to antibacterial drugs in Sweden",
            "authors": [
                {
                    "name": {
                        "index": "Larsson, S",
                        "preferred": "S Larsson"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Prioux, M",
                        "preferred": "M Prioux"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Fasth, T",
                        "preferred": "T Fasth"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Ternhag, A",
                        "preferred": "A Ternhag"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Struwe, J",
                        "preferred": "J Struwe"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Dohnhammar, U",
                        "preferred": "U Dohnhammar"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Brouwers, L",
                        "preferred": "L Brouwers"
                    },
                    "type": "person"
                }
            ],
            "date": "2018",
            "doi": "10.1093/eurpub/cky209",
            "id": "bib29",
            "journal": "European Journal of Public Health",
            "pages": {
                "first": "392",
                "last": "396",
                "range": "392\u2013396"
            },
            "type": "journal",
            "volume": "\n29\n"
        },
        {
            "articleTitle": "Evaluating binary alignment methods in microsimulation models",
            "authors": [
                {
                    "name": {
                        "index": "Li, J",
                        "preferred": "J Li"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "O\u2019Donoghue, C",
                        "preferred": "C O\u2019Donoghue"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "id": "bib30",
            "journal": "Journal of Artificial Societies and Social Simulation: JASSS",
            "pages": "15",
            "type": "journal",
            "volume": "\n17\n"
        },
        {
            "articleTitle": "The diabetes risk score: a practical tool to predict type 2 diabetes risk",
            "authors": [
                {
                    "name": {
                        "index": "Lindstr\u00f6m, J",
                        "preferred": "J Lindstr\u00f6m"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tuomilehto, J",
                        "preferred": "J Tuomilehto"
                    },
                    "type": "person"
                }
            ],
            "date": "2003",
            "id": "bib31",
            "journal": "Diabetes Care",
            "pages": {
                "first": "725",
                "last": "731",
                "range": "725\u2013731"
            },
            "type": "journal",
            "volume": "\n23\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Little, RJA",
                        "preferred": "RJA Little"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Rubin, DB",
                        "preferred": "DB Rubin"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "Statistical Analysis with Missing Data",
            "date": "2002",
            "id": "bib32",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Hoboken, New Jersey"
                        ]
                    },
                    "formatted": [
                        "Hoboken, New Jersey"
                    ]
                },
                "name": [
                    "Wiley"
                ]
            },
            "type": "book"
        },
        {
            "articleTitle": "Jamsim: a microsimulation modelling policy tool",
            "authors": [
                {
                    "name": {
                        "index": "Mannion, O",
                        "preferred": "O Mannion"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Lay-Yee, R",
                        "preferred": "R Lay-Yee"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Wrapson, W",
                        "preferred": "W Wrapson"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Davis, P",
                        "preferred": "P Davis"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Pearson, J",
                        "preferred": "J Pearson"
                    },
                    "type": "person"
                }
            ],
            "date": "2012",
            "doi": "10.18564/jasss.1902",
            "id": "bib33",
            "journal": "Journal of Artificial Societies and Social Simulation: JASSS",
            "pages": "8",
            "type": "journal",
            "volume": "\n15\n"
        },
        {
            "articleTitle": "S. T. for Applied Research Team, et al. Projections of preventable risks for cardiovascular disease in Canada to 2021: a microsimulation modelling approach",
            "authors": [
                {
                    "name": {
                        "index": "Manuel, DG",
                        "preferred": "DG Manuel"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tuna, M",
                        "preferred": "M Tuna"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Hennessy, D",
                        "preferred": "D Hennessy"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Bennett, C",
                        "preferred": "C Bennett"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Okhmatovskaia, A",
                        "preferred": "A Okhmatovskaia"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Fin\u00e8s, P",
                        "preferred": "P Fin\u00e8s"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tanuseputro, P",
                        "preferred": "P Tanuseputro"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tu, JV",
                        "preferred": "JV Tu"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Flanagan, W",
                        "preferred": "W Flanagan"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "id": "bib34",
            "journal": "CMAJ Open",
            "pages": {
                "first": "94",
                "last": "101",
                "range": "94\u2013101"
            },
            "type": "journal",
            "volume": "\n2\n"
        },
        {
            "articleTitle": "Alzheimer\u2019s and other dementias in Canada, 2011 to 2031: a microsimulation population health modeling (POHEM) study of projected prevalence, health burden, health services, and caregiving use",
            "authors": [
                {
                    "name": {
                        "index": "Manuel, DG",
                        "preferred": "DG Manuel"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Garner, R",
                        "preferred": "R Garner"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Fin\u00e8s, P",
                        "preferred": "P Fin\u00e8s"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Bancej, C",
                        "preferred": "C Bancej"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Flanagan, W",
                        "preferred": "W Flanagan"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tu, K",
                        "preferred": "K Tu"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Reimer, K",
                        "preferred": "K Reimer"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Chambers, LW",
                        "preferred": "LW Chambers"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Bernier, J",
                        "preferred": "J Bernier"
                    },
                    "type": "person"
                }
            ],
            "date": "2016",
            "doi": "10.1186/s12963-016-0107-z",
            "id": "bib35",
            "journal": "Population Health Metrics",
            "pages": "37",
            "type": "journal",
            "volume": "\n14\n"
        },
        {
            "articleTitle": "The ziggurat method for generating random variables",
            "authors": [
                {
                    "name": {
                        "index": "Marsaglia, G",
                        "preferred": "G Marsaglia"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tsang, WW",
                        "preferred": "WW Tsang"
                    },
                    "type": "person"
                }
            ],
            "date": "2000",
            "doi": "10.18637/jss.v005.i08",
            "id": "bib36",
            "journal": "Journal of Statistical Software",
            "pages": {
                "first": "1",
                "last": "7",
                "range": "1\u20137"
            },
            "type": "journal",
            "volume": "\n5\n"
        },
        {
            "articleTitle": "Mersenne twister: A 623-dimensionally equidistributed uniform pseudo-random number generator",
            "authors": [
                {
                    "name": {
                        "index": "Matsumoto, M",
                        "preferred": "M Matsumoto"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Nishimura, T",
                        "preferred": "T Nishimura"
                    },
                    "type": "person"
                }
            ],
            "date": "1998",
            "doi": "10.1145/272991.272995",
            "id": "bib37",
            "journal": "ACM Transactions on Modeling and Computer Simulation",
            "pages": {
                "first": "3",
                "last": "30",
                "range": "3\u201330"
            },
            "type": "journal",
            "volume": "\n8\n"
        },
        {
            "authors": [
                {
                    "name": "Microsoft and S. Weston",
                    "type": "group"
                }
            ],
            "date": "2019",
            "id": "bib38",
            "title": "doParallel: Foreach Parallel Adaptor for the \u2019parallel\u2019 package. R package version 1.0.15",
            "type": "web",
            "uri": "https://CRAN.R-project.org/package=doParallel"
        },
        {
            "authors": [
                {
                    "name": "Microsoft and S. Weston",
                    "type": "group"
                }
            ],
            "date": "2020",
            "id": "bib39",
            "title": "foreach: Provides Foreach Looping Construct. R package version 1.5.0",
            "type": "web",
            "uri": "https://CRAN.R-project.org/package=foreach"
        },
        {
            "articleTitle": "Review of modelling approaches for healthcare simulation",
            "authors": [
                {
                    "name": {
                        "index": "Mielczarek, B",
                        "preferred": "B Mielczarek"
                    },
                    "type": "person"
                }
            ],
            "date": "2016",
            "doi": "10.5277/ord160104",
            "id": "bib40",
            "journal": "Operations Research and Decisions",
            "pages": "1",
            "type": "journal",
            "volume": "\n26\n"
        },
        {
            "articleTitle": "Profiling literature in healthcare simulation",
            "authors": [
                {
                    "name": {
                        "index": "Mustafee, N",
                        "preferred": "N Mustafee"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Katsaliaki, K",
                        "preferred": "K Katsaliaki"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Taylor, SJ",
                        "preferred": "SJ Taylor"
                    },
                    "type": "person"
                }
            ],
            "date": "2010",
            "doi": "10.1177/0037549709359090",
            "id": "bib41",
            "journal": "Simulation",
            "pages": {
                "first": "543",
                "last": "558",
                "range": "543\u2013558"
            },
            "type": "journal",
            "volume": "\n86\n"
        },
        {
            "articleTitle": "A simplex method for function minimization",
            "authors": [
                {
                    "name": {
                        "index": "Nelder, JA",
                        "preferred": "JA Nelder"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Mead, R",
                        "preferred": "R Mead"
                    },
                    "type": "person"
                }
            ],
            "date": "1965",
            "doi": "10.1093/comjnl/7.4.308",
            "id": "bib42",
            "journal": "The Computer Journal",
            "pages": {
                "first": "308",
                "last": "313",
                "range": "308\u2013313"
            },
            "type": "journal",
            "volume": "\n7\n"
        },
        {
            "authors": [
                {
                    "name": "Official Statistics of Finland (OSF)",
                    "type": "group"
                }
            ],
            "date": "2017",
            "id": "bib43",
            "title": "Deaths (e-publication). Statistics Finland, Helsinki (Accessed 7.4.202)",
            "type": "web",
            "uri": "http://www.stat.fi/til/kuol/index_en.html"
        },
        {
            "authors": [
                {
                    "name": "Official Statistics of Finland (OSF)",
                    "type": "group"
                }
            ],
            "date": "2017",
            "id": "bib44",
            "title": "Population structure (e-publication). Statistics Finland, Helsinki (Accessed: 7.4.2020)",
            "type": "web",
            "uri": "http://www.stat.fi/til/vaerak/index_en.html"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "O\u2019Neill, ME",
                        "preferred": "ME O\u2019Neill"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "id": "bib45",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Claremont, CA"
                        ]
                    },
                    "formatted": [
                        "Claremont, CA"
                    ]
                },
                "name": [
                    "Harvey Mudd College"
                ]
            },
            "source": "PCG: A Family of Simple Fast Space-Efficient Statistically Good Algorithms for Random Number Generation. Technical Report HMC-CS-2014-0905",
            "title": "PCG: A Family of Simple Fast Space-Efficient Statistically Good Algorithms for Random Number Generation. Technical Report HMC-CS-2014-0905",
            "type": "report"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Pearl, J",
                        "preferred": "J Pearl"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "Causality: Models, Reasoning, and Inference",
            "date": "2009",
            "edition": "2nd edn",
            "id": "bib46",
            "publisher": {
                "name": [
                    "Cambridge University Press"
                ]
            },
            "type": "book"
        },
        {
            "articleTitle": "CMOST: an open-source framework for the microsimulation of colorectal cancer screening strategies",
            "authors": [
                {
                    "name": {
                        "index": "Prakash, MK",
                        "preferred": "MK Prakash"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Lang, B",
                        "preferred": "B Lang"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Heinrich, H",
                        "preferred": "H Heinrich"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Valli, PV",
                        "preferred": "PV Valli"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Bauerfeind, P",
                        "preferred": "P Bauerfeind"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Sonnenberg, A",
                        "preferred": "A Sonnenberg"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Beerenwinkel, N",
                        "preferred": "N Beerenwinkel"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Misselwitz, B",
                        "preferred": "B Misselwitz"
                    },
                    "type": "person"
                }
            ],
            "date": "2017",
            "doi": "10.1186/s12911-017-0458-9",
            "id": "bib47",
            "journal": "BMC Med. Inform. Decis",
            "pages": "80",
            "type": "journal",
            "volume": "\n17\n"
        },
        {
            "authors": [
                {
                    "name": "R Core Team",
                    "type": "group"
                }
            ],
            "date": "2020",
            "id": "bib48",
            "title": "R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing, Vienna, Austria",
            "type": "web",
            "uri": "https://www.R-project.org/"
        },
        {
            "articleTitle": "JAS-mine: A new platform for microsimulation and agent-based modelling",
            "authors": [
                {
                    "name": {
                        "index": "Richiardi, MG",
                        "preferred": "MG Richiardi"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Richardson, RE",
                        "preferred": "RE Richardson"
                    },
                    "type": "person"
                }
            ],
            "date": "2017",
            "doi": "10.34196/ijm.00151",
            "id": "bib49",
            "journal": "International Journal of Microsimulation",
            "pages": {
                "first": "106",
                "last": "134",
                "range": "106\u2013134"
            },
            "type": "journal",
            "volume": "\n10\n"
        },
        {
            "articleTitle": "Multiobjective calibration of disease simulation models using gaussian processes",
            "authors": [
                {
                    "name": {
                        "index": "Sai, A",
                        "preferred": "A Sai"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Vivas-Valencia, C",
                        "preferred": "C Vivas-Valencia"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Imperiale, TF",
                        "preferred": "TF Imperiale"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Kong, N",
                        "preferred": "N Kong"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "id": "bib50",
            "journal": "Medical Decision Making: An International Journal of the Society for Medical Decision Making",
            "pages": {
                "first": "540",
                "last": "552",
                "range": "540\u2013552"
            },
            "type": "journal",
            "volume": "\n39\n"
        },
        {
            "articleTitle": "Simulation modelling in healthcare: An umbrella review of systematic literature reviews",
            "authors": [
                {
                    "name": {
                        "index": "Salleh, S",
                        "preferred": "S Salleh"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Thokala, P",
                        "preferred": "P Thokala"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Brennan, A",
                        "preferred": "A Brennan"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Hughes, R",
                        "preferred": "R Hughes"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Booth, A",
                        "preferred": "A Booth"
                    },
                    "type": "person"
                }
            ],
            "date": "2017",
            "doi": "10.1007/s40273-017-0523-3",
            "id": "bib51",
            "journal": "PharmacoEconomics",
            "pages": {
                "first": "937",
                "last": "949",
                "range": "937\u2013949"
            },
            "type": "journal",
            "volume": "\n35\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Salmon, JK",
                        "preferred": "JK Salmon"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Moraes, MA",
                        "preferred": "MA Moraes"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Dror, RO",
                        "preferred": "RO Dror"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Shaw, DE",
                        "preferred": "DE Shaw"
                    },
                    "type": "person"
                }
            ],
            "date": "2011",
            "details": "Parallel random numbers: As easy as 1, 2, 3, In Proceedings of 2011 International Conference for High Performance Computing, Networking, Storage and Analysis, New York, USA, Association for Computing Machinery, 10.1145/2063384.2063405",
            "id": "bib52",
            "title": "In Proceedings of 2011 International Conference for High Performance Computing, Networking, Storage and Analysis",
            "type": "unknown"
        },
        {
            "articleTitle": "A portable dynamic microsimulation model for population, education and health applications in developing countries",
            "authors": [
                {
                    "name": {
                        "index": "Spielauer, M",
                        "preferred": "M Spielauer"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Dupriez, O",
                        "preferred": "O Dupriez"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "doi": "10.34196/ijm.00205",
            "id": "bib53",
            "journal": "International Journal of Microsimulation",
            "pages": {
                "first": "6",
                "last": "27",
                "range": "6\u201327"
            },
            "type": "journal",
            "volume": "\n12\n"
        },
        {
            "articleTitle": "Dynamic microsimulation of health care demand, health care finance and the economic impact of health behaviours: survey and review",
            "authors": [
                {
                    "name": {
                        "index": "Spielauer, M",
                        "preferred": "M Spielauer"
                    },
                    "type": "person"
                }
            ],
            "date": "2007",
            "doi": "10.34196/ijm.00005",
            "id": "bib54",
            "journal": "International Journal of Microsimulation",
            "pages": {
                "first": "35",
                "last": "53",
                "range": "35\u201353"
            },
            "type": "journal",
            "volume": "\n1\n"
        },
        {
            "articleTitle": "Logit scaling: A general method for alignment in microsimulation models",
            "authors": [
                {
                    "name": {
                        "index": "Stephensen, P",
                        "preferred": "P Stephensen"
                    },
                    "type": "person"
                }
            ],
            "date": "2015",
            "doi": "10.34196/IJM.00144",
            "id": "bib55",
            "journal": "International Journal of Microsimulation",
            "pages": {
                "first": "89",
                "last": "102",
                "range": "89\u2013102"
            },
            "type": "journal",
            "volume": "\n9\n"
        },
        {
            "articleTitle": "Dynamic path analysis\u2013a useful tool to investigate mediation processes in clinical survival trials",
            "authors": [
                {
                    "name": {
                        "index": "Strohmaier, S",
                        "preferred": "S Strohmaier"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "R\u00f8ysland, K",
                        "preferred": "K R\u00f8ysland"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Hoff, R",
                        "preferred": "R Hoff"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Borgan, \u00d8",
                        "preferred": "\u00d8 Borgan"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Pedersen, TR",
                        "preferred": "TR Pedersen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Aalen, OO",
                        "preferred": "OO Aalen"
                    },
                    "type": "person"
                }
            ],
            "date": "2015",
            "doi": "10.1002/sim.6598",
            "id": "bib56",
            "journal": "Statistics in Medicine",
            "pages": {
                "first": "3866",
                "last": "3887",
                "range": "3866\u20133887"
            },
            "type": "journal",
            "volume": "\n34\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Stubner, R",
                        "preferred": "R Stubner"
                    },
                    "type": "person"
                }
            ],
            "date": "2019",
            "id": "bib57",
            "title": "dqrng: Fast Pseudo Random Number Generators. R package version 0.2.1",
            "type": "web",
            "uri": "https://CRAN.R-project.org/package=dqrng"
        },
        {
            "articleTitle": "simSALUD: Design and implementation of an open-source wizard based spatial microsimulation framework",
            "authors": [
                {
                    "name": {
                        "index": "Tomintz, M",
                        "preferred": "M Tomintz"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Kosar, B",
                        "preferred": "B Kosar"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Garcia-Barrios, V",
                        "preferred": "V Garcia-Barrios"
                    },
                    "type": "person"
                }
            ],
            "date": "2017",
            "doi": "10.34196/ijm.00159",
            "id": "bib58",
            "journal": "International Journal of Microsimulation",
            "pages": {
                "first": "118",
                "last": "143",
                "range": "118\u2013143"
            },
            "type": "journal",
            "volume": "\n10\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Tunstall-Pedoe, H",
                        "preferred": "H Tunstall-Pedoe"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Kuulasmaa, K",
                        "preferred": "K Kuulasmaa"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Tolonen, H",
                        "preferred": "H Tolonen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Davidson, M",
                        "preferred": "M Davidson"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Mendis, S",
                        "preferred": "S Mendis"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "MONICA Monograph and Multimedia Sourcebook",
            "date": "2003",
            "id": "bib59",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Geneva"
                        ]
                    },
                    "formatted": [
                        "Geneva"
                    ]
                },
                "name": [
                    "World Health Organization"
                ]
            },
            "type": "book",
            "uri": "https://www.thl.fi/publications/monica/monograph_cd/contents.htm"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Van Buuren, S",
                        "preferred": "S Van Buuren"
                    },
                    "type": "person"
                }
            ],
            "bookTitle": "Flexible Imputation of Missing Data",
            "date": "2018",
            "edition": "2nd edn",
            "id": "bib60",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Boca Raton, Florida"
                        ]
                    },
                    "formatted": [
                        "Boca Raton, Florida"
                    ]
                },
                "name": [
                    "CRC Press"
                ]
            },
            "type": "book"
        },
        {
            "articleTitle": "Predicting coronary heart disease and stroke: The FINRISK calculator",
            "authors": [
                {
                    "name": {
                        "index": "Vartiainen, E",
                        "preferred": "E Vartiainen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Laatikainen, T",
                        "preferred": "T Laatikainen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Peltonen, M",
                        "preferred": "M Peltonen"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Puska, P",
                        "preferred": "P Puska"
                    },
                    "type": "person"
                }
            ],
            "date": "2016",
            "doi": "10.1016/j.gheart.2016.04.007",
            "id": "bib61",
            "journal": "Global Heart",
            "pages": {
                "first": "213",
                "last": "216",
                "range": "213\u2013216"
            },
            "type": "journal",
            "volume": "\n11\n"
        },
        {
            "authors": [
                {
                    "name": {
                        "index": "Weston, S",
                        "preferred": "S Weston"
                    },
                    "type": "person"
                }
            ],
            "date": "2017",
            "id": "bib62",
            "title": "doMPI: Foreach Parallel Adaptor for the Rmpi Package. R package version 0.2.2",
            "type": "web",
            "uri": "https://CRAN.R-project.org/package=doMPI"
        },
        {
            "articleTitle": "Public health and economic impact of 13-valent pneumococcal conjugate vaccine in US adults aged 50 years",
            "authors": [
                {
                    "name": {
                        "index": "Weycker, D",
                        "preferred": "D Weycker"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Sato, R",
                        "preferred": "R Sato"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Strutton, D",
                        "preferred": "D Strutton"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Edelsberg, J",
                        "preferred": "J Edelsberg"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Atwood, M",
                        "preferred": "M Atwood"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Jackson, LA",
                        "preferred": "LA Jackson"
                    },
                    "type": "person"
                }
            ],
            "date": "2012",
            "doi": "10.1016/j.vaccine.2012.05.076",
            "id": "bib63",
            "journal": "Vaccine",
            "pages": {
                "first": "5437",
                "last": "5444",
                "range": "5437\u20135444"
            },
            "type": "journal",
            "volume": "\n30\n"
        },
        {
            "authors": [
                {
                    "name": "WHO",
                    "type": "group"
                }
            ],
            "date": "2003",
            "id": "bib64",
            "publisher": {
                "address": {
                    "components": {
                        "locality": [
                            "Geneva"
                        ]
                    },
                    "formatted": [
                        "Geneva"
                    ]
                },
                "name": [
                    "WHO"
                ]
            },
            "source": "Joint WHO/FAO expert consultation on diet, nutrition and the prevention of chronic diseases, volume 916 of WHO Technical Report Series",
            "title": "Joint WHO/FAO expert consultation on diet, nutrition and the prevention of chronic diseases, volume 916 of WHO Technical Report Series",
            "type": "report"
        },
        {
            "articleTitle": "Guidelines for snowballing in systematic literature studies and a replication in software engineering",
            "authors": [
                {
                    "name": {
                        "index": "Wohlin, C",
                        "preferred": "C Wohlin"
                    },
                    "type": "person"
                }
            ],
            "date": "2014",
            "doi": "10.1145/2601248.2601268",
            "id": "bib65",
            "journal": "Proceedings of the 18th International Conference on Evaluation and Assessment in Software Engineering",
            "pages": {
                "first": "1",
                "last": "10",
                "range": "1\u201310"
            },
            "type": "journal"
        },
        {
            "articleTitle": "POHEM: a framework for understanding and modelling the health of human populations",
            "authors": [
                {
                    "name": {
                        "index": "Wolfson, MC",
                        "preferred": "MC Wolfson"
                    },
                    "type": "person"
                }
            ],
            "date": "1994",
            "id": "bib66",
            "journal": "World Health Statistics Quarterly. Rapport Trimestriel de Statistiques Sanitaires Mondiales",
            "pages": {
                "first": "157",
                "last": "176",
                "range": "157\u2013176"
            },
            "type": "journal",
            "volume": "\n47\n"
        },
        {
            "articleTitle": "Rmpi: Parallel statistical computing in R",
            "authors": [
                {
                    "name": {
                        "index": "Yu, H",
                        "preferred": "H Yu"
                    },
                    "type": "person"
                }
            ],
            "date": "2002",
            "id": "bib67",
            "journal": "R News",
            "pages": {
                "first": "10",
                "last": "14",
                "range": "10\u201314"
            },
            "type": "journal",
            "volume": "\n2\n"
        },
        {
            "articleTitle": "A microsimulation cost-utility analysis of alcohol screening and brief intervention to reduce heavy alcohol consumption in Canada",
            "authors": [
                {
                    "name": {
                        "index": "Zur, RM",
                        "preferred": "RM Zur"
                    },
                    "type": "person"
                },
                {
                    "name": {
                        "index": "Zaric, GS",
                        "preferred": "GS Zaric"
                    },
                    "type": "person"
                }
            ],
            "date": "2016",
            "doi": "10.1111/add.13201",
            "id": "bib68",
            "journal": "Addiction",
            "pages": {
                "first": "817",
                "last": "831",
                "range": "817\u2013831"
            },
            "type": "journal",
            "volume": "\n111\n"
        }
    ],
    "appendices": [
        {
            "content": [
                {
                    "text": "There exist a large number of review papers considering the usage of simulation in the healthcare domain. An umbrella review by <a href=\"#bib51\">Salleh et al. (2017)</a> summarizes 37 surveys and divides the original works into four categories: <i>types of applications</i>, <i>simulation techniques used</i>, <i>data sources</i>, and <i>software used for simulation modelling</i>. According to this classification, our work falls under <i>medical decision making</i> when considering the application domain. A considerable amount of literature has been published on simulation for medical decision making applications. <a href=\"#tableA1\">Table A1</a> shows a selection of these studies, identified by going through the references of those reviews, that according to the umbrella review by <a href=\"#bib51\">Salleh et al. (2017)</a>, reviewed the most medical decision making application studies (<a href=\"#bib24\">Katsaliaki and Mustafee, 2011</a>; <a href=\"#bib40\">Mielczarek, 2016</a>; <a href=\"#bib41\">Mustafee et al., 2010</a>). As summarized in the table, the models developed for this application area are typically not open-source. Moreover, in comparison to our work, most of these related studies dealt with only one particular decision making application for one particular country.",
                    "type": "paragraph"
                },
                {
                    "assets": [
                        {
                            "id": "tableA1",
                            "label": "Table A1",
                            "tables": [
                                "<table>\n<thead>\n<tr>\n<th align=\"left\">Authors</th>\n<th align=\"left\">Simulation Model, Objective</th>\n<th align=\"left\">Software, Tools, Open-source Availability</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">\n<a href=\"#bib14\">Eldabi et al. (2000)</a>\n</td>\n<td align=\"left\">Discrete event simulation to simulate economic factors in adjuvant breast cancer treatment in England.</td>\n<td align=\"left\">A package called ABCSim was created using the commercial simulation software Simul8. ABCSim is not open-source.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib10\">Cooper et al. (2002)</a>\n</td>\n<td align=\"left\">Discrete event simulation to model the progress of English patients who have had a coronary event through their treatment pathways and subsequent coronary events.</td>\n<td align=\"left\">The simulation was written using the POST (Patient Oriented Simulation Technique) software with a Delphi interface. The developed model is not open-source.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib7\">Caro et al. (2006)</a>\n</td>\n<td align=\"left\">Discrete event simulation to simulate the course of individuals with acute mania in bipolar I disorder and estimation of the budget impact of treatments for them from a United States healthcare payer perspective.</td>\n<td align=\"left\">The model is not open-source and the article does not provide any information on the used software.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib2\">Ahmad and Billimek (2007)</a>\n</td>\n<td align=\"left\">A 75-year dynamic simulation model comparing the long-term health benefits to society of various levels of tax increase to a viable alternative: limiting youth access to cigarettes by raising the legal purchase age to 21 in the United States.</td>\n<td align=\"left\">Vensim (i.e., commercial software) was used to develop a dynamic simulation model for estimating the population health outcomes resulting from raising taxes on cigarettes and raising the legal smoking age to 21. The developed model is not open-source.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib21\">Huang et al. (2007)</a>\n</td>\n<td align=\"left\">A Monte Carlo simulation model to estimate the cost-effectiveness of improving diabetes care in federally qualified community health centers in the United States.</td>\n<td align=\"left\">Microsoft Excel 2000 and @Risk 4.5.4 for Windows were used to conduct the simulations and an older diabetes complications model (<a href=\"#bib13\">Eastman et al., 1997</a>) was adapted. The model is not open-source but the inputs are described in the article.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib68\">Zur and Zaric (2016)</a>\n</td>\n<td align=\"left\">Microsimulation model of alcohol consumption and its effects on alcohol-related causes of death in the Canadian population. Estimation of the cost-effectiveness of implementing universal alcohol screening and brief intervention in primary care in Canada.</td>\n<td align=\"left\">The model was programmed and run in C and the results analyzed in R version 3.1.2. The programmed model is not open-source.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib29\">Larsson et al. (2018)</a>\n</td>\n<td align=\"left\">Individual-based microsimulation model to project economic consequences of resistance to antibacterial drugs for the Swedish health care sector.</td>\n<td align=\"left\">A dynamic microsimulation model developed by the Swedish Ministry of Finance called SESIM was used. Currently (May 2021), it is not possible to download SESIM.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib47\">Prakash et al. (2017)</a>; <a href=\"#bib50\">Sai et al. (2019)</a>\n</td>\n<td align=\"left\">CMOST is a microsimulation model for modeling the natural history of colorectal cancer, simulating the effects of colorectal cancer screening interventions, and calculating the resulting costs.</td>\n<td align=\"left\">CMOST (Colon Modeling Open Simulation Tool) was implemented in Matlab and is freely available under the GNU General Public License at <a href=\"https://gitlab.com/misselwb/CMOST\">https://gitlab.com/misselwb/CMOST</a>.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib28\">Kuchenbecker et al. (2018)</a>\n</td>\n<td align=\"left\">The authors adapted an existing microsimulation US model (<a href=\"#bib63\">Weycker et al., 2012</a>) to depict lifetime risks and costs of invasive pneumococcal diseases and nonbacteremic pneumonia, as well as the expected impact of different vaccination schemes, in a hypothetical population of German adults.</td>\n<td align=\"left\">No link to a documentation of the model or open-source framework can be found in the articles (<a href=\"#bib63\">Weycker et al., 2012</a>; <a href=\"#bib28\">Kuchenbecker et al., 2018</a>).</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib53\">Spielauer and Dupriez (2019)</a>\n</td>\n<td align=\"left\">DYNAMIS-POP is a dynamic micro-simulation model for population and education projections, health applications, and for the simulation of policies. Adaptation of the model to a specific country only requires adapting a single setup script and simulation module.</td>\n<td align=\"left\">All components of DYNAMIS-POP including its code and all statistical analysis files are freely available and documented online at <a href=\"http://dynamis.ihsn.org/\">http://dynamis.ihsn.org/</a>. Most statistical analysis scripts and scripts for post-processing and visualization of the results are implemented in R.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib19\">Hennessy et al. (2015)</a>; <a href=\"#bib34\">Manuel et al. (2014)</a>; <a href=\"#bib35\">Manuel et al. (2016)</a>; <a href=\"#bib66\">Wolfson (1994)</a>\n</td>\n<td align=\"left\">POHEM (POpulation HEalth Model) is a longitudinal microsimulation model of health and disease. The model simulates representative populations and allows the rational comparison of competing health intervention alternatives, in a framework that captures the effects of disease interactions.</td>\n<td align=\"left\">POHEM was developed in Modgen (see <a href=\"#tableA2\">Table A2</a>). However, the POHEM model implementation itself is not open-source (and so far still limited to Canada, i.e., one country). <a href=\"https://www.statcan.gc.ca/eng/microsimulation/modgen/new/mods/pohem\">https://www.statcan.gc.ca/eng/microsimulation/modgen/new/mods/pohem</a>.</td>\n</tr>\n</tbody>\n</table>"
                            ],
                            "title": "Selection of related work on using simulation for medical decision making applications. Typically, models are not made open-source and\u2014with the exception of DYNAMIS-POP\u2014developed only for one particular country and decision making problem",
                            "type": "table"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "assets": [
                        {
                            "id": "tableA2",
                            "label": "Table A2",
                            "tables": [
                                "<table>\n<thead>\n<tr>\n<th align=\"left\">Authors</th>\n<th align=\"left\">Simulation Model/ Objective</th>\n<th align=\"left\">Link / Open-source Availability</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">\n<a href=\"#bib11\">De Menten et al. (2014)</a>\n</td>\n<td align=\"left\">LIAM2 is an open-source development tool for discrete-time dynamic microsimulation models. The framework is for general purposes (not specifically health related). It allows for the simulation of discrete-time dynamic models with a cross-sectional time step of whatever kind of objects the modeler chooses. It provides functionalities to calibrate to exogenous information of any number of dimensions.</td>\n<td align=\"left\">LIAM2 was developed primarily in Python, it can be downloaded from <a href=\"http://liam2.plan.be\">http://liam2.plan.be</a>. It is licensed under the GNU General Public License, meaning one can freely use, copy, modify and redistribute the software.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib33\">Mannion et al. (2012)</a>\n</td>\n<td align=\"left\">JAMSIM (JAva MicroSIMulation) is a synthesis of open-source packages that provides an environment and set of features for the creation of dynamic discrete-time microsimulation models that are to be executed, manipulated and interrogated by nontechnical, policy-oriented users.</td>\n<td align=\"left\">JAMSIM is freely available as an open-source tool, for public reuse and modification at <a href=\"http://code.google.com/p/jamsim/\">http://code.google.com/p/jamsim/</a>. It combines R and the Java-based agent-based modeling graphical tool Ascape.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib49\">Richiardi and Richardson (2017)</a>\n</td>\n<td align=\"left\">JAS-mine is a Java-based computational platform that features tools for discrete-event simulations encompassing both dynamic microsimulation and agent-based modeling. Object-relational mapping is used to embed a relational database management system. It is a general-purpose platform (not specifically health related).</td>\n<td align=\"left\">JAS-mine is freely available as an open-source tool, for public reuse and modification at <a href=\"https://github.com/jasmineRepo/JAS-mine-core\">https://github.com/jasmineRepo/JAS-mine-core</a>. It is written in Java.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib26\">Kosar and Tomintz (2014)</a>; <a href=\"#bib58\">Tomintz et al. (2017)</a>\n</td>\n<td align=\"left\">simSALUD is a deterministic spatial microsimulation framework. Its main aim is to model health related issues for small areas using spatial microsimulation modeling to simulate information where no data exists or is accessible.</td>\n<td align=\"left\">simSALUD is an open-source web-application, programmed using Java and based on Apache\u2019s model-view-controller application Struts2. It can be accessed at <a href=\"http://www.simsalud.org/simulation/\">http://www.simsalud.org/simulation/</a>.</td>\n</tr>\n<tr>\n<td align=\"left\">\n<a href=\"#bib9\">Clements et al. (2021)</a>\n</td>\n<td align=\"left\">microsimulation package for R provides implementations of discrete event simulations in both R and C++. The R implementation builds on several R5 classes (useful from a pedagogical perspective, but slow for larger microsimulations). For speed, the authors provide C++ classes.</td>\n<td align=\"left\">The package is freely available at <a href=\"https://github.com/mclements/microsimulation\">https://github.com/mclements/microsimulation</a>.</td>\n</tr>\n<tr>\n<td align=\"left\">Developed by Statistics Canada; used, for example, in <a href=\"#bib53\">Spielauer and Dupriez (2019)</a>\n</td>\n<td align=\"left\">Modgen and its open-source implementation openM++ are generic microsimulation software supporting the creation, maintenance and documentation of dynamic microsimulation models. Several types of models can be accommodated, be they continuous or discrete time, with interacting or noninteracting populations. Compared to its closed source predecessor Modgen, openM++ has many advantages like portability, scalability and open source.</td>\n<td align=\"left\">openM++ is freely available at <a href=\"https://github.com/openmpp\">https://github.com/openmpp</a>.</td>\n</tr>\n</tbody>\n</table>"
                            ],
                            "title": "Related work on open-source frameworks for microsimulation models",
                            "type": "table"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "text": "At the same time, there is a relatively small body of literature that is concerned with open-source microsimulation frameworks within the medical domain (a summary of this literature is provided in <a href=\"#tableA2\">Table A2</a>). In fact, <a href=\"#bib54\">Spielauer (2007)</a> pointed out that microsimulation techniques largely focus on simulating tax-benefit and pension systems, and that extensions for health-related policies and interventions are sparse. Although this situation has changed since 2007, the related work on open-source frameworks for this domain is still limited. For example, a Scopus search in May 2020 with the TITLE-ABS-KEY search terms (open AND source AND framework AND microsimulation AND health) yielded only two results (<a href=\"#bib47\">Prakash et al., 2017</a>; <a href=\"#bib28\">Kuchenbecker et al., 2018</a>). Similarly, a PubMed search with the same keywords also returned only two studies (<a href=\"#bib47\">Prakash et al., 2017</a>; <a href=\"#bib50\">Sai et al., 2019</a>). As documented in <a href=\"#tableA1\">Table A1</a>, <a href=\"#bib47\">Prakash et al. (2017)</a> developed and used a specific open-source tool for colorectal cancer microsimulation that was later used by <a href=\"#bib50\">Sai et al. (2019)</a>, while <a href=\"#bib28\">Kuchenbecker et al. (2018)</a> used an existing model to study pneumococcal diseases. In sum, these studies are limited to specific health problems and only <a href=\"#bib47\">Prakash et al. (2017)</a> developed an open-source tool. The remaining studies in <a href=\"#tableA2\">Table A2</a> were identified with a Google Scholar search with the same keywords specified above and by using the snowballing technique (<a href=\"#bib65\">Wohlin, 2014</a>) among all already identified articles.",
                    "type": "paragraph"
                },
                {
                    "text": "The first three frameworks listed in <a href=\"#tableA2\">Table A2</a> are all for general purposes (not specifically health related) open-source simulation frameworks that\u2014like our framework\u2014support large-scale individual-level data generation. The next framework in the table, simSALUD, is meant to simulate only small area health related issues. The last rows of the table describe the closest existing tools to our framework. The microsimulation package in R and openM++ (both based on C++) can be used from R. However, they do not include direct support for manipulations.",
                    "type": "paragraph"
                },
                {
                    "text": "As summarized by <a href=\"#bib27\">Krijkamp et al. (2018)</a>, R is appropriate not only for developing microsimulation models but also for the open-source distribution of the implementations. They emphasize that despite these advantages, open source models for medical decision making in R are scarce. To encourage more developers to use R, they provide an easy microsimulation example of a medical decision model (i.e., the sick-sicker model, first introduced by <a href=\"#bib15\">Enns et al. (2015)</a>). We compared the performance of Sima with their implementation. Running their vectorized example (by sourcing directly from GitHub and using the authors\u2019 own measure of running time) took  <math alttext=\"\\approx 6\" id=\"inf94\"> <mrow> <mi/> <mo>\u2248</mo> <mn>6</mn> </mrow> </math>  seconds and running the Sima version took  <math alttext=\"\\approx 2\" id=\"inf95\"> <mrow> <mi/> <mo>\u2248</mo> <mn>2</mn> </mrow> </math>  seconds if we record the entire simulation history (our implementation of the sick-sicker model is available at the Sima website <a href=\"https://santikka.github.io/Sima/\">https://santikka.github.io/Sima/</a>). Thus, we conclude that to our knowledge, no open-source simulation framework in R for realistic large-scale individual-level data generation for medical decision making was developed so far that is as scalable as Sima.",
                    "type": "paragraph"
                }
            ],
            "id": "A1",
            "title": "Appendix A Related Work in the Health Domain"
        },
        {
            "content": [
                {
                    "text": "We present here a mathematical formulation of our simulation framework. The implementation of Sima builds on these concepts and definitions.",
                    "type": "paragraph"
                },
                {
                    "text": "Simulation domain defines the scope of the status variables, parameters and latent variables.",
                    "type": "paragraph"
                },
                {
                    "content": [
                        {
                            "text": "A <i>simulation domain</i> is a triple",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"script\">X</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u0398</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u03a8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math id=\"inf96\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"script\">X</mi> </mrow> <mo>=</mo> <msubsup> <mtext mathbackground=\"#ffff88\" mathcolor=\"#cc0000\" mathsize=\"100%\">\\bigtimes</mtext> <mrow> <mi>j</mi> <mo>=</mo> <mn>1</mn> </mrow> <mrow> <mi>m</mi> </mrow> </msubsup> <msub> <mrow> <mi mathvariant=\"script\">X</mi> </mrow> <mrow> <mi>j</mi> </mrow> </msub> </mrow> </mstyle> </math>  is the space of the status variables,  <math id=\"inf97\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi mathvariant=\"normal\">\u0398</mi> </mrow> </mstyle> </math>  is the parameter space and  <math id=\"inf98\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi mathvariant=\"normal\">\u03a8</mi> </mrow> </mstyle> </math>  is the latent variable space.",
                            "type": "paragraph"
                        },
                        {
                            "text": "We assume that the spaces  <math alttext=\"\\mathcal{X}_{j}\" id=\"inf99\"> <msub> <mi mathvariant=\"script\">X</mi> <mi>j</mi> </msub> </math>  of individual status variables are one dimensional and real-valued. This assumption does not rule out for example categorical variables, which can be included by encoding them in the standard way with a binary indicator for each category. It should be noted we do not impose any restrictions on the possible combinations of values in the Cartesian product  <math alttext=\"\\mathcal{X}\" id=\"inf100\"> <mi mathvariant=\"script\">X</mi> </math> .",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s9",
                    "title": "Definition 1 (Simulation Domain)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let  <math alttext=\"\\mathcal{D}=(\\mathcal{X},\\Theta,\\Psi)\" id=\"inf101\"> <mrow> <mi mathvariant=\"script\">D</mi> <mo>=</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"script\">X</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  be a simulation domain. A <i>population\u2002</i>  <math alttext=\"\\mathbf{X}\" id=\"inf102\"> <mi mathvariant=\"bold\">X</mi> </math>  in  <math alttext=\"\\mathcal{D}\" id=\"inf103\"> <mi mathvariant=\"script\">D</mi> </math>  is a  <math alttext=\"n\\times m\" id=\"inf104\"> <mrow> <mi>n</mi> <mo>\u00d7</mo> <mi>m</mi> </mrow> </math>  matrix",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mstyle displaystyle=\"true\" scriptlevel=\"0\">\n<mrow>\n<mrow>\n<mi mathvariant=\"bold\">X</mi>\n</mrow>\n<mo>=</mo>\n<mrow>\n<mo>[</mo>\n<mtable columnspacing=\"1em\" rowspacing=\"4pt\">\n<mtr>\n<mtd>\n<msubsup>\n<mi mathvariant=\"bold-italic\">x</mi>\n<mrow>\n<mn>1</mn>\n</mrow>\n<mrow>\n<mrow>\n<mi mathvariant=\"sans-serif\">T</mi>\n</mrow>\n</mrow>\n</msubsup>\n</mtd>\n</mtr>\n<mtr>\n<mtd>\n<mo>\u22ee</mo>\n</mtd>\n</mtr>\n<mtr>\n<mtd>\n<msubsup>\n<mi mathvariant=\"bold-italic\">x</mi>\n<mrow>\n<mi>n</mi>\n</mrow>\n<mrow>\n<mrow>\n<mi mathvariant=\"sans-serif\">T</mi>\n</mrow>\n</mrow>\n</msubsup>\n</mtd>\n</mtr>\n</mtable>\n<mo>]</mo>\n</mrow>\n<mo>=</mo>\n<mrow>\n<mo>[</mo>\n<mtable columnspacing=\"1em\" rowspacing=\"4pt\">\n<mtr>\n<mtd>\n<msub>\n<mi>x</mi>\n<mrow>\n<mn>11</mn>\n</mrow>\n</msub>\n</mtd>\n<mtd>\n<mo>\u22ef</mo>\n</mtd>\n<mtd>\n<msub>\n<mi>x</mi>\n<mrow>\n<mn>1</mn>\n<mi>m</mi>\n</mrow>\n</msub>\n</mtd>\n</mtr>\n<mtr>\n<mtd>\n<mo>\u22ee</mo>\n</mtd>\n<mtd>\n<mo>\u22f1</mo>\n</mtd>\n<mtd>\n<mo>\u22ee</mo>\n</mtd>\n</mtr>\n<mtr>\n<mtd>\n<msub>\n<mi>x</mi>\n<mrow>\n<mi>n</mi>\n<mn>1</mn>\n</mrow>\n</msub>\n</mtd>\n<mtd>\n<mo>\u22ef</mo>\n</mtd>\n<mtd>\n<msub>\n<mi>x</mi>\n<mrow>\n<mi>n</mi>\n<mi>m</mi>\n</mrow>\n</msub>\n</mtd>\n</mtr>\n</mtable>\n<mo>]</mo>\n</mrow>\n<mo>,</mo>\n</mrow>\n</mstyle>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where each row vector  <math id=\"inf105\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msubsup> <mi mathvariant=\"bold-italic\">x</mi> <mrow> <mi>i</mi> </mrow> <mrow> <mrow> <mi mathvariant=\"sans-serif\">T</mi> </mrow> </mrow> </msubsup> </mrow> </mstyle> </math>  refers to the <i>individual</i>  <math alttext=\"i\" id=\"inf106\"> <mi>i</mi> </math>  of the population,  <math alttext=\"n\" id=\"inf107\"> <mi>n</mi> </math>  is the population size, and  <math alttext=\"x_{ij}\\in\\mathcal{X}_{j}\" id=\"inf108\"> <mrow> <msub> <mi>x</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>j</mi> </mrow> </msub> <mo>\u2208</mo> <msub> <mi mathvariant=\"script\">X</mi> <mi>j</mi> </msub> </mrow> </math>  for all  <math alttext=\"i=1,\\ldots,n,\\,j=1,\\ldots,m\" id=\"inf109\"> <mrow> <mrow> <mi>i</mi> <mo>=</mo> <mrow> <mn>1</mn> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <mi>n</mi> </mrow> </mrow> <mo rspace=\"4.2pt\">,</mo> <mrow> <mi>j</mi> <mo>=</mo> <mrow> <mn>1</mn> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <mi>m</mi> </mrow> </mrow> </mrow> </math> . The element  <math alttext=\"x_{ij}\" id=\"inf110\"> <msub> <mi>x</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>j</mi> </mrow> </msub> </math>  is called the <i>status variable</i>  <math alttext=\"j\" id=\"inf111\"> <mi>j</mi> </math>  of individual  <math alttext=\"i\" id=\"inf112\"> <mi>i</mi> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "The set of populations of size  <math alttext=\"n\" id=\"inf113\"> <mi>n</mi> </math>  having  <math alttext=\"m\" id=\"inf114\"> <mi>m</mi> </math>  status variables in  <math id=\"inf115\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"script\">D</mi> </mrow> </mrow> </mstyle> </math>  is denoted by  <math id=\"inf116\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msup> <mrow> <mi mathvariant=\"script\">P</mi> </mrow> <mrow> <mi>n</mi> <mo>\u00d7</mo> <mi>m</mi> </mrow> </msup> <mo stretchy=\"false\">[</mo> <mrow> <mi mathvariant=\"script\">D</mi> </mrow> <mo stretchy=\"false\">]</mo> </mrow> </mstyle> </math> . Changes in the population are carried by the event functions.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s10",
                    "title": "Definition 2 (Population)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let  <math alttext=\"\\mathcal{D}=(\\mathcal{X},\\Theta,\\Psi)\" id=\"inf117\"> <mrow> <mi mathvariant=\"script\">D</mi> <mo>=</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"script\">X</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  be a simulation domain. A <i>manipulation event\u2002</i>  <math alttext=\"\\mu\" id=\"inf118\"> <mi>\u03bc</mi> </math>  in  <math alttext=\"\\mathcal{D}\" id=\"inf119\"> <mi mathvariant=\"script\">D</mi> </math>  is a function  <math alttext=\"\\mu:\\mathcal{X}\\times\\Theta\\times\\Psi\\rightarrow\\mathcal{X}\" id=\"inf120\"> <mrow> <mi>\u03bc</mi> <mo>:</mo> <mrow> <mrow> <mi mathvariant=\"script\">X</mi> <mo>\u00d7</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>\u00d7</mo> <mi mathvariant=\"normal\">\u03a8</mi> </mrow> <mo>\u2192</mo> <mi mathvariant=\"script\">X</mi> </mrow> </mrow> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "Manipulation events are used to describe deterministic changes between two time points in the status variables of a single individual  <math id=\"inf121\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msubsup> <mi mathvariant=\"bold-italic\">x</mi> <mrow> <mi>i</mi> </mrow> <mrow> <mrow> <mi mathvariant=\"sans-serif\">T</mi> </mrow> </mrow> </msubsup> </mrow> </mstyle> </math>  of a population  <math id=\"inf122\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"bold\">X</mi> </mrow> </mrow> </mstyle> </math> . We also define the following.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s11",
                    "title": "Definition 3 (Manipulation Event)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let  <math alttext=\"\\mathcal{D}=(\\mathcal{X},\\Theta,\\Psi)\" id=\"inf123\"> <mrow> <mi mathvariant=\"script\">D</mi> <mo>=</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"script\">X</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  be a simulation domain. An <i>accumulation event</i> in  <math alttext=\"\\mathcal{D}\" id=\"inf124\"> <mi mathvariant=\"script\">D</mi> </math>  is a pair",
                            "type": "paragraph"
                        },
                        {
                            "text": "<math id=\"inf125\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mo stretchy=\"false\">(</mo> <mi>\u03b7</mi> <mo>,</mo> <mtext>\u00a0</mtext> <mi>\u03bd</mi> <mo stretchy=\"false\">)</mo> </mrow> </mstyle> </math> , where  <math id=\"inf126\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi>\u03b7</mi> </mrow> </mstyle> </math>  is a function  <math id=\"inf127\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi>\u03b7</mi> <mo>:</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>\u00d7</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo stretchy=\"false\">\u2192</mo> <mrow> <mi mathvariant=\"double-struck\">N</mi> </mrow> </mrow> </mstyle> </math>  and  <math id=\"inf128\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi>\u03bd</mi> </mrow> </mstyle> </math>  is a sequence  <math id=\"inf129\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msubsup> <mrow> <mo>{</mo> <msub> <mi>b</mi> <mi>k</mi> </msub> <mo>}</mo> </mrow> <mrow> <mi>k</mi> <mo>=</mo> <mn>1</mn> </mrow> <mrow> <mi mathvariant=\"normal\">\u221e</mi> </mrow> </msubsup> </mrow> </mstyle> </math>  of functions <math id=\"inf130\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msub> <mi>b</mi> <mi>k</mi> </msub> <mo>:</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>\u00d7</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo stretchy=\"false\">\u2192</mo> <msup> <mrow> <mi mathvariant=\"script\">P</mi> </mrow> <mrow> <mspace width=\"thinmathspace\"/> <mi>k</mi> <mtext>\u00a0</mtext> <mo>\u00d7</mo> <mtext>\u00a0</mtext> <mi>m</mi> </mrow> </msup> <mo stretchy=\"false\">[</mo> <mrow> <mi mathvariant=\"script\">D</mi> </mrow> <mo stretchy=\"false\">]</mo> <mo>.</mo> </mrow> </mstyle> </math>",
                            "type": "paragraph"
                        },
                        {
                            "text": "The operation of accumulation events is twofold. First, the function  <math alttext=\"\\eta\" id=\"inf131\"> <mi>\u03b7</mi> </math>  selects the number of individuals  <math alttext=\"k\" id=\"inf132\"> <mi>k</mi> </math>  to be added to the population. Second, the corresponding function <i>b</i> <sub> <i>k</i> </sub> is used to generate the new set of individuals to be added. The case where  <math alttext=\"\\eta(\\boldsymbol{\\theta},\\boldsymbol{\\psi})=0\" id=\"inf133\"> <mrow> <mrow> <mi>\u03b7</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo>,</mo> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> <mo>=</mo> <mn>0</mn> </mrow> </math>  for some assignment of  <math alttext=\"\\boldsymbol{\\theta}\\in\\Theta\" id=\"inf134\"> <mrow> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo>\u2208</mo> <mi mathvariant=\"normal\">\u0398</mi> </mrow> </math>  and  <math alttext=\"\\boldsymbol{\\psi}\\in\\Psi\" id=\"inf135\"> <mrow> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mo>\u2208</mo> <mi mathvariant=\"normal\">\u03a8</mi> </mrow> </math>  should be understood to mean that no new individuals will be added to the population. The events are defined as deterministic functions given the parameter  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf136\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  and the latent variables  <math alttext=\"\\boldsymbol{\\psi}\" id=\"inf137\"> <mi mathvariant=\"bold-italic\">\u03c8</mi> </math>  which, if assumed to be random variables, give a stochastic nature to the simulator. Event order is defined as follows.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s12",
                    "title": "Definition 4 (Accumulation Event)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let  <math alttext=\"\\mathcal{D}=(\\mathcal{X},\\Theta,\\Psi)\" id=\"inf138\"> <mrow> <mi mathvariant=\"script\">D</mi> <mo>=</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"script\">X</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  be a simulation domain and let  <math alttext=\"k\\in\\mathbb{N}\" id=\"inf139\"> <mrow> <mi>k</mi> <mo>\u2208</mo> <mi>\u2115</mi> </mrow> </math> . An <i>event order</i> in  <math alttext=\"\\mathcal{D}\" id=\"inf140\"> <mi mathvariant=\"script\">D</mi> </math>  of  <math alttext=\"k\" id=\"inf141\"> <mi>k</mi> </math>  manipulation events is a set of functions  <math alttext=\"\\{\\sigma_{1},\\ldots,\\sigma_{n}\\}\" id=\"inf142\"> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi>\u03c3</mi> <mn>1</mn> </msub> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <msub> <mi>\u03c3</mi> <mi>n</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> </math> , such that",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mrow>\n<msub>\n<mi>\u03c3</mi>\n<mi>n</mi>\n</msub>\n<mo>:</mo>\n<mrow>\n<mrow>\n<mrow>\n<msub>\n<mi>\u2115</mi>\n<mi>k</mi>\n</msub>\n<mo>\u00d7</mo>\n<mi mathvariant=\"normal\">\u03a8</mi>\n</mrow>\n<mo>\u2192</mo>\n<msub>\n<mi>\u2115</mi>\n<mi>k</mi>\n</msub>\n</mrow>\n<mo rspace=\"12.5pt\">,</mo>\n<mrow>\n<mrow>\n<mtext> for all </mtext>\n<mo>\u2062</mo>\n<mi>n</mi>\n</mrow>\n<mo>\u2208</mo>\n<mi>\u2115</mi>\n</mrow>\n</mrow>\n</mrow>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "mathml": "<math>\n<msub><mi>\u2115</mi><mi>k</mi></msub><mo>=</mo><mrow><mo>{</mo><mn>1</mn><mo>,</mo><mi mathvariant=\"normal\">\u2026</mi><mo>,</mo><mi>k</mi><mo>}</mo><mi>where</mi></mrow></math>",
                            "type": "mathml"
                        },
                        {
                            "text": "A single function  <math alttext=\"\\sigma_{j}\" id=\"inf143\"> <msub> <mi>\u03c3</mi> <mi>j</mi> </msub> </math>  is essentially a permutation function that defines the application order of manipulation events for individual  <math alttext=\"j\" id=\"inf144\"> <mi>j</mi> </math> , which can be random, as these functions depend on the latent variables  <math alttext=\"\\Psi\" id=\"inf145\"> <mi mathvariant=\"normal\">\u03a8</mi> </math> . We are now ready to define the simulator itself.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s13",
                    "title": "Definition 5 (Event Order)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "A <i>simulator</i> is a quintuple",
                            "type": "paragraph"
                        },
                        {
                            "text": "<math alttext=\"(\\mathcal{D},\\mathbf{X}_{0},\\{\\mu_{i}\\}_{i=1}^{r},E_{r},A),\" id=\"inf146\"> <mrow> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"script\">D</mi> <mo>,</mo> <msub> <mi mathvariant=\"bold\">X</mi> <mn>0</mn> </msub> <mo>,</mo> <msubsup> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi>\u03bc</mi> <mi>i</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>r</mi> </msubsup> <mo>,</mo> <msub> <mi>E</mi> <mi>r</mi> </msub> <mo>,</mo> <mi>A</mi> <mo stretchy=\"false\">)</mo> </mrow> <mo>,</mo> </mrow> </math> \u2002where  <math alttext=\"\\mathcal{D}\" id=\"inf147\"> <mi mathvariant=\"script\">D</mi> </math>  is a simulation domain,  <math alttext=\"\\mathbf{X}_{0}\" id=\"inf148\"> <msub> <mi mathvariant=\"bold\">X</mi> <mn>0</mn> </msub> </math>  is the initial population in  <math alttext=\"\\mathcal{D}\" id=\"inf149\"> <mi mathvariant=\"script\">D</mi> </math> ,  <math alttext=\"\\{\\mu_{i}\\}_{i=1}^{r}\" id=\"inf150\"> <msubsup> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi>\u03bc</mi> <mi>i</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>r</mi> </msubsup> </math>  is a sequence of manipulation events in  <math alttext=\"\\mathcal{D}\" id=\"inf151\"> <mi mathvariant=\"script\">D</mi> </math> ,  <math alttext=\"E_{r}\" id=\"inf152\"> <msub> <mi>E</mi> <mi>r</mi> </msub> </math>  is an event order in  <math alttext=\"\\mathcal{D}\" id=\"inf153\"> <mi mathvariant=\"script\">D</mi> </math>  of  <math alttext=\"r\" id=\"inf154\"> <mi>r</mi> </math>  manipulation events and  <math alttext=\"A\" id=\"inf155\"> <mi>A</mi> </math>  is a set of accumulation events in  <math alttext=\"\\mathcal{D}\" id=\"inf156\"> <mi mathvariant=\"script\">D</mi> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "At a given time, the simulator occupies a state.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s14",
                    "title": "Definition 6 (Simulator)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mi mathvariant=\"script\">S</mi>\n<mo>=</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"script\">X</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u0398</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u03a8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>,</mo>\n<msub>\n<mi mathvariant=\"bold\">X</mi>\n<mn>0</mn>\n</msub>\n<mo>,</mo>\n<msubsup>\n<mrow>\n<mo stretchy=\"false\">{</mo>\n<msub>\n<mi>\u03bc</mi>\n<mi>i</mi>\n</msub>\n<mo stretchy=\"false\">}</mo>\n</mrow>\n<mrow>\n<mi>i</mi>\n<mo>=</mo>\n<mn>1</mn>\n</mrow>\n<mi>r</mi>\n</msubsup>\n<mo>,</mo>\n<msub>\n<mi>E</mi>\n<mi>r</mi>\n</msub>\n<mo>,</mo>\n<mi>A</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "be a simulator. A <i>state</i> of  <math alttext=\"\\mathcal{S}\" id=\"inf157\"> <mi mathvariant=\"script\">S</mi> </math>  is a pair",
                            "type": "paragraph"
                        },
                        {
                            "text": "<math id=\"inf158\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mo stretchy=\"false\">(</mo> <mrow> <mi mathvariant=\"bold\">X</mi> </mrow> <mo>,</mo> <mtext>\u00a0</mtext> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo stretchy=\"false\">)</mo> <mo>,</mo> </mrow> </mstyle> </math> where  <math id=\"inf159\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"bold\">X</mi> </mrow> </mrow> </mstyle> </math>  is a population in  <math id=\"inf160\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mo stretchy=\"false\">(</mo> <mrow> <mi mathvariant=\"script\">X</mi> </mrow> <mo>,</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>,</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mstyle> </math>  and  <math id=\"inf161\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo>\u2208</mo> <mi mathvariant=\"normal\">\u0398</mi> <mo>.</mo> </mrow> </mstyle> </math>  A state of  <math id=\"inf162\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"script\">S</mi> </mrow> </mrow> </mstyle> </math>  is its initial state if  <math id=\"inf163\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <msub> <mrow> <mi mathvariant=\"bold\">X</mi> <mo mathvariant=\"bold\">=</mo> <mi mathvariant=\"bold\">X</mi> </mrow> <mn>0</mn> </msub> <mo>.</mo> </mrow> </mstyle> </math>  The set of all states of  <math id=\"inf164\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mrow> <mi mathvariant=\"script\">S</mi> </mrow> </mrow> </mstyle> </math>  is denoted <math id=\"inf165\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi mathvariant=\"normal\">\u03a3</mi> <mo stretchy=\"false\">[</mo> <mrow> <mi mathvariant=\"script\">S</mi> </mrow> <mo stretchy=\"false\">]</mo> </mrow> </mstyle> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "A state of the simulator encapsulates the status of its population ( <math alttext=\"\\mathbf{X}\" id=\"inf166\"> <mi mathvariant=\"bold\">X</mi> </math> ) and its parameter configuration ( <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf167\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math> ). Starting from an initial state, transitions between states are carried out by the transition function.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s15",
                    "title": "Definition 7 (State).",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mi mathvariant=\"script\">S</mi>\n<mo>=</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"script\">X</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u0398</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u03a8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>,</mo>\n<msub>\n<mi mathvariant=\"bold\">X</mi>\n<mn>0</mn>\n</msub>\n<mo>,</mo>\n<msubsup>\n<mrow>\n<mo stretchy=\"false\">{</mo>\n<msub>\n<mi>\u03bc</mi>\n<mi>i</mi>\n</msub>\n<mo stretchy=\"false\">}</mo>\n</mrow>\n<mrow>\n<mi>i</mi>\n<mo>=</mo>\n<mn>1</mn>\n</mrow>\n<mi>r</mi>\n</msubsup>\n<mo>,</mo>\n<msub>\n<mi>E</mi>\n<mi>r</mi>\n</msub>\n<mo>,</mo>\n<mi>A</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "be a simulator. The <i>transition function</i>  <math alttext=\"\\delta\" id=\"inf168\"> <mi>\u03b4</mi> </math>  of  <math alttext=\"\\mathcal{S}\" id=\"inf169\"> <mi mathvariant=\"script\">S</mi> </math>  is a function  <math alttext=\"\\delta:\\Sigma[\\mathcal{S}]\\times\\Psi\\rightarrow\\Sigma[\\mathcal{S}]\" id=\"inf170\"> <mrow> <mi>\u03b4</mi> <mo>:</mo> <mrow> <mrow> <mrow> <mi mathvariant=\"normal\">\u03a3</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">[</mo> <mi mathvariant=\"script\">S</mi> <mo stretchy=\"false\">]</mo> </mrow> </mrow> <mo>\u00d7</mo> <mi mathvariant=\"normal\">\u03a8</mi> </mrow> <mo>\u2192</mo> <mrow> <mi mathvariant=\"normal\">\u03a3</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">[</mo> <mi mathvariant=\"script\">S</mi> <mo stretchy=\"false\">]</mo> </mrow> </mrow> </mrow> </mrow> </math>  such that",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mrow>\n<mrow>\n<mi>\u03b4</mi>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi>S</mi>\n<mo>,</mo>\n<mi mathvariant=\"bold-italic\">\u03c8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>=</mo>\n<mrow>\n<mi>\u03b4</mi>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold\">X</mi>\n<mo>,</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>,</mo>\n<mi mathvariant=\"bold-italic\">\u03c8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>=</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mi>d</mi>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold\">X</mi>\n<mo>,</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo>,</mo>\n<mi mathvariant=\"bold-italic\">\u03c8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>,</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>=</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msup>\n<mi mathvariant=\"bold\">X</mi>\n<mo>\u2032</mo>\n</msup>\n<mo>,</mo>\n<mi mathvariant=\"bold-italic\">\u03b8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "mathml": "<math>\n<mi>S</mi><mo>\u2208</mo><mi mathvariant=\"normal\">\u03a3</mi><mo>[</mo><mi mathvariant=\"script\">S</mi><mo>]</mo><mi>where</mi><mo>\u00a0</mo><mi>and</mi><mo>\u00a0</mo><mi>is</mi><mo>\u00a0</mo><mi>defined</mi><mo>\u00a0</mo><mi>as</mi><mo>\u00a0</mo><mi>follows</mi></math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"(\\alpha_{j},\\{b_{j,k}\\}_{k=1}^{\\infty})\\in A\" id=\"inf171\"> <mrow> <mrow> <mo stretchy=\"false\">(</mo> <msub> <mi>\u03b1</mi> <mi>j</mi> </msub> <mo>,</mo> <msubsup> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi>b</mi> <mrow> <mi>j</mi> <mo>,</mo> <mi>k</mi> </mrow> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mrow> <mi>k</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi mathvariant=\"normal\">\u221e</mi> </msubsup> <mo stretchy=\"false\">)</mo> </mrow> <mo>\u2208</mo> <mi>A</mi> </mrow> </math> ,  <math alttext=\"k(j)=\\alpha_{j}(\\boldsymbol{\\theta},\\boldsymbol{\\psi})\" id=\"inf172\"> <mrow> <mrow> <mi>k</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi>j</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> <mo>=</mo> <mrow> <msub> <mi>\u03b1</mi> <mi>j</mi> </msub> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo>,</mo> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </mrow> </math> ,  <math alttext=\"\\{\\ell_{1},\\ldots,\\ell_{s}\\}=\\{j\\,|\\,j=1,\\ldots,|A|,\\,k(j)\u00a7gt;0\\}\" id=\"inf173\"> <mrow> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi mathvariant=\"normal\">\u2113</mi> <mn>1</mn> </msub> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <msub> <mi mathvariant=\"normal\">\u2113</mi> <mi>s</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mo>=</mo> <mrow> <mo stretchy=\"false\">{</mo> <mpadded width=\"+1.7pt\"> <mi>j</mi> </mpadded> <mo rspace=\"4.2pt\" stretchy=\"false\">|</mo> <mrow> <mrow> <mi>j</mi> <mo>=</mo> <mrow> <mn>1</mn> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <mrow> <mo stretchy=\"false\">|</mo> <mi>A</mi> <mo stretchy=\"false\">|</mo> </mrow> </mrow> </mrow> <mo rspace=\"4.2pt\">,</mo> <mrow> <mrow> <mi>k</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi>j</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> <mo>\u00a7gt;</mo> <mn>0</mn> </mrow> </mrow> <mo stretchy=\"false\">}</mo> </mrow> </mrow> </math>  and  <math alttext=\"\\sigma_{j}\\in E_{r}\" id=\"inf174\"> <mrow> <msub> <mi>\u03c3</mi> <mi>j</mi> </msub> <mo>\u2208</mo> <msub> <mi>E</mi> <mi>r</mi> </msub> </mrow> </math> . The symbol  <math alttext=\"\\bigcirc_{i=1}^{m}\" id=\"inf175\"> <msubsup> <mo>\u25cb</mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>m</mi> </msubsup> </math>  denotes an ordered composition of a sequence of functions  <math alttext=\"\\{f_{i}\\}_{i=1}^{m}\" id=\"inf176\"> <msubsup> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi>f</mi> <mi>i</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>m</mi> </msubsup> </math>  over the leftmost argument, i.e.,  <math alttext=\"\\bigcirc_{i=1}^{m}f_{i}=f_{1}\\circ f_{2}\\circ\\cdots\\circ f_{m}\" id=\"inf177\"> <mrow> <msubsup> <mo>\u25cb</mo> <mrow> <mi>i</mi> <mo>=</mo> <mn>1</mn> </mrow> <mi>m</mi> </msubsup> <msub> <mi>f</mi> <mi>i</mi> </msub> <mo>=</mo> <msub> <mi>f</mi> <mn>1</mn> </msub> <mo>\u2218</mo> <msub> <mi>f</mi> <mn>2</mn> </msub> <mo>\u2218</mo> <mi mathvariant=\"normal\">\u22ef</mi> <mo>\u2218</mo> <msub> <mi>f</mi> <mi>m</mi> </msub> </mrow> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "Given a latent vector  <math alttext=\"\\boldsymbol{\\psi}\" id=\"inf178\"> <mi mathvariant=\"bold-italic\">\u03c8</mi> </math> , the transition function defines the transformation from one state to the next. The functions <i>d</i> <sub> <i>m</i> </sub> and <i>d</i> <sub> <i>a</i> </sub> correspond to the transformations carried out by manipulation events and the accumulation events. Since accumulation events do not depend on the current population, the order in which they are applied does not matter in <i>d</i> <sub> <i>a</i> </sub>. However, the order is significant for manipulation events in <i>d</i> <sub> <i>m</i> </sub>. Furthermore, this order can vary between individuals if the elements of the event order are defined as  <math alttext=\"\\sigma_{j}(i,\\boldsymbol{\\psi})\" id=\"inf179\"> <mrow> <msub> <mi>\u03c3</mi> <mi>j</mi> </msub> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi>i</mi> <mo>,</mo> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math>  instead of just  <math alttext=\"\\sigma(i,\\boldsymbol{\\psi})\" id=\"inf180\"> <mrow> <mi>\u03c3</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">(</mo> <mi>i</mi> <mo>,</mo> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mo stretchy=\"false\">)</mo> </mrow> </mrow> </math> , which would indicate a shared order for all individuals instead.",
                            "type": "paragraph"
                        },
                        {
                            "text": "A single run of the simulator provides the user with a simulation sequence.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s16",
                    "title": "Definition 8 (Transition Function)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mi mathvariant=\"script\">S</mi>\n<mo>=</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"script\">X</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u0398</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u03a8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>,</mo>\n<msub>\n<mi mathvariant=\"bold\">X</mi>\n<mn>0</mn>\n</msub>\n<mo>,</mo>\n<msubsup>\n<mrow>\n<mo stretchy=\"false\">{</mo>\n<msub>\n<mi>\u03bc</mi>\n<mi>i</mi>\n</msub>\n<mo stretchy=\"false\">}</mo>\n</mrow>\n<mrow>\n<mi>i</mi>\n<mo>=</mo>\n<mn>1</mn>\n</mrow>\n<mi>r</mi>\n</msubsup>\n<mo>,</mo>\n<msub>\n<mi>E</mi>\n<mi>r</mi>\n</msub>\n<mo>,</mo>\n<mi>A</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "be a simulator,  <math alttext=\"S_{0}\\in\\Sigma[\\mathcal{S}]\" id=\"inf181\"> <mrow> <msub> <mi>S</mi> <mn>0</mn> </msub> <mo>\u2208</mo> <mrow> <mi mathvariant=\"normal\">\u03a3</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">[</mo> <mi mathvariant=\"script\">S</mi> <mo stretchy=\"false\">]</mo> </mrow> </mrow> </mrow> </math> , and let  <math alttext=\"\\{\\boldsymbol{\\psi}_{t}\\}_{t=0}^{T}\" id=\"inf182\"> <msubsup> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mi>t</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mrow> <mi>t</mi> <mo>=</mo> <mn>0</mn> </mrow> <mi>T</mi> </msubsup> </math>  be a sequence of  <math alttext=\"(\\Psi,\\mathcal{F})\" id=\"inf183\"> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo>,</mo> <mi class=\"ltx_font_mathcaligraphic\">\u2131</mi> <mo stretchy=\"false\">)</mo> </mrow> </math> -measurable random vectors. A simulation sequence of  <math alttext=\"\\mathcal{S}\" id=\"inf184\"> <mi mathvariant=\"script\">S</mi> </math>  is a sequence of its states  <math alttext=\"\\{S_{t}\\}_{t=0}^{T}\" id=\"inf185\"> <msubsup> <mrow> <mo stretchy=\"false\">{</mo> <msub> <mi>S</mi> <mi>t</mi> </msub> <mo stretchy=\"false\">}</mo> </mrow> <mrow> <mi>t</mi> <mo>=</mo> <mn>0</mn> </mrow> <mi>T</mi> </msubsup> </math>  such that",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<msub>\n<mi>S</mi>\n<mi>t</mi>\n</msub>\n<mo>=</mo>\n<mrow>\n<mo>{</mo>\n<mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\">\n<mtr>\n<mtd columnalign=\"left\">\n<msub>\n<mi>S</mi>\n<mn>0</mn>\n</msub>\n</mtd>\n<mtd columnalign=\"left\">\n<mrow>\n<mtext>if </mtext>\n<mrow>\n<mi>t</mi>\n<mo>=</mo>\n<mn>0</mn>\n</mrow>\n<mtext>,</mtext>\n</mrow>\n</mtd>\n</mtr>\n<mtr>\n<mtd columnalign=\"left\">\n<mrow>\n<mi>\u03b4</mi>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<msub>\n<mi>S</mi>\n<mrow>\n<mi>t</mi>\n<mo>-</mo>\n<mn>1</mn>\n</mrow>\n</msub>\n<mo>,</mo>\n<msub>\n<mi mathvariant=\"bold-italic\">\u03c8</mi>\n<mi>t</mi>\n</msub>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n</mtd>\n<mtd columnalign=\"left\">\n<mrow>\n<mtext>if </mtext>\n<mrow>\n<mi>t</mi>\n<mo>\u00a7gt;</mo>\n<mn>0</mn>\n</mrow>\n<mtext>,</mtext>\n</mrow>\n</mtd>\n</mtr>\n</mtable>\n</mrow>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"\\delta\" id=\"inf186\"> <mi>\u03b4</mi> </math>  is the transition function of  <math alttext=\"\\mathcal{S}\" id=\"inf187\"> <mi mathvariant=\"script\">S</mi> </math> .",
                            "type": "paragraph"
                        },
                        {
                            "text": "The index  <math alttext=\"T\" id=\"inf188\"> <mi>T</mi> </math>  defines the length of the simulation sequence. In practice,  <math alttext=\"T\" id=\"inf189\"> <mi>T</mi> </math>  can be viewed as a length of a specific time interval and incrementation of time  <math alttext=\"t\" id=\"inf190\"> <mi>t</mi> </math>  by 1 can be understood to mean the progress of time at the desired granularity (in days, weeks, years, etc.). Note that in a single simulation sequence the parameters  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf191\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  are determined by the state at time  <math alttext=\"t=0\" id=\"inf192\"> <mrow> <mi>t</mi> <mo>=</mo> <mn>0</mn> </mrow> </math>  and remain unchanged throughout the sequence.",
                            "type": "paragraph"
                        },
                        {
                            "text": "In order to calibrate the simulator, we need to be able to change its parameter configuration while keeping the system otherwise intact. This feature is provided by the configuration function.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s17",
                    "title": "Definition 9 (Simulation Sequence)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mi mathvariant=\"script\">S</mi>\n<mo>=</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"script\">X</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u0398</mi>\n<mo>,</mo>\n<mi mathvariant=\"normal\">\u03a8</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n<mo>,</mo>\n<msub>\n<mi mathvariant=\"bold\">X</mi>\n<mn>0</mn>\n</msub>\n<mo>,</mo>\n<msubsup>\n<mrow>\n<mo stretchy=\"false\">{</mo>\n<msub>\n<mi>\u03bc</mi>\n<mi>i</mi>\n</msub>\n<mo stretchy=\"false\">}</mo>\n</mrow>\n<mrow>\n<mi>i</mi>\n<mo>=</mo>\n<mn>1</mn>\n</mrow>\n<mi>r</mi>\n</msubsup>\n<mo>,</mo>\n<msub>\n<mi>E</mi>\n<mi>r</mi>\n</msub>\n<mo>,</mo>\n<mi>A</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "be a simulator. The <i>configuration function</i>  <math alttext=\"c\" id=\"inf193\"> <mi>c</mi> </math>  of  <math alttext=\"\\mathcal{S}\" id=\"inf194\"> <mi mathvariant=\"script\">S</mi> </math>  is a function  <math alttext=\"c:\\Sigma[\\mathcal{S}]\\times\\Theta\\rightarrow\\Sigma[\\mathcal{S}]\" id=\"inf195\"> <mrow> <mi>c</mi> <mo>:</mo> <mrow> <mrow> <mrow> <mi mathvariant=\"normal\">\u03a3</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">[</mo> <mi mathvariant=\"script\">S</mi> <mo stretchy=\"false\">]</mo> </mrow> </mrow> <mo>\u00d7</mo> <mi mathvariant=\"normal\">\u0398</mi> </mrow> <mo>\u2192</mo> <mrow> <mi mathvariant=\"normal\">\u03a3</mi> <mo>\u2062</mo> <mrow> <mo stretchy=\"false\">[</mo> <mi mathvariant=\"script\">S</mi> <mo stretchy=\"false\">]</mo> </mrow> </mrow> </mrow> </mrow> </math>  such that",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mi>S</mi><mo>\u2208</mo><mi mathvariant=\"normal\">\u03a3</mi><mo>\u2062</mo><mrow><mo>[</mo><mi mathvariant=\"script\">S</mi><mo>]</mo><mo>,</mo><mi>where</mi></mrow></math>",
                            "type": "mathml"
                        },
                        {
                            "text": "As the name suggests, the configuration function  <math alttext=\"c\" id=\"inf196\"> <mi>c</mi> </math>  can be used to configure the simulator, meaning that it can be used to manipulate the current state by exchanging the parameter vector  <math alttext=\"\\boldsymbol{\\theta}\" id=\"inf197\"> <mi mathvariant=\"bold-italic\">\u03b8</mi> </math>  for  <math alttext=\"\\boldsymbol{\\theta}^{\\prime}\" id=\"inf198\"> <msup> <mi mathvariant=\"bold-italic\">\u03b8</mi> <mo>\u2032</mo> </msup> </math> . The data collection process of the simulator is provided by the sampler function.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s18",
                    "title": "Definition 10 (Configuration Function)",
                    "type": "section"
                },
                {
                    "content": [
                        {
                            "text": "Let  <math alttext=\"\\mathbf{X}\" id=\"inf199\"> <mi mathvariant=\"bold\">X</mi> </math>  be a population in  <math alttext=\"\\mathcal{D}\" id=\"inf200\"> <mi mathvariant=\"script\">D</mi> </math> . A <i>sampler</i> is a function  <math id=\"inf201\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi>s</mi> <mo>:</mo> <mi mathvariant=\"normal\">\u03a8</mi> <mo>\u00d7</mo> <msup> <mrow> <mi mathvariant=\"script\">P</mi> </mrow> <mrow> <mi>n</mi> <mo>\u00d7</mo> <mi>m</mi> </mrow> </msup> <mo stretchy=\"false\">[</mo> <mrow> <mi mathvariant=\"script\">D</mi> </mrow> <mo stretchy=\"false\">]</mo> <mo stretchy=\"false\">\u2192</mo> <msup> <mrow> <mi mathvariant=\"script\">P</mi> </mrow> <mrow> <mi>n</mi> <mo>\u00d7</mo> <mi>m</mi> </mrow> </msup> <mo stretchy=\"false\">[</mo> <msup> <mrow> <mi mathvariant=\"script\">D</mi> </mrow> <mrow> <mo>\u2217</mo> </mrow> </msup> <mo stretchy=\"false\">]</mo> </mrow> </mstyle> </math>  such that",
                            "type": "paragraph"
                        },
                        {
                            "mathml": "<math>\n<mrow>\n<mrow>\n<mrow>\n<mi>s</mi>\n<mo>\u2062</mo>\n<mrow>\n<mo stretchy=\"false\">(</mo>\n<mi mathvariant=\"bold-italic\">\u03c8</mi>\n<mo>,</mo>\n<mi mathvariant=\"bold\">X</mi>\n<mo stretchy=\"false\">)</mo>\n</mrow>\n</mrow>\n<mo>=</mo>\n<msup>\n<mi mathvariant=\"bold\">X</mi>\n<mo>*</mo>\n</msup>\n</mrow>\n<mo>,</mo>\n</mrow>\n</math>",
                            "type": "mathml"
                        },
                        {
                            "text": "where  <math alttext=\"\\mathbf{X}^{*}\" id=\"inf202\"> <msup> <mi mathvariant=\"bold\">X</mi> <mo>*</mo> </msup> </math>  is called a <i>sample</i> with either  <math alttext=\"x^{*}_{ij}=e(\\boldsymbol{\\psi},x_{ij})_{j}\" id=\"inf203\"> <mrow> <msubsup> <mi>x</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>j</mi> </mrow> <mo>*</mo> </msubsup> <mo>=</mo> <mrow> <mi>e</mi> <mo>\u2062</mo> <msub> <mrow> <mo stretchy=\"false\">(</mo> <mi mathvariant=\"bold-italic\">\u03c8</mi> <mo>,</mo> <msub> <mi>x</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>j</mi> </mrow> </msub> <mo stretchy=\"false\">)</mo> </mrow> <mi>j</mi> </msub> </mrow> </mrow> </math>  or  <math alttext=\"x^{*}_{ij}=\\textrm{NA}\" id=\"inf204\"> <mrow> <msubsup> <mi>x</mi> <mrow> <mi>i</mi> <mo>\u2062</mo> <mi>j</mi> </mrow> <mo>*</mo> </msubsup> <mo>=</mo> <mtext>NA</mtext> </mrow> </math>  and  <math alttext=\"e_{j}:\\Psi\\times\\mathcal{X}_{j}\\rightarrow\\mathcal{X}_{j}\" id=\"inf205\"> <mrow> <msub> <mi>e</mi> <mi>j</mi> </msub> <mo>:</mo> <mrow> <mrow> <mi mathvariant=\"normal\">\u03a8</mi> <mo>\u00d7</mo> <msub> <mi mathvariant=\"script\">X</mi> <mi>j</mi> </msub> </mrow> <mo>\u2192</mo> <msub> <mi mathvariant=\"script\">X</mi> <mi>j</mi> </msub> </mrow> </mrow> </math>  is an error function for all  <math alttext=\"i=1,\\ldots,n\" id=\"inf206\"> <mrow> <mi>i</mi> <mo>=</mo> <mrow> <mn>1</mn> <mo>,</mo> <mi mathvariant=\"normal\">\u2026</mi> <mo>,</mo> <mi>n</mi> </mrow> </mrow> </math>  and  <math id=\"inf207\"> <mstyle displaystyle=\"true\" scriptlevel=\"0\"> <mrow> <mi>j</mi> <mo>=</mo> <mn>1</mn> <mo>,</mo> <mo>\u2026</mo> <mo>,</mo> <mi>m</mi> <mo>.</mo> </mrow> </mstyle> </math>  NA denotes a missing value and  <math alttext=\"\\mathcal{D}^{*}\" id=\"inf208\"> <msup> <mi mathvariant=\"script\">D</mi> <mo>*</mo> </msup> </math>  denotes a simulation domain extended to include missing values.",
                            "type": "paragraph"
                        }
                    ],
                    "id": "s19",
                    "title": "Definition 11 (Sampler).",
                    "type": "section"
                }
            ],
            "id": "A2",
            "title": "Appendix B Mathematical Details"
        },
        {
            "content": [
                {
                    "text": "The built-in pseudo-random number generators of R are fairly efficient, but they can be improved upon, and significant reductions in simulation time can be observed when the default generators are replaced by more advanced methods. The importance of fast and scalable PRNGs is further highlighted for large populations and long simulation runs. The R package dqrng (<a href=\"#bib57\">Stubner, 2019</a>) provides several fast PRNG generators, including C++ implementations of the permuted congruential generator (PCG) family by <a href=\"#bib45\">O\u2019Neill (2014)</a>, and Xoroshiro128+ and Xoshiro256+ by <a href=\"#bib4\">Blackman and Vigna (2021)</a>. The Ziggurat algorithm proposed by <a href=\"#bib36\">Marsaglia and Tsang (2000)</a> is provided for generating random numbers from normal and exponential distributions. A version of the Threefry engine by <a href=\"#bib52\">Salmon et al. (2011)</a> is also available. While cryptographic aspects of PRNGs may be of importance in some practical applications of the simulator, our focus is mainly in the performance.",
                    "type": "paragraph"
                },
                {
                    "text": "Generators of the dqrng package are used internally in the implementation of the simulator, one example being the generation of the order in which manipulation events are applied at each time point. Typically, performance is improved over a base R generator even when using uniform random variables and the inverse method to generate realizations from a distribution for which no prespecified generator is available in the dqrng package. When manipulation events and accumulation events are defined for a specific simulator instance, the choice of PRNG for the random functionality of the events themselves can take advantage of the dqrng package but are not restricted to it. However, the user has to take care in order to ensure that the simulation remains reproducible if multiple different generators are used simultaneously.",
                    "type": "paragraph"
                },
                {
                    "assets": [
                        {
                            "id": "figC1",
                            "image": {
                                "alt": "",
                                "uri": "%iiif_uri%/00240%2Fijm-00240-fig005.tif",
                                "size": {
                                    "width": 1546,
                                    "height": 872
                                },
                                "source": {
                                    "mediaType": "image/jpeg",
                                    "uri": "%iiif_uri%/00240%2Fijm-00240-fig005.tif/full/full/0/default.jpg",
                                    "filename": "ijm-00240-fig005.jpg"
                                }
                            },
                            "label": "Figure C1",
                            "title": "Density plots of time taken (in milliseconds) for 10 million random draws over 1000 replications for the Xoroshiro128+ PRNG implementation of dqrng and the 32 bit Mersenne-Twister of base R with Weibull, normal, exponential and uniform distributions. Prefix \u201cdq\u201d denotes the dqrng version of the function. The horizontal axis uses log10-scaling. Weibull-distributed random variables are generated using the inverse method.",
                            "type": "image"
                        }
                    ],
                    "type": "figure"
                },
                {
                    "text": "We conduct a benchmark comparing Xoroshiro128+ provided by dqrng to the base R 32 bit Mersenne-Twister (<a href=\"#bib37\">Matsumoto and Nishimura, 1998</a>). The distributions included in dqrng consist of exponential, gaussian and uniform distributions. In addition, we compare the generation of Weibull-distributed random variables using the inverse method and uniform random variables with dqrng against the base R rweibull function. The results are presented in <a href=\"#figC1\">Figure C1</a> and they show that dqrng dominates the default generators for the included distributions of the package. The difference is smaller when using the inverse method with the quantile function qweibull, but dqrng still always outperforms the base generators.",
                    "type": "paragraph"
                }
            ],
            "id": "A3",
            "title": "Appendix C Efficient Pseudo-random Number Generation"
        }
    ],
    "acknowledgements": [
        {
            "text": "This work belongs to the thematic research area \u201cDecision analytics utilizing causal models and multiobjective optimization\u201d (DEMO) supported by Academy of Finland (grant number 311877).",
            "type": "paragraph"
        }
    ],
    "-meta": {
        "patched": true
    },
    "stage": "published"
}
