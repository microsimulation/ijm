map_hash_bucket_size 4096;
map_hash_max_size 4096;
map $uri $new_uri {
    /V2_1/IJM_2_1_1.pdf http://microsimulation.pub/articles/00008;
    /V2_1/IJM_2_1_2.pdf http://microsimulation.pub/articles/00009;
    /V2_1/IJM_2_1_3.pdf http://microsimulation.pub/articles/00010;
    /V2_1/IJM_2_1_4.pdf http://microsimulation.pub/articles/00011;
    /V2_1/IJM_2_1_5.pdf http://microsimulation.pub/articles/00012;
	/V2_2/IJM_2_2_1.pdf	http://microsimulation.pub/articles/00013;
	/V2_2/IJM_2_2_2.pdf	http://microsimulation.pub/articles/00014;
	/V2_2/IJM_2_2_3.pdf	http://microsimulation.pub/articles/00015;
	/V2_2/IJM_2_2_4.pdf	http://microsimulation.pub/articles/00016;
	/V2_2/IJM_2_2_5.pdf	http://microsimulation.pub/articles/00017;
	/V2_2/IJM_2_2_6.pdf	http://microsimulation.pub/articles/00018;
	/V2_2/IJM_2_2_7.pdf	http://microsimulation.pub/articles/00019;
	/V3_1/IJM_24.pdf	http://microsimulation.pub/articles/00020;
	/V3_1/IJM_25.pdf	http://microsimulation.pub/articles/00021;
	/V3_1/IJM_26.pdf	http://microsimulation.pub/articles/00022;
	/V3_1/IJM_27.pdf	http://microsimulation.pub/articles/00023;
	/V3_1/IJM_28.pdf	http://microsimulation.pub/articles/00024;
	/V3_1/IJM_29.pdf	http://microsimulation.pub/articles/00025;
	/V3_1/IJM_20.pdf	http://microsimulation.pub/articles/00026;
	/V3_1/IJM_30.pdf	http://microsimulation.pub/articles/00027;
	/V3_1/IJM_31.pdf	http://microsimulation.pub/articles/00028;
	/V3_1/IJM_32.pdf	http://microsimulation.pub/articles/00029;
	/V3_1/IJM_33.pdf	http://microsimulation.pub/articles/00030;
	/V3_1/IJM_34.pdf	http://microsimulation.pub/articles/00031;
	/V3_1/IJM_35.pdf	http://microsimulation.pub/articles/00032;
	/V3_1/IJM_36.pdf	http://microsimulation.pub/articles/00033;
	"/V3_2/Volume 3 Issue 2/0_IJM_46 Proof.pdf"	http://microsimulation.pub/articles/00034;
	"/V3_2/Volume 3 Issue 2/1_IJM_47 Proof.pdf"	http://microsimulation.pub/articles/00035;
	"/V3_2/Volume 3 Issue 2/2_IJM_48 Proof.pdf"	http://microsimulation.pub/articles/00036;
	"/V3_2/Volume 3 Issue 2/3_IJM_49 Proof.pdf"	http://microsimulation.pub/articles/00037;
	"/V3_2/Volume 3 Issue 2/4_IJM_50 Proof.pdf"	http://microsimulation.pub/articles/00038;
	"/V3_2/Volume 3 Issue 2/5_IJM_51 Proof.pdf"	http://microsimulation.pub/articles/00039;
	"/V3_2/Volume 3 Issue 2/6_IJM_52 Proof.pdf"	http://microsimulation.pub/articles/00040;
	"/V4_1/Volume 4 Issue 1/0_IJM2011_editorial_gd.pdf"	http://microsimulation.pub/articles/00041;
	"/V4_1/Volume 4 Issue 1/1_IJM_2008_03_Hovick Shahnazarian.pdf"	http://microsimulation.pub/articles/00042;
	"/V4_1/Volume 4 Issue 1/2_IJM_2009_4_Final Mueller.pdf"	http://microsimulation.pub/articles/00043;
	"/V4_1/Volume 4 Issue 1/3_BETTI_def.pdf"	http://microsimulation.pub/articles/00044;
	"/V4_1/Volume 4 Issue 1/4_IJM_2008_07_Liegeois_Berger_Islam_Wagener.pdf"	http://microsimulation.pub/articles/00045;
	"/V4_1/Volume 4 Issue 1/5_IJM2011_van_Sonsbeek_CORRECTED_GD_JMS.pdf"	http://microsimulation.pub/articles/00046;
	"/V4_1/Volume 4 Issue 1/6_NOTE_Dekkers_Zaidi_IMA_2011_EURODYN_revised_last_time_FINAL.pdf"	http://microsimulation.pub/articles/00047;
	"/V4_2/Volume 4 Issue 2/0_IJM_52_editorial_Dekkers_vanLeeuwen.pdf"	http://microsimulation.pub/articles/00048;
	"/V4_2/Volume 4 Issue 2/1_IJM_53_Wagenhals_changes_GD_clean_2_be.pdf"	http://microsimulation.pub/articles/00049;
	"/V4_2/Volume 4 Issue 2/2_IJM_54_Balzano_Oropallo_Parisi_be.pdf"	http://microsimulation.pub/articles/00050;
	"/V4_2/Volume 4 Issue 2/3_IJM_55_Ericson_Fall_be.pdf"	http://microsimulation.pub/articles/00051;
	"/V4_2/Volume 4 Issue 2/4_IJM_56_Decoster_Loughrey_Odonoghue_Verwerft_be.pdf"	http://microsimulation.pub/articles/00052;
	"/V4_2/Volume 4 Issue 2/5_IJM_57_Ghysels_Vanhille_Verbist_be_new.pdf"	http://microsimulation.pub/articles/00053;
	"/V4_2/Volume 4 Issue 2/6_IJM_58_Pellegrino_Piacenza_Turati_revised3_be.pdf"	http://microsimulation.pub/articles/00054;
	"/V4_3/Editorial Special Issue on health v2.pdf"	http://microsimulation.pub/articles/00055;
	"/V4_3/Linping paper v4_be.pdf"	http://microsimulation.pub/articles/00056;
	/V4_3/Lymer_v4.pdf	http://microsimulation.pub/articles/00057;
	"/V4_3/Schofield 1 paper v2.pdf"	http://microsimulation.pub/articles/00058;
	"/V4_3/IJM Schofield 2 V3.pdf"	http://microsimulation.pub/articles/00059;
	"/V4_3/Legare Paper v4.pdf"	http://microsimulation.pub/articles/00060;
	"/V4_3/Walker Paper v3.pdf"	http://microsimulation.pub/articles/00061;
	"/V4_3/Thurecht Paper v5a (post-edits).pdf"	http://microsimulation.pub/articles/00062;
	/V5_1/0_IJM_5_1_spring_2012_editorial_Dekkers.pdf	http://microsimulation.pub/articles/00063;
	/V5_1/1_IJM_5_1_spring_2012_Zuchelli_Rice_Jones.pdf	http://microsimulation.pub/articles/00064;
	/V5_1/2_IJM_5_1_spring_2012_cumpston.pdf	http://microsimulation.pub/articles/00065;
	/V5_1/3_IJM_5_1_spring_2012_Zinn.pdf	http://microsimulation.pub/articles/00066;
	/V5_1/4_IJM_5_1_spring_2012_Li_ODonoghue.pdf	http://microsimulation.pub/articles/00067;
	/V5_2/0_IJM_5_2_fall_2012_editorial_Dekkers.pdf	http://microsimulation.pub/articles/00068;
	/V5_2/1_IJM_5_2_Ericson_Flood.pdf	http://microsimulation.pub/articles/00069;
	/V5_2/2_IJM_5_2_Jousten_perelman_Sigismondi_Tarantchenko.pdf	http://microsimulation.pub/articles/00070;
	/V5_2/3_IJM_5_2_Buddelmeyer_herault_kalb_vanzijlldejong.pdf	http://microsimulation.pub/articles/00071;
	/V5_2/4_IJM_5_2_Dekkers_Cumpston.pdf	http://microsimulation.pub/articles/00072;
	/V5_2/5_IJM_5_2_note_Flory_Stowhase_clean.pdf	http://microsimulation.pub/articles/00073;
	/V6_1/1_IJM_6_1_Editorial_Figari_Tasseva.pdf	http://microsimulation.pub/articles/00074;
	/V6_1/2_IJM_6_1_Sutherland_Figari.pdf	http://microsimulation.pub/articles/00075;
	/V6_1/3_IJM_6_1_Jara_Tumino.pdf	http://microsimulation.pub/articles/00076;
	/V6_1/4_IJM_6_1_Levy_Matsaganis_Sutherland.pdf	http://microsimulation.pub/articles/00077;
	/V6_1/5_IJM_6_1_Ceriani_Fiorio_Gigliarano.pdf	http://microsimulation.pub/articles/00078;
	/V6_1/6_IJM_6_1_Popova.pdf	http://microsimulation.pub/articles/00079;
	/V6_1/7_IJM_6_1_Randelovic_Rakic.pdf	http://microsimulation.pub/articles/00080;
	/V6_2/1_IJM_6_2_2013_Editorial_Dekkers.pdf	http://microsimulation.pub/articles/00081;
	/V6_2/2_IJM_6_2_2013_Li_Odonoghue.pdf	http://microsimulation.pub/articles/00082;
	/V6_2/3_IJM_6_2_2013_Lawson.pdf	http://microsimulation.pub/articles/00083;
	/V6_2/4_IJM_6_2_2013_Tedeschi_Pisano_Mazzaferro_Morciano.pdf	http://microsimulation.pub/articles/00084;
	/V6_3/1_IJM_6_3_2013_Editorial_Dekkers.pdf	http://microsimulation.pub/articles/00085;
	/V6_3/2_IJM_6_3_2013_Bach_Haan_Ochmann.pdf	http://microsimulation.pub/articles/00086;
	/V6_3/3_IJM_6_3_2013_Colombino.pdf	http://microsimulation.pub/articles/00087;
	/V6_3/4_IJM_6_3_2013_goedeme.pdf	http://microsimulation.pub/articles/00088;
	/V6_3/5_IJM_6_3_2013_Cordova.pdf	http://microsimulation.pub/articles/00089;
	/V6_3/5_IJM_6_3_2013_Book_Review_Maes.pdf	http://microsimulation.pub/articles/00090;
	/V7_1/1_IJM_7_1_Tanton_intro.pdf	http://microsimulation.pub/articles/00091;
	/V7_1/2-IJM_7_1_Tanton_.pdf	http://microsimulation.pub/articles/00092;
	/V7_1/3_IJM_7_1_oDonoghue_Morrissey_Lennon.pdf	http://microsimulation.pub/articles/00093;
	/V7_1/4_IJM_7_1_Tanton_Williamson_Harding.pdf	http://microsimulation.pub/articles/00094;
	/V7_1/5_IJM_7_1_Vidityama_Rao_Mohanty_Tanton.pdf	http://microsimulation.pub/articles/00095;
	/V7_1/6_IJM_7_1_Munoz_Peters.pdf	http://microsimulation.pub/articles/00096;
	/V7_1/7_IJM_7_1_Marois_Belanger.pdf	http://microsimulation.pub/articles/00097;
	/V7_2/1_IJM_7_2_2014_Editorial_Dekkers.pdf	http://microsimulation.pub/articles/00098;
	/V7_2/2_IJM_7_2_2014_Richiardi-Poggi.pdf	http://microsimulation.pub/articles/00099;
	/V7_2/3_IJM_7_2_2014_Siemers.pdf	http://microsimulation.pub/articles/00100;
	/V7_2/4_IJM_7_2_2014_Schofield_et_al.pdf	http://microsimulation.pub/articles/00101;
	/V7_2/5_IJM_7_2_2014_Rogers_et_al.pdf	http://microsimulation.pub/articles/00102;
	/V7_2/6_IJM_7_2_2014_Review_Walker_Butler_Colagiuri_KvdB.pdf	http://microsimulation.pub/articles/00103;
	/V7_3/1_IJM_7_3_2014_Editorial_Dekkers.pdf	http://microsimulation.pub/articles/00104;
	/V7_3/2_IJM_7_3_Zinn.pdf	http://microsimulation.pub/articles/00105;
	/V7_3/3_IJM_7_3_Carter_Schofield_Shrestha.pdf	http://microsimulation.pub/articles/00106;
	/V7_3/4_IJM_7_3_Michelangeli_Pietrunti.pdf	http://microsimulation.pub/articles/00107;
	/V7_3/4app_IJM_7_3_Michelangeli_Pietrunti_appendix.pdf	http://microsimulation.pub/articles/00107#A1;
	/V7_3/5_IJM_7_3_Review_Dekkers_keegan_ODonoghue.pdf	http://microsimulation.pub/articles/00108;
	/V8_1/1_IJM_8_1_2015_Editorial_Dekkers.pdf	http://microsimulation.pub/articles/00109;
	/V8_1/2_IJM_8_1_Frommert.pdf	http://microsimulation.pub/articles/00110;
	/V8_1/3_IJM_8_1_Myck_Najsztub.pdf	http://microsimulation.pub/articles/00111;
	/V8_1/4_IJM_8_1_Sabourin_Belanger.pdf	http://microsimulation.pub/articles/00112;
	/V8_1/5_IJM_8_1_Dekkers.pdf	http://microsimulation.pub/articles/00113;
	/V8_2/1_IJM_8_2_2015_Editorial_Dekkers.pdf	http://microsimulation.pub/articles/00114;
	/V8_2/2_IJM_8_2_2015_Wiemers.pdf	http://microsimulation.pub/articles/00115;
	/V8_2/3_Milne_Lay-Yee_McLay_Pearson_vRandow_Davis.pdf	http://microsimulation.pub/articles/00116;
#	/V8_2/3app_Milne_Lay-Yee_McLay_Pearson_vRandow_Davis_appendix.pdf ;
	/V8_2/4_McLay_Lay-Yee_Milne_Davis.pdf	http://microsimulation.pub/articles/00117;
	/V8_2/4app_McLay_Lay-Yee_Milne_Davis_appendix.pdf	http://microsimulation.pub/articles/00117#a1;
	/V8_2/5_Miranti_Cassells_Vidyattama_McNamara.pdf	http://microsimulation.pub/articles/00118;
	/V8_3/IJM_8_3_2015_Editorial.pdf	http://microsimulation.pub/articles/00119;
	/V8_3/IJM_8_3_2015_Cao.pdf	http://microsimulation.pub/articles/00120;
	/V8_3/IJM_8_3_2015_Hennessy.pdf	http://microsimulation.pub/articles/00121;
	/V8_3/IJM_8_3_2015_Tikanmaki.pdf	http://microsimulation.pub/articles/00122;
	/V8_3/IJM_8_3_2015_Albarea.pdf	http://microsimulation.pub/articles/00123;
	/V8_3/IJM_8_3_2015_Li.pdf	http://microsimulation.pub/articles/00124;
	/V9_1/IJM_9_1_2016_Editorial.pdf	http://microsimulation.pub/articles/00125;
	/V9_1/IJM_9_1_2016_Cockburn.pdf	http://microsimulation.pub/articles/00126;
	/V9_1/IJM_9_1_2016_Cicowiez.pdf	http://microsimulation.pub/articles/00127;
	/V9_1/IJM_9_1_2016_Cury.pdf	http://microsimulation.pub/articles/00128;
	/V9_1/IJM_9_1_2016_Beyene.pdf	http://microsimulation.pub/articles/00129;
	/V9_1/IJM_9_1_2016_Kebede.pdf	http://microsimulation.pub/articles/00130;
	/V9_1/IJM_9_1_2016_Llambi.pdf	http://microsimulation.pub/articles/00131;
	/V9_1/IJM_9_1_2016_Peichl.pdf	http://microsimulation.pub/articles/00132;
	/V9_2/IJM_9_2_2016_Editorial.pdf	http://microsimulation.pub/articles/00133;
	/V9_2/IJM_9_2_2016_Levell.pdf	http://microsimulation.pub/articles/00134;
	/V9_2/IJM_9_2_2016_Loughrey.pdf	http://microsimulation.pub/articles/00135;
	/V9_2/IJM_9_2_2016_Siebertova.pdf	http://microsimulation.pub/articles/00136;
	/V9_2/IJM_9_2_2016_Timmins.pdf	http://microsimulation.pub/articles/00137;
	/V9_2/IJM_9_2_2016_Kilgarriff.pdf	http://microsimulation.pub/articles/00138;
	/V9_2/IJM_9_2_2016_Capeau.pdf	http://microsimulation.pub/articles/00139;
	/V9_3/0_IJM_9_3_2016_Editorial.pdf	http://microsimulation.pub/articles/00140;
	/V9_3/1_IJM_2015_22_Vandelannoote_edit_final.pdf	http://microsimulation.pub/articles/00141;
	/V9_3/2_IJM_2015_23_Kuypers_edit_final.pdf	http://microsimulation.pub/articles/00142;
	/V9_3/3_IJM_2015_31_Munoz_edit_final.pdf	http://microsimulation.pub/articles/00143;
	/V9_3/4_IJM_2015_18_Stephensen_edit_final.pdf	http://microsimulation.pub/articles/00144;
	/V9_3/5_IJM_2016_08_Schofield_edit_final.pdf	http://microsimulation.pub/articles/00145;
	/V9_3/6_IJM_2016_21_Ritter_edit_final.pdf	http://microsimulation.pub/articles/00146;
	/V10_1/IJM_2017_10_1_0.pdf	http://microsimulation.pub/articles/00147;
	/V10_1/IJM_2017_10_1_1.pdf	http://microsimulation.pub/articles/00148;
	/V10_1/IJM_2017_10_1_2.pdf	http://microsimulation.pub/articles/00149;
	/V10_1/IJM_2017_10_1_3.pdf	http://microsimulation.pub/articles/00150;
	/V10_1/IJM_2017_10_1_4.pdf	http://microsimulation.pub/articles/00151;
	/V10_1/IJM_2017_10_1_5.pdf	http://microsimulation.pub/articles/00152;
	/V10_1/IJM_2017_10_1_6.pdf	http://microsimulation.pub/articles/00153;
	/V10_1/IJM_2017_10_1_7.pdf	http://microsimulation.pub/articles/00154;
	/V10_2/IJM_2017_10_2_0.pdf	http://microsimulation.pub/articles/00155;
	/V10_2/IJM_2017_10_2_1.pdf	http://microsimulation.pub/articles/00156;
	/V10_2/IJM_2017_10_2_2.pdf	http://microsimulation.pub/articles/00157;
	/V10_2/IJM_2017_10_2_3.pdf	http://microsimulation.pub/articles/00158;
	/V10_2/IJM_2017_10_2_4.pdf	http://microsimulation.pub/articles/00159;
	/V10_2/IJM_2017_10_2_5.pdf	http://microsimulation.pub/articles/00160;
	/V10_2/IJM_2017_10_2_6.pdf	http://microsimulation.pub/articles/00161;
	/V10_2/IJM_2017_10_2_7.pdf	http://microsimulation.pub/articles/00162;
	/V10_3/IJM_2017_10_3_0.pdf	http://microsimulation.pub/articles/00163;
	/V10_3/IJM_2017_10_3_1.pdf	http://microsimulation.pub/articles/00164;
	/V10_3/IJM_2017_10_3_2.pdf	http://microsimulation.pub/articles/00165;
	/V10_3/IJM_2017_10_3_2a.pdf	http://microsimulation.pub/articles/00165#a1;
	/V10_3/IJM_2017_10_3_3.pdf	http://microsimulation.pub/articles/00166;
	/V10_3/IJM_2017_10_3_4.pdf	http://microsimulation.pub/articles/00167;
	/V10_3/IJM_2017_10_3_5.pdf	http://microsimulation.pub/articles/00168;
	/V10_3/IJM_2017_10_3_5a.pdf	http://microsimulation.pub/articles/00168#a1;
	/V10_3/IJM_2017_10_3_6.pdf	http://microsimulation.pub/articles/00169;
	/V10_3/IJM_2017_10_3_7.pdf	http://microsimulation.pub/articles/00170;
	/V10_3/IJM_2017_10_3_8.pdf	http://microsimulation.pub/articles/00171;
	/V11_1/IJM_11_1_0.pdf	http://microsimulation.pub/articles/00172;
	/V11_1/IJM_11_1_1.pdf	http://microsimulation.pub/articles/00173;
	/V11_1/IJM_11_1_2.pdf	http://microsimulation.pub/articles/00174;
	/V11_1/IJM_11_1_3.pdf	http://microsimulation.pub/articles/00175;
	/V11_1/IJM_11_1_4.pdf	http://microsimulation.pub/articles/00176;
	/V11_1/IJM_11_1_5.pdf	http://microsimulation.pub/articles/00177;
	/V11_1/IJM_11_1_6.pdf	http://microsimulation.pub/articles/00178;
	/V11_2/IJM_11_2_0.pdf	http://microsimulation.pub/articles/00179;
	/V11_2/IJM_11_2_1.pdf	http://microsimulation.pub/articles/00180;
	/V11_2/IJM_11_2_2.pdf	http://microsimulation.pub/articles/00181;
	/V11_2/IJM_11_2_3.pdf	http://microsimulation.pub/articles/00182;
	/V11_2/IJM_11_2_4.pdf	http://microsimulation.pub/articles/00183;
	/V11_2/IJM_11_2_5.pdf	http://microsimulation.pub/articles/00184;
	/V11_2/IJM_11_2_6.pdf	http://microsimulation.pub/articles/00185;
	/V11_3/IJM_11_3_0.pdf	http://microsimulation.pub/articles/00186;
	/V11_3/IJM_11_3_1.pdf	http://microsimulation.pub/articles/00187;
	/V11_3/IJM_11_3_2.pdf	http://microsimulation.pub/articles/00188;
	/V11_3/IJM_11_3_3.pdf	http://microsimulation.pub/articles/00189;
	/V11_3/IJM_11_3_4.pdf	http://microsimulation.pub/articles/00190;
	/V11_3/IJM_11_3_5.pdf	http://microsimulation.pub/articles/00191;
	/V12_1/IJM_12_1_0.pdf	http://microsimulation.pub/articles/00192;
	/V12_1/IJM_12_1_1.pdf	http://microsimulation.pub/articles/00193;
	/V12_1/IJM_12_1_2.pdf	http://microsimulation.pub/articles/00194;
	/V12_1/IJM_12_1_3.pdf	http://microsimulation.pub/articles/00195;
	/V12_1/IJM_12_1_4.pdf	http://microsimulation.pub/articles/00196;
}

server {
    server_name localhost;
    listen 8080;
    root /app/journal;

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt { access_log off; log_not_found off; }

    location / {
        try_files $uri /app.php$is_args$query_string;
    }

    location /issues {
        return 301 http://microsimulation.pub/collections;
    }

    location /issues/ {
        rewrite (.*)\/(volume-)(\d+)(\d)(-.*)\/ http://microsimulation.pub/collections/$3-$4/$2$3-$4$5 permanent;
    }

    location ~* "^/V13_1/.*(\d{5})\.pdf$" {
        return 301 http://microsimulation.pub/articles/$1;
    }

    location ~* "^/V12_3/.*(\d{5})\.pdf$" {
        return 301 http://microsimulation.pub/articles/$1;
    }

    location ~* "^/V12_2/.*(\d{5})\.pdf$" {
        return 301 http://microsimulation.pub/articles/$1;
    }

    location  ~* "^/V1_1/IJM_1_1_(\d)\.pdf$" {
        return 301 http://microsimulation.pub/articles/0000$1;
    }

    location ~ ^/app\.php(/|$) {
        include fastcgi_params;
        internal;

        fastcgi_pass journal:9000;
        fastcgi_split_path_info ^(.+\.php)(/.*)$;

        fastcgi_param SCRIPT_FILENAME /app/web/$fastcgi_script_name;
        fastcgi_param DOCUMENT_ROOT /app/web;
    }

    if ($new_uri) {
        return 301 $new_uri;
    }

    location ~ \.php$ {
        return 404;
    }
}
